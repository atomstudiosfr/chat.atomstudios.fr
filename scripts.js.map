{"version":3,"file":"scripts.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qDAAqD;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,QAAQ;AACxD;AACA,MAAM;AACN;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF;AACrF,KAAK,IAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;;AAGA;;AAEA,2EAA2E,mDAAmD;AAC9H,uEAAuE,kDAAkD;AACzH,kFAAkF,mDAAmD;AACrI,wEAAwE,mDAAmD;AAC3H,sFAAsF,mDAAmD;AACzI,6FAA6F,mDAAmD;AAChJ,mFAAmF,mDAAmD;AACtI,8EAA8E,mDAAmD;AACjI,gFAAgF,mDAAmD;AACnI,4EAA4E,mDAAmD;AAC/H,+EAA+E,mDAAmD;;;;AAIlI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,+GAA+G;AAC/G;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;;AAEA,8EAA8E,mDAAmD;AACjI,4EAA4E,mDAAmD;AAC/H,4EAA4E,mDAAmD;AAC/H,+EAA+E,mDAAmD;;;AAGlI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,2BAA2B;AAC3B;AACA;AACA;AACA,2DAA2D;AAC3D,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sCAAsC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gCAAgC;AACnE;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA,uBAAuB,gDAAgD;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,OAAO;AACzF;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,8BAA8B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,yBAAyB;AACzB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,4BAA4B;AAC1G;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,4BAA4B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,uEAAuE,kDAAkD;AACzH,8EAA8E,mDAAmD;AACjI,8EAA8E,mDAAmD;AACjI,gFAAgF,mDAAmD;AACnI,4EAA4E,mDAAmD;AAC/H,8EAA8E,mDAAmD;AACjI,8EAA8E,mDAAmD;AACjI,6EAA6E,mDAAmD;AAChI,2EAA2E,mDAAmD;AAC9H,4EAA4E,mDAAmD;AAC/H,4EAA4E,mDAAmD;AAC/H,+EAA+E,mDAAmD;;;;AAIlI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0GAA0G;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,iBAAiB;AACjB,cAAc;AACd;AACA;AACA;AACA,iDAAiD;AACjD;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;;AAGA;;AAEA,+EAA+E,mDAAmD;AAClI,gFAAgF,mDAAmD;AACnI,4EAA4E,kDAAkD;AAC9H,4EAA4E,mDAAmD;AAC/H,2EAA2E,mDAAmD;AAC9H,gFAAgF,mDAAmD;AACnI,qFAAqF,mDAAmD;AACxI,iFAAiF,mDAAmD;AACpI,4EAA4E,mDAAmD;;AAE/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,qGAAqG,aAAa;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+EAA+E;AAC/E;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,+EAA+E,mDAAmD;AAClI,8EAA8E,mDAAmD;AACjI,kFAAkF,mDAAmD;AACrI,+EAA+E,iDAAiD;AAChI,kFAAkF,mDAAmD;AACrI,0FAA0F,mDAAmD;;;AAG7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,aAAa;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,kBAAkB,aAAa;AAC/B;AACA;AACA,cAAc,aAAa;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA;;AAEA,gEAAgE,mDAAmD,iBAAiB,uDAAuD;AAC3L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,OAAO;AAClE;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA,MAAM;AACN;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,SAAS;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,+DAA+D,YAAY;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA,oEAAoE,mDAAmD,iBAAiB,uDAAuD;AAC/L,mEAAmE,kDAAkD,iBAAiB,sDAAsD;AAC5L;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8FAA8F;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA;;AAEA,kEAAkE,mDAAmD,iBAAiB,uDAAuD;;;AAG7L;AACA;AACA;AACA;AACA,CAAC,8FAA8F;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8FAA8F;AAC/F;AACA;AACA;AACA;AACA;AACA,CAAC,4FAA4F;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8FAA8F;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8FAA8F;;;AAG/F;AACA,yCAAyC,+KAA+K,mDAAmD,iBAAiB,6DAA6D,k1FAAk1F,wEAAwE,iBAAiB,wEAAwE,+QAA+Q,mBAAmB,cAAc,WAAW,8BAA8B,WAAW,6CAA6C,wBAAwB,aAAa,wFAAwF,wBAAwB,uBAAuB,mFAAmF,qCAAqC,8BAA8B,yBAAyB,oFAAoF,qCAAqC,+BAA+B,cAAc,4eAA4e,sBAAsB,orBAAorB,mBAAmB,4HAA4H;;;AAGniL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yHAAyH,uBAAuB;AAChJ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA,2EAA2E,mDAAmD,iBAAiB,uDAAuD;;;AAGtM;;AAEA,sEAAsE,kDAAkD,iBAAiB,sDAAsD;;;;AAI/L;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sGAAsG;AACtG;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;AAID;;AAEA,0EAA0E,mDAAmD,iBAAiB,uDAAuD;;AAErM;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yGAAyG;AACzG;AACA,SAAS;AACT;AACA;AACA;AACA,6GAA6G,oBAAoB;AACjI;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA,0EAA0E,mDAAmD,iBAAiB,uDAAuD;;;;;;AAMrM;;AAEA,yEAAyE,mDAAmD,iBAAiB,uDAAuD;;;AAGpM;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG,iBAAiB;AAClH;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;AAID;;AAEA,+DAA+D,mDAAmD,iBAAiB,uDAAuD;;;;AAI1L;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,qCAAqC;AACrC,6BAA6B;AAC7B,wCAAwC;AACxC,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG,UAAU;AAC1G;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,qHAAqH,oBAAoB;AACzI;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wJAAwJ;AACxJ;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yHAAyH,uBAAuB;AAChJ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAmG,UAAU;AAC7G;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yHAAyH,uBAAuB;AAChJ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD","sources":["node_modules/peerjs/dist/peerjs.js"],"sourcesContent":["(function () {\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $0ef2edf071413141$exports = {};\nfunction $721c9139085d8798$export$2e2bcd8739ae039(obj, key, value) {\n    if (key in obj) Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n    });\n    else obj[key] = value;\n    return obj;\n}\n\nfunction $e0e2d0d3c78a6f78$export$2e2bcd8739ae039(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n\n\nfunction $a4d7f130add771c5$export$2e2bcd8739ae039(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\n\nfunction $434a694304f942e8$export$2e2bcd8739ae039() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\nfunction $d8110c644193c105$export$2e2bcd8739ae039(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n\n\nfunction $dc6241e611c806d4$export$2e2bcd8739ae039(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return $d8110c644193c105$export$2e2bcd8739ae039(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return $d8110c644193c105$export$2e2bcd8739ae039(o, minLen);\n}\n\n\nfunction $960f5a79faa92066$export$2e2bcd8739ae039(arr, i) {\n    return $e0e2d0d3c78a6f78$export$2e2bcd8739ae039(arr) || $a4d7f130add771c5$export$2e2bcd8739ae039(arr, i) || $dc6241e611c806d4$export$2e2bcd8739ae039(arr, i) || $434a694304f942e8$export$2e2bcd8739ae039();\n}\n\nfunction $4884bbc2c76f5d27$export$2e2bcd8739ae039(obj) {\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n\n\n\nvar $a06e70a249e0d6df$export$509f631d27be0664;\nvar $a06e70a249e0d6df$export$562ca14a3ed92113;\nvar $a06e70a249e0d6df$export$93654d4f2d6cd524;\nvar $a06e70a249e0d6df$var$binaryFeatures = {};\n$a06e70a249e0d6df$var$binaryFeatures.useBlobBuilder = function() {\n    try {\n        new Blob([]);\n        return false;\n    } catch (e) {\n        return true;\n    }\n}();\n$a06e70a249e0d6df$var$binaryFeatures.useArrayBufferView = !$a06e70a249e0d6df$var$binaryFeatures.useBlobBuilder && function() {\n    try {\n        return new Blob([\n            new Uint8Array([])\n        ]).size === 0;\n    } catch (e) {\n        return true;\n    }\n}();\n$a06e70a249e0d6df$export$509f631d27be0664 = $a06e70a249e0d6df$var$binaryFeatures;\nvar $a06e70a249e0d6df$var$BlobBuilder = $a06e70a249e0d6df$export$562ca14a3ed92113;\nif (typeof window !== 'undefined') $a06e70a249e0d6df$var$BlobBuilder = $a06e70a249e0d6df$export$562ca14a3ed92113 = window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder || window.BlobBuilder;\nfunction $a06e70a249e0d6df$var$BufferBuilder() {\n    this._pieces = [];\n    this._parts = [];\n}\n$a06e70a249e0d6df$var$BufferBuilder.prototype.append = function(data) {\n    if (typeof data === 'number') this._pieces.push(data);\n    else {\n        this.flush();\n        this._parts.push(data);\n    }\n};\n$a06e70a249e0d6df$var$BufferBuilder.prototype.flush = function() {\n    if (this._pieces.length > 0) {\n        var buf = new Uint8Array(this._pieces);\n        if (!$a06e70a249e0d6df$var$binaryFeatures.useArrayBufferView) buf = buf.buffer;\n        this._parts.push(buf);\n        this._pieces = [];\n    }\n};\n$a06e70a249e0d6df$var$BufferBuilder.prototype.getBuffer = function() {\n    this.flush();\n    if ($a06e70a249e0d6df$var$binaryFeatures.useBlobBuilder) {\n        var builder = new $a06e70a249e0d6df$var$BlobBuilder();\n        for(var i = 0, ii = this._parts.length; i < ii; i++)builder.append(this._parts[i]);\n        return builder.getBlob();\n    } else return new Blob(this._parts);\n};\n$a06e70a249e0d6df$export$93654d4f2d6cd524 = $a06e70a249e0d6df$var$BufferBuilder;\n\n\nvar $0ef2edf071413141$require$BufferBuilder = $a06e70a249e0d6df$export$93654d4f2d6cd524;\n\nvar $0ef2edf071413141$require$binaryFeatures = $a06e70a249e0d6df$export$509f631d27be0664;\nvar $0ef2edf071413141$var$BinaryPack = {\n    unpack: function unpack(data) {\n        var unpacker = new $0ef2edf071413141$var$Unpacker(data);\n        return unpacker.unpack();\n    },\n    pack: function pack(data) {\n        var packer = new $0ef2edf071413141$var$Packer();\n        packer.pack(data);\n        var buffer = packer.getBuffer();\n        return buffer;\n    }\n};\n$0ef2edf071413141$exports = $0ef2edf071413141$var$BinaryPack;\nfunction $0ef2edf071413141$var$Unpacker(data) {\n    // Data is ArrayBuffer\n    this.index = 0;\n    this.dataBuffer = data;\n    this.dataView = new Uint8Array(this.dataBuffer);\n    this.length = this.dataBuffer.byteLength;\n}\n$0ef2edf071413141$var$Unpacker.prototype.unpack = function() {\n    var type = this.unpack_uint8();\n    if (type < 0x80) return type;\n    else if ((type ^ 0xe0) < 0x20) return (type ^ 0xe0) - 0x20;\n    var size;\n    if ((size = type ^ 0xa0) <= 0x0f) return this.unpack_raw(size);\n    else if ((size = type ^ 0xb0) <= 0x0f) return this.unpack_string(size);\n    else if ((size = type ^ 0x90) <= 0x0f) return this.unpack_array(size);\n    else if ((size = type ^ 0x80) <= 0x0f) return this.unpack_map(size);\n    switch(type){\n        case 0xc0:\n            return null;\n        case 0xc1:\n            return undefined;\n        case 0xc2:\n            return false;\n        case 0xc3:\n            return true;\n        case 0xca:\n            return this.unpack_float();\n        case 0xcb:\n            return this.unpack_double();\n        case 0xcc:\n            return this.unpack_uint8();\n        case 0xcd:\n            return this.unpack_uint16();\n        case 0xce:\n            return this.unpack_uint32();\n        case 0xcf:\n            return this.unpack_uint64();\n        case 0xd0:\n            return this.unpack_int8();\n        case 0xd1:\n            return this.unpack_int16();\n        case 0xd2:\n            return this.unpack_int32();\n        case 0xd3:\n            return this.unpack_int64();\n        case 0xd4:\n            return undefined;\n        case 0xd5:\n            return undefined;\n        case 0xd6:\n            return undefined;\n        case 0xd7:\n            return undefined;\n        case 0xd8:\n            size = this.unpack_uint16();\n            return this.unpack_string(size);\n        case 0xd9:\n            size = this.unpack_uint32();\n            return this.unpack_string(size);\n        case 0xda:\n            size = this.unpack_uint16();\n            return this.unpack_raw(size);\n        case 0xdb:\n            size = this.unpack_uint32();\n            return this.unpack_raw(size);\n        case 0xdc:\n            size = this.unpack_uint16();\n            return this.unpack_array(size);\n        case 0xdd:\n            size = this.unpack_uint32();\n            return this.unpack_array(size);\n        case 0xde:\n            size = this.unpack_uint16();\n            return this.unpack_map(size);\n        case 0xdf:\n            size = this.unpack_uint32();\n            return this.unpack_map(size);\n    }\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_uint8 = function() {\n    var _byte = this.dataView[this.index] & 0xff;\n    this.index++;\n    return _byte;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_uint16 = function() {\n    var bytes = this.read(2);\n    var uint16 = (bytes[0] & 0xff) * 256 + (bytes[1] & 0xff);\n    this.index += 2;\n    return uint16;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_uint32 = function() {\n    var bytes = this.read(4);\n    var uint32 = ((bytes[0] * 256 + bytes[1]) * 256 + bytes[2]) * 256 + bytes[3];\n    this.index += 4;\n    return uint32;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_uint64 = function() {\n    var bytes = this.read(8);\n    var uint64 = ((((((bytes[0] * 256 + bytes[1]) * 256 + bytes[2]) * 256 + bytes[3]) * 256 + bytes[4]) * 256 + bytes[5]) * 256 + bytes[6]) * 256 + bytes[7];\n    this.index += 8;\n    return uint64;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_int8 = function() {\n    var uint8 = this.unpack_uint8();\n    return uint8 < 0x80 ? uint8 : uint8 - 256;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_int16 = function() {\n    var uint16 = this.unpack_uint16();\n    return uint16 < 0x8000 ? uint16 : uint16 - 65536;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_int32 = function() {\n    var uint32 = this.unpack_uint32();\n    return uint32 < Math.pow(2, 31) ? uint32 : uint32 - Math.pow(2, 32);\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_int64 = function() {\n    var uint64 = this.unpack_uint64();\n    return uint64 < Math.pow(2, 63) ? uint64 : uint64 - Math.pow(2, 64);\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_raw = function(size) {\n    if (this.length < this.index + size) throw new Error(\"BinaryPackFailure: index is out of range \" + this.index + ' ' + size + ' ' + this.length);\n    var buf = this.dataBuffer.slice(this.index, this.index + size);\n    this.index += size;\n    // buf = util.bufferToString(buf);\n    return buf;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_string = function(size) {\n    var bytes = this.read(size);\n    var i = 0;\n    var str = '';\n    var c;\n    var code;\n    while(i < size){\n        c = bytes[i];\n        if (c < 128) {\n            str += String.fromCharCode(c);\n            i++;\n        } else if ((c ^ 0xc0) < 32) {\n            code = (c ^ 0xc0) << 6 | bytes[i + 1] & 63;\n            str += String.fromCharCode(code);\n            i += 2;\n        } else {\n            code = (c & 15) << 12 | (bytes[i + 1] & 63) << 6 | bytes[i + 2] & 63;\n            str += String.fromCharCode(code);\n            i += 3;\n        }\n    }\n    this.index += size;\n    return str;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_array = function(size) {\n    var objects = new Array(size);\n    for(var i = 0; i < size; i++)objects[i] = this.unpack();\n    return objects;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_map = function(size) {\n    var map = {};\n    for(var i = 0; i < size; i++){\n        var key = this.unpack();\n        var value = this.unpack();\n        map[key] = value;\n    }\n    return map;\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_float = function() {\n    var uint32 = this.unpack_uint32();\n    var sign = uint32 >> 31;\n    var exp = (uint32 >> 23 & 0xff) - 127;\n    var fraction = uint32 & 0x7fffff | 0x800000;\n    return (sign === 0 ? 1 : -1) * fraction * Math.pow(2, exp - 23);\n};\n$0ef2edf071413141$var$Unpacker.prototype.unpack_double = function() {\n    var h32 = this.unpack_uint32();\n    var l32 = this.unpack_uint32();\n    var sign = h32 >> 31;\n    var exp = (h32 >> 20 & 0x7ff) - 1023;\n    var hfrac = h32 & 0xfffff | 0x100000;\n    var frac = hfrac * Math.pow(2, exp - 20) + l32 * Math.pow(2, exp - 52);\n    return (sign === 0 ? 1 : -1) * frac;\n};\n$0ef2edf071413141$var$Unpacker.prototype.read = function(length) {\n    var j = this.index;\n    if (j + length <= this.length) return this.dataView.subarray(j, j + length);\n    else throw new Error('BinaryPackFailure: read index out of range');\n};\nfunction $0ef2edf071413141$var$Packer() {\n    this.bufferBuilder = new $0ef2edf071413141$require$BufferBuilder();\n}\n$0ef2edf071413141$var$Packer.prototype.getBuffer = function() {\n    return this.bufferBuilder.getBuffer();\n};\n$0ef2edf071413141$var$Packer.prototype.pack = function(value) {\n    var type = typeof value === \"undefined\" ? \"undefined\" : $4884bbc2c76f5d27$export$2e2bcd8739ae039(value);\n    if (type === 'string') this.pack_string(value);\n    else if (type === 'number') {\n        if (Math.floor(value) === value) this.pack_integer(value);\n        else this.pack_double(value);\n    } else if (type === 'boolean') {\n        if (value === true) this.bufferBuilder.append(0xc3);\n        else if (value === false) this.bufferBuilder.append(0xc2);\n    } else if (type === 'undefined') this.bufferBuilder.append(0xc0);\n    else if (type === 'object') {\n        if (value === null) this.bufferBuilder.append(0xc0);\n        else {\n            var constructor = value.constructor;\n            if (constructor == Array) this.pack_array(value);\n            else if (constructor == Blob || constructor == File || value instanceof Blob || value instanceof File) this.pack_bin(value);\n            else if (constructor == ArrayBuffer) {\n                if ($0ef2edf071413141$require$binaryFeatures.useArrayBufferView) this.pack_bin(new Uint8Array(value));\n                else this.pack_bin(value);\n            } else if ('BYTES_PER_ELEMENT' in value) {\n                if ($0ef2edf071413141$require$binaryFeatures.useArrayBufferView) this.pack_bin(new Uint8Array(value.buffer));\n                else this.pack_bin(value.buffer);\n            } else if (constructor == Object || constructor.toString().startsWith('class')) this.pack_object(value);\n            else if (constructor == Date) this.pack_string(value.toString());\n            else if (typeof value.toBinaryPack === 'function') this.bufferBuilder.append(value.toBinaryPack());\n            else throw new Error('Type \"' + constructor.toString() + '\" not yet supported');\n        }\n    } else throw new Error('Type \"' + type + '\" not yet supported');\n    this.bufferBuilder.flush();\n};\n$0ef2edf071413141$var$Packer.prototype.pack_bin = function(blob) {\n    var length = blob.length || blob.byteLength || blob.size;\n    if (length <= 0x0f) this.pack_uint8(0xa0 + length);\n    else if (length <= 0xffff) {\n        this.bufferBuilder.append(0xda);\n        this.pack_uint16(length);\n    } else if (length <= 0xffffffff) {\n        this.bufferBuilder.append(0xdb);\n        this.pack_uint32(length);\n    } else throw new Error('Invalid length');\n    this.bufferBuilder.append(blob);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_string = function(str) {\n    var length = $0ef2edf071413141$var$utf8Length(str);\n    if (length <= 0x0f) this.pack_uint8(0xb0 + length);\n    else if (length <= 0xffff) {\n        this.bufferBuilder.append(0xd8);\n        this.pack_uint16(length);\n    } else if (length <= 0xffffffff) {\n        this.bufferBuilder.append(0xd9);\n        this.pack_uint32(length);\n    } else throw new Error('Invalid length');\n    this.bufferBuilder.append(str);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_array = function(ary) {\n    var length = ary.length;\n    if (length <= 0x0f) this.pack_uint8(0x90 + length);\n    else if (length <= 0xffff) {\n        this.bufferBuilder.append(0xdc);\n        this.pack_uint16(length);\n    } else if (length <= 0xffffffff) {\n        this.bufferBuilder.append(0xdd);\n        this.pack_uint32(length);\n    } else throw new Error('Invalid length');\n    for(var i = 0; i < length; i++)this.pack(ary[i]);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_integer = function(num) {\n    if (num >= -32 && num <= 0x7f) this.bufferBuilder.append(num & 0xff);\n    else if (num >= 0x00 && num <= 0xff) {\n        this.bufferBuilder.append(0xcc);\n        this.pack_uint8(num);\n    } else if (num >= -128 && num <= 0x7f) {\n        this.bufferBuilder.append(0xd0);\n        this.pack_int8(num);\n    } else if (num >= 0x0000 && num <= 0xffff) {\n        this.bufferBuilder.append(0xcd);\n        this.pack_uint16(num);\n    } else if (num >= -32768 && num <= 0x7fff) {\n        this.bufferBuilder.append(0xd1);\n        this.pack_int16(num);\n    } else if (num >= 0x00000000 && num <= 0xffffffff) {\n        this.bufferBuilder.append(0xce);\n        this.pack_uint32(num);\n    } else if (num >= -2147483648 && num <= 0x7fffffff) {\n        this.bufferBuilder.append(0xd2);\n        this.pack_int32(num);\n    } else if (num >= -9223372036854776000 && num <= 0x7FFFFFFFFFFFFFFF) {\n        this.bufferBuilder.append(0xd3);\n        this.pack_int64(num);\n    } else if (num >= 0x0000000000000000 && num <= 0xFFFFFFFFFFFFFFFF) {\n        this.bufferBuilder.append(0xcf);\n        this.pack_uint64(num);\n    } else throw new Error('Invalid integer');\n};\n$0ef2edf071413141$var$Packer.prototype.pack_double = function(num) {\n    var sign = 0;\n    if (num < 0) {\n        sign = 1;\n        num = -num;\n    }\n    var exp = Math.floor(Math.log(num) / Math.LN2);\n    var frac0 = num / Math.pow(2, exp) - 1;\n    var frac1 = Math.floor(frac0 * Math.pow(2, 52));\n    var b32 = Math.pow(2, 32);\n    var h32 = sign << 31 | exp + 1023 << 20 | frac1 / b32 & 0x0fffff;\n    var l32 = frac1 % b32;\n    this.bufferBuilder.append(0xcb);\n    this.pack_int32(h32);\n    this.pack_int32(l32);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_object = function(obj) {\n    var keys = Object.keys(obj);\n    var length = keys.length;\n    if (length <= 0x0f) this.pack_uint8(0x80 + length);\n    else if (length <= 0xffff) {\n        this.bufferBuilder.append(0xde);\n        this.pack_uint16(length);\n    } else if (length <= 0xffffffff) {\n        this.bufferBuilder.append(0xdf);\n        this.pack_uint32(length);\n    } else throw new Error('Invalid length');\n    for(var prop in obj)if (obj.hasOwnProperty(prop)) {\n        this.pack(prop);\n        this.pack(obj[prop]);\n    }\n};\n$0ef2edf071413141$var$Packer.prototype.pack_uint8 = function(num) {\n    this.bufferBuilder.append(num);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_uint16 = function(num) {\n    this.bufferBuilder.append(num >> 8);\n    this.bufferBuilder.append(num & 0xff);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_uint32 = function(num) {\n    var n = num & 0xffffffff;\n    this.bufferBuilder.append((n & 0xff000000) >>> 24);\n    this.bufferBuilder.append((n & 0x00ff0000) >>> 16);\n    this.bufferBuilder.append((n & 0x0000ff00) >>> 8);\n    this.bufferBuilder.append(n & 0x000000ff);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_uint64 = function(num) {\n    var high = num / Math.pow(2, 32);\n    var low = num % Math.pow(2, 32);\n    this.bufferBuilder.append((high & 0xff000000) >>> 24);\n    this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\n    this.bufferBuilder.append((high & 0x0000ff00) >>> 8);\n    this.bufferBuilder.append(high & 0x000000ff);\n    this.bufferBuilder.append((low & 0xff000000) >>> 24);\n    this.bufferBuilder.append((low & 0x00ff0000) >>> 16);\n    this.bufferBuilder.append((low & 0x0000ff00) >>> 8);\n    this.bufferBuilder.append(low & 0x000000ff);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_int8 = function(num) {\n    this.bufferBuilder.append(num & 0xff);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_int16 = function(num) {\n    this.bufferBuilder.append((num & 0xff00) >> 8);\n    this.bufferBuilder.append(num & 0xff);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_int32 = function(num) {\n    this.bufferBuilder.append(num >>> 24 & 0xff);\n    this.bufferBuilder.append((num & 0x00ff0000) >>> 16);\n    this.bufferBuilder.append((num & 0x0000ff00) >>> 8);\n    this.bufferBuilder.append(num & 0x000000ff);\n};\n$0ef2edf071413141$var$Packer.prototype.pack_int64 = function(num) {\n    var high = Math.floor(num / Math.pow(2, 32));\n    var low = num % Math.pow(2, 32);\n    this.bufferBuilder.append((high & 0xff000000) >>> 24);\n    this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\n    this.bufferBuilder.append((high & 0x0000ff00) >>> 8);\n    this.bufferBuilder.append(high & 0x000000ff);\n    this.bufferBuilder.append((low & 0xff000000) >>> 24);\n    this.bufferBuilder.append((low & 0x00ff0000) >>> 16);\n    this.bufferBuilder.append((low & 0x0000ff00) >>> 8);\n    this.bufferBuilder.append(low & 0x000000ff);\n};\nfunction $0ef2edf071413141$var$_utf8Replace(m) {\n    var code = m.charCodeAt(0);\n    if (code <= 0x7ff) return '00';\n    if (code <= 0xffff) return '000';\n    if (code <= 0x1fffff) return '0000';\n    if (code <= 0x3ffffff) return '00000';\n    return '000000';\n}\nfunction $0ef2edf071413141$var$utf8Length(str) {\n    if (str.length > 600) // Blob method faster for large strings\n    return new Blob([\n        str\n    ]).size;\n    else return str.replace(/[^\\u0000-\\u007F]/g, $0ef2edf071413141$var$_utf8Replace).length;\n}\n\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nvar $993722e8c7a9e5a7$var$logDisabled_ = true;\nvar $993722e8c7a9e5a7$var$deprecationWarnings_ = true;\nfunction $993722e8c7a9e5a7$export$e3c02be309be1f23(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n}\nfunction $993722e8c7a9e5a7$export$1f48841962b828b1(window, eventNameToWrap, wrapper) {\n    if (!window.RTCPeerConnection) return;\n    var proto = window.RTCPeerConnection.prototype;\n    var nativeAddEventListener = proto.addEventListener;\n    proto.addEventListener = function(nativeEventName, cb) {\n        if (nativeEventName !== eventNameToWrap) return nativeAddEventListener.apply(this, arguments);\n        var wrappedCallback = function(e) {\n            var modifiedEvent = wrapper(e);\n            if (modifiedEvent) {\n                if (cb.handleEvent) cb.handleEvent(modifiedEvent);\n                else cb(modifiedEvent);\n            }\n        };\n        this._eventMap = this._eventMap || {};\n        if (!this._eventMap[eventNameToWrap]) this._eventMap[eventNameToWrap] = new Map();\n        this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n        return nativeAddEventListener.apply(this, [\n            nativeEventName,\n            wrappedCallback\n        ]);\n    };\n    var nativeRemoveEventListener = proto.removeEventListener;\n    proto.removeEventListener = function(nativeEventName, cb) {\n        if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) return nativeRemoveEventListener.apply(this, arguments);\n        if (!this._eventMap[eventNameToWrap].has(cb)) return nativeRemoveEventListener.apply(this, arguments);\n        var unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n        this._eventMap[eventNameToWrap][\"delete\"](cb);\n        if (this._eventMap[eventNameToWrap].size === 0) delete this._eventMap[eventNameToWrap];\n        if (Object.keys(this._eventMap).length === 0) delete this._eventMap;\n        return nativeRemoveEventListener.apply(this, [\n            nativeEventName,\n            unwrappedCb\n        ]);\n    };\n    Object.defineProperty(proto, 'on' + eventNameToWrap, {\n        get: function() {\n            return this['_on' + eventNameToWrap];\n        },\n        set: function(cb) {\n            if (this['_on' + eventNameToWrap]) {\n                this.removeEventListener(eventNameToWrap, this['_on' + eventNameToWrap]);\n                delete this['_on' + eventNameToWrap];\n            }\n            if (cb) this.addEventListener(eventNameToWrap, this['_on' + eventNameToWrap] = cb);\n        },\n        enumerable: true,\n        configurable: true\n    });\n}\nfunction $993722e8c7a9e5a7$export$afbfee8cc06fd3e4(bool) {\n    if (typeof bool !== 'boolean') return new Error('Argument type: ' + (typeof bool === \"undefined\" ? \"undefined\" : $4884bbc2c76f5d27$export$2e2bcd8739ae039(bool)) + '. Please use a boolean.');\n    $993722e8c7a9e5a7$var$logDisabled_ = bool;\n    return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n}\nfunction $993722e8c7a9e5a7$export$51516be4b019e41e(bool) {\n    if (typeof bool !== 'boolean') return new Error('Argument type: ' + (typeof bool === \"undefined\" ? \"undefined\" : $4884bbc2c76f5d27$export$2e2bcd8739ae039(bool)) + '. Please use a boolean.');\n    $993722e8c7a9e5a7$var$deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\nfunction $993722e8c7a9e5a7$export$bef1f36f5486a6a3() {\n    if (typeof window === 'object') {\n        if ($993722e8c7a9e5a7$var$logDisabled_) return;\n        if (typeof console !== 'undefined' && typeof console.log === 'function') console.log.apply(console, arguments);\n    }\n}\nfunction $993722e8c7a9e5a7$export$cdd73fc4100a6ef4(oldMethod, newMethod) {\n    if (!$993722e8c7a9e5a7$var$deprecationWarnings_) return;\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod + ' instead.');\n}\nfunction $993722e8c7a9e5a7$export$2d31490a0c05f094(window) {\n    // Returned result object.\n    var result = {\n        browser: null,\n        version: null\n    };\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n        result.browser = 'Not a browser.';\n        return result;\n    }\n    var navigator = window.navigator;\n    if (navigator.mozGetUserMedia) {\n        result.browser = 'firefox';\n        result.version = $993722e8c7a9e5a7$export$e3c02be309be1f23(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia || window.isSecureContext === false && window.webkitRTCPeerConnection && !window.RTCIceGatherer) {\n        // Chrome, Chromium, Webview, Opera.\n        // Version matches Chrome/WebRTC version.\n        // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n        // more complicated fallback to webkitRTCPeerConnection.\n        result.browser = 'chrome';\n        result.version = $993722e8c7a9e5a7$export$e3c02be309be1f23(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    } else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n        result.browser = 'edge';\n        result.version = $993722e8c7a9e5a7$export$e3c02be309be1f23(navigator.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (window.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        result.browser = 'safari';\n        result.version = $993722e8c7a9e5a7$export$e3c02be309be1f23(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n        result.supportsUnifiedPlan = window.RTCRtpTransceiver && 'currentDirection' in window.RTCRtpTransceiver.prototype;\n    } else {\n        result.browser = 'Not a supported browser.';\n        return result;\n    }\n    return result;\n}\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */ function $993722e8c7a9e5a7$var$isObject(val) {\n    return Object.prototype.toString.call(val) === '[object Object]';\n}\nfunction $993722e8c7a9e5a7$export$15384eac40dc88c8(data) {\n    if (!$993722e8c7a9e5a7$var$isObject(data)) return data;\n    return Object.keys(data).reduce(function(accumulator, key) {\n        var isObj = $993722e8c7a9e5a7$var$isObject(data[key]);\n        var value = isObj ? $993722e8c7a9e5a7$export$15384eac40dc88c8(data[key]) : data[key];\n        var isEmptyObject = isObj && !Object.keys(value).length;\n        if (value === undefined || isEmptyObject) return accumulator;\n        return Object.assign(accumulator, $721c9139085d8798$export$2e2bcd8739ae039({}, key, value));\n    }, {});\n}\nfunction $993722e8c7a9e5a7$export$571b373e75babb58(stats, base, resultSet) {\n    if (!base || resultSet.has(base.id)) return;\n    resultSet.set(base.id, base);\n    Object.keys(base).forEach(function(name) {\n        if (name.endsWith('Id')) $993722e8c7a9e5a7$export$571b373e75babb58(stats, stats.get(base[name]), resultSet);\n        else if (name.endsWith('Ids')) base[name].forEach(function(id) {\n            $993722e8c7a9e5a7$export$571b373e75babb58(stats, stats.get(id), resultSet);\n        });\n    });\n}\nfunction $993722e8c7a9e5a7$export$93439ffc3f787d51(result, track, outbound) {\n    var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n    var filteredResult = new Map();\n    if (track === null) return filteredResult;\n    var trackStats = [];\n    result.forEach(function(value) {\n        if (value.type === 'track' && value.trackIdentifier === track.id) trackStats.push(value);\n    });\n    trackStats.forEach(function(trackStat) {\n        result.forEach(function(stats) {\n            if (stats.type === streamStatsType && stats.trackId === trackStat.id) $993722e8c7a9e5a7$export$571b373e75babb58(result, stats, filteredResult);\n        });\n    });\n    return filteredResult;\n}\n\n\nvar $ef7fa8125ed93bad$exports = {};\n\n$parcel$export($ef7fa8125ed93bad$exports, \"shimMediaStream\", function () { return $ef7fa8125ed93bad$export$33ee24e7a300bcd1; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimOnTrack\", function () { return $ef7fa8125ed93bad$export$f358708f68ab068; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimGetSendersWithDtmf\", function () { return $ef7fa8125ed93bad$export$a41a030a2842f5d6; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimGetStats\", function () { return $ef7fa8125ed93bad$export$90608323826f0b17; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimSenderReceiverGetStats\", function () { return $ef7fa8125ed93bad$export$f2f0f2338114eb4b; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimAddTrackRemoveTrackWithNative\", function () { return $ef7fa8125ed93bad$export$30e3cdd46f8d5100; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimAddTrackRemoveTrack\", function () { return $ef7fa8125ed93bad$export$9588259fcf4ebc91; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimPeerConnection\", function () { return $ef7fa8125ed93bad$export$852a08dda9a55ea7; });\n$parcel$export($ef7fa8125ed93bad$exports, \"fixNegotiationNeeded\", function () { return $ef7fa8125ed93bad$export$341293bbeaae37cb; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimGetUserMedia\", function () { return $20aedc9b1b297154$export$1ed4910f4d37dc5e; });\n$parcel$export($ef7fa8125ed93bad$exports, \"shimGetDisplayMedia\", function () { return $010acafe3c691bc6$export$97270b87351d9c04; });\n\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nvar $20aedc9b1b297154$var$logging = $993722e8c7a9e5a7$export$bef1f36f5486a6a3;\nfunction $20aedc9b1b297154$export$1ed4910f4d37dc5e(window, browserDetails) {\n    var navigator = window && window.navigator;\n    if (!navigator.mediaDevices) return;\n    var constraintsToChrome_ = function constraintsToChrome_(c) {\n        if (typeof c !== 'object' || c.mandatory || c.optional) return c;\n        var cc = {};\n        Object.keys(c).forEach(function(key) {\n            if (key === 'require' || key === 'advanced' || key === 'mediaSource') return;\n            var r = typeof c[key] === 'object' ? c[key] : {\n                ideal: c[key]\n            };\n            if (r.exact !== undefined && typeof r.exact === 'number') r.min = r.max = r.exact;\n            var oldname_ = function oldname_(prefix, name) {\n                if (prefix) return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n                return name === 'deviceId' ? 'sourceId' : name;\n            };\n            if (r.ideal !== undefined) {\n                cc.optional = cc.optional || [];\n                var oc = {};\n                if (typeof r.ideal === 'number') {\n                    oc[oldname_('min', key)] = r.ideal;\n                    cc.optional.push(oc);\n                    oc = {};\n                    oc[oldname_('max', key)] = r.ideal;\n                    cc.optional.push(oc);\n                } else {\n                    oc[oldname_('', key)] = r.ideal;\n                    cc.optional.push(oc);\n                }\n            }\n            if (r.exact !== undefined && typeof r.exact !== 'number') {\n                cc.mandatory = cc.mandatory || {};\n                cc.mandatory[oldname_('', key)] = r.exact;\n            } else [\n                'min',\n                'max'\n            ].forEach(function(mix) {\n                if (r[mix] !== undefined) {\n                    cc.mandatory = cc.mandatory || {};\n                    cc.mandatory[oldname_(mix, key)] = r[mix];\n                }\n            });\n        });\n        if (c.advanced) cc.optional = (cc.optional || []).concat(c.advanced);\n        return cc;\n    };\n    var shimConstraints_ = function shimConstraints_(constraints, func) {\n        if (browserDetails.version >= 61) return func(constraints);\n        constraints = JSON.parse(JSON.stringify(constraints));\n        if (constraints && typeof constraints.audio === 'object') {\n            var remap = function remap(obj, a, b) {\n                if (a in obj && !(b in obj)) {\n                    obj[b] = obj[a];\n                    delete obj[a];\n                }\n            };\n            constraints = JSON.parse(JSON.stringify(constraints));\n            remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n            remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n            constraints.audio = constraintsToChrome_(constraints.audio);\n        }\n        if (constraints && typeof constraints.video === 'object') {\n            // Shim facingMode for mobile & surface pro.\n            var face = constraints.video.facingMode;\n            face = face && (typeof face === 'object' ? face : {\n                ideal: face\n            });\n            var getSupportedFacingModeLies = browserDetails.version < 66;\n            if (face && (face.exact === 'user' || face.exact === 'environment' || face.ideal === 'user' || face.ideal === 'environment') && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode && !getSupportedFacingModeLies)) {\n                delete constraints.video.facingMode;\n                var matches;\n                if (face.exact === 'environment' || face.ideal === 'environment') matches = [\n                    'back',\n                    'rear'\n                ];\n                else if (face.exact === 'user' || face.ideal === 'user') matches = [\n                    'front'\n                ];\n                if (matches) // Look for matches in label, or use last cam for back (typical).\n                return navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                    devices = devices.filter(function(d) {\n                        return d.kind === 'videoinput';\n                    });\n                    var dev = devices.find(function(d) {\n                        return matches.some(function(match) {\n                            return d.label.toLowerCase().includes(match);\n                        });\n                    });\n                    if (!dev && devices.length && matches.includes('back')) dev = devices[devices.length - 1]; // more likely the back cam\n                    if (dev) constraints.video.deviceId = face.exact ? {\n                        exact: dev.deviceId\n                    } : {\n                        ideal: dev.deviceId\n                    };\n                    constraints.video = constraintsToChrome_(constraints.video);\n                    $20aedc9b1b297154$var$logging('chrome: ' + JSON.stringify(constraints));\n                    return func(constraints);\n                });\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n        }\n        $20aedc9b1b297154$var$logging('chrome: ' + JSON.stringify(constraints));\n        return func(constraints);\n    };\n    var shimError_ = function shimError_(e) {\n        if (browserDetails.version >= 64) return e;\n        return {\n            name: ({\n                PermissionDeniedError: 'NotAllowedError',\n                PermissionDismissedError: 'NotAllowedError',\n                InvalidStateError: 'NotAllowedError',\n                DevicesNotFoundError: 'NotFoundError',\n                ConstraintNotSatisfiedError: 'OverconstrainedError',\n                TrackStartError: 'NotReadableError',\n                MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n                MediaDeviceKillSwitchOn: 'NotAllowedError',\n                TabCaptureError: 'AbortError',\n                ScreenCaptureError: 'AbortError',\n                DeviceCaptureError: 'AbortError'\n            })[e.name] || e.name,\n            message: e.message,\n            constraint: e.constraint || e.constraintName,\n            toString: function() {\n                return this.name + (this.message && ': ') + this.message;\n            }\n        };\n    };\n    var getUserMedia_ = function getUserMedia_(constraints, onSuccess, onError) {\n        shimConstraints_(constraints, function(c) {\n            navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n                if (onError) onError(shimError_(e));\n            });\n        });\n    };\n    navigator.getUserMedia = getUserMedia_.bind(navigator);\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    if (navigator.mediaDevices.getUserMedia) {\n        var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n        navigator.mediaDevices.getUserMedia = function(cs) {\n            return shimConstraints_(cs, function(c) {\n                return origGetUserMedia(c).then(function(stream) {\n                    if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {\n                        stream.getTracks().forEach(function(track) {\n                            track.stop();\n                        });\n                        throw new DOMException('', 'NotFoundError');\n                    }\n                    return stream;\n                }, function(e) {\n                    return Promise.reject(shimError_(e));\n                });\n            });\n        };\n    }\n}\n\n\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $010acafe3c691bc6$export$97270b87351d9c04(window, getSourceId) {\n    if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) return;\n    if (!window.navigator.mediaDevices) return;\n    // getSourceId is a function that returns a promise resolving with\n    // the sourceId of the screen/window/tab to be shared.\n    if (typeof getSourceId !== 'function') {\n        console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\");\n        return;\n    }\n    window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n        return getSourceId(constraints).then(function(sourceId) {\n            var widthSpecified = constraints.video && constraints.video.width;\n            var heightSpecified = constraints.video && constraints.video.height;\n            var frameRateSpecified = constraints.video && constraints.video.frameRate;\n            constraints.video = {\n                mandatory: {\n                    chromeMediaSource: 'desktop',\n                    chromeMediaSourceId: sourceId,\n                    maxFrameRate: frameRateSpecified || 3\n                }\n            };\n            if (widthSpecified) constraints.video.mandatory.maxWidth = widthSpecified;\n            if (heightSpecified) constraints.video.mandatory.maxHeight = heightSpecified;\n            return window.navigator.mediaDevices.getUserMedia(constraints);\n        });\n    };\n}\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $ef7fa8125ed93bad$export$33ee24e7a300bcd1(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\nfunction $ef7fa8125ed93bad$export$f358708f68ab068(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype)) {\n        Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n            get: function() {\n                return this._ontrack;\n            },\n            set: function(f) {\n                if (this._ontrack) this.removeEventListener('track', this._ontrack);\n                this.addEventListener('track', this._ontrack = f);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n        window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n            if (!this._ontrackpoly) {\n                var _this = this;\n                this._ontrackpoly = function(e) {\n                    var _this1 = _this;\n                    // onaddstream does not fire when a track is added to an existing\n                    // stream. But stream.onaddtrack is implemented so we use that.\n                    e.stream.addEventListener('addtrack', function(te) {\n                        var receiver;\n                        if (window.RTCPeerConnection.prototype.getReceivers) receiver = _this1.getReceivers().find(function(r) {\n                            return r.track && r.track.id === te.track.id;\n                        });\n                        else receiver = {\n                            track: te.track\n                        };\n                        var event = new Event('track');\n                        event.track = te.track;\n                        event.receiver = receiver;\n                        event.transceiver = {\n                            receiver: receiver\n                        };\n                        event.streams = [\n                            e.stream\n                        ];\n                        _this1.dispatchEvent(event);\n                    });\n                    e.stream.getTracks().forEach(function(track) {\n                        var receiver;\n                        if (window.RTCPeerConnection.prototype.getReceivers) receiver = _this1.getReceivers().find(function(r) {\n                            return r.track && r.track.id === track.id;\n                        });\n                        else receiver = {\n                            track: track\n                        };\n                        var event = new Event('track');\n                        event.track = track;\n                        event.receiver = receiver;\n                        event.transceiver = {\n                            receiver: receiver\n                        };\n                        event.streams = [\n                            e.stream\n                        ];\n                        _this1.dispatchEvent(event);\n                    });\n                };\n                this.addEventListener('addstream', this._ontrackpoly);\n            }\n            return origSetRemoteDescription.apply(this, arguments);\n        };\n    } else // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    $993722e8c7a9e5a7$export$1f48841962b828b1(window, 'track', function(e) {\n        if (!e.transceiver) Object.defineProperty(e, 'transceiver', {\n            value: {\n                receiver: e.receiver\n            }\n        });\n        return e;\n    });\n}\nfunction $ef7fa8125ed93bad$export$a41a030a2842f5d6(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection && !('getSenders' in window.RTCPeerConnection.prototype) && 'createDTMFSender' in window.RTCPeerConnection.prototype) {\n        var shimSenderWithDtmf = function shimSenderWithDtmf(pc, track) {\n            return {\n                track: track,\n                get dtmf () {\n                    if (this._dtmf === undefined) {\n                        if (track.kind === 'audio') this._dtmf = pc.createDTMFSender(track);\n                        else this._dtmf = null;\n                    }\n                    return this._dtmf;\n                },\n                _pc: pc\n            };\n        };\n        // augment addTrack when getSenders is not available.\n        if (!window.RTCPeerConnection.prototype.getSenders) {\n            window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n                this._senders = this._senders || [];\n                return this._senders.slice(); // return a copy of the internal state.\n            };\n            var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n            window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n                var sender = origAddTrack.apply(this, arguments);\n                if (!sender) {\n                    sender = shimSenderWithDtmf(this, track);\n                    this._senders.push(sender);\n                }\n                return sender;\n            };\n            var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n            window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n                origRemoveTrack.apply(this, arguments);\n                var idx = this._senders.indexOf(sender);\n                if (idx !== -1) this._senders.splice(idx, 1);\n            };\n        }\n        var origAddStream = window.RTCPeerConnection.prototype.addStream;\n        window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n            var _this = this;\n            this._senders = this._senders || [];\n            origAddStream.apply(this, [\n                stream\n            ]);\n            stream.getTracks().forEach(function(track) {\n                _this._senders.push(shimSenderWithDtmf(_this, track));\n            });\n        };\n        var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n        window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n            var _this = this;\n            this._senders = this._senders || [];\n            origRemoveStream.apply(this, [\n                stream\n            ]);\n            stream.getTracks().forEach(function(track) {\n                var sender = _this._senders.find(function(s) {\n                    return s.track === track;\n                });\n                if (sender) _this._senders.splice(_this._senders.indexOf(sender), 1);\n            });\n        };\n    } else if (typeof window === 'object' && window.RTCPeerConnection && 'getSenders' in window.RTCPeerConnection.prototype && 'createDTMFSender' in window.RTCPeerConnection.prototype && window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n        var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n        window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n            var _this = this;\n            var senders = origGetSenders.apply(this, []);\n            senders.forEach(function(sender) {\n                return sender._pc = _this;\n            });\n            return senders;\n        };\n        Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n            get: function() {\n                if (this._dtmf === undefined) {\n                    if (this.track.kind === 'audio') this._dtmf = this._pc.createDTMFSender(this.track);\n                    else this._dtmf = null;\n                }\n                return this._dtmf;\n            }\n        });\n    }\n}\nfunction $ef7fa8125ed93bad$export$90608323826f0b17(window) {\n    if (!window.RTCPeerConnection) return;\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function getStats() {\n        var _this = this;\n        var _arguments = $960f5a79faa92066$export$2e2bcd8739ae039(arguments, 3), selector = _arguments[0], onSucc = _arguments[1], onErr = _arguments[2];\n        // If selector is a function then we are in the old style stats so just\n        // pass back the original getStats format to avoid breaking old users.\n        if (arguments.length > 0 && typeof selector === 'function') return origGetStats.apply(this, arguments);\n        // When spec-style getStats is supported, return those when called with\n        // either no arguments or the selector argument is null.\n        if (origGetStats.length === 0 && (arguments.length === 0 || typeof selector !== 'function')) return origGetStats.apply(this, []);\n        var fixChromeStats_ = function fixChromeStats_(response) {\n            var standardReport = {};\n            var reports = response.result();\n            reports.forEach(function(report) {\n                var standardStats = {\n                    id: report.id,\n                    timestamp: report.timestamp,\n                    type: {\n                        localcandidate: 'local-candidate',\n                        remotecandidate: 'remote-candidate'\n                    }[report.type] || report.type\n                };\n                report.names().forEach(function(name) {\n                    standardStats[name] = report.stat(name);\n                });\n                standardReport[standardStats.id] = standardStats;\n            });\n            return standardReport;\n        };\n        // shim getStats with maplike support\n        var makeMapStats = function makeMapStats(stats) {\n            return new Map(Object.keys(stats).map(function(key) {\n                return [\n                    key,\n                    stats[key]\n                ];\n            }));\n        };\n        if (arguments.length >= 2) {\n            var successCallbackWrapper_ = function successCallbackWrapper_(response) {\n                onSucc(makeMapStats(fixChromeStats_(response)));\n            };\n            return origGetStats.apply(this, [\n                successCallbackWrapper_,\n                selector\n            ]);\n        }\n        // promise-support\n        return new Promise(function(resolve, reject) {\n            origGetStats.apply(_this, [\n                function(response) {\n                    resolve(makeMapStats(fixChromeStats_(response)));\n                },\n                reject\n            ]);\n        }).then(onSucc, onErr);\n    };\n}\nfunction $ef7fa8125ed93bad$export$f2f0f2338114eb4b(window) {\n    if (!(typeof window === 'object' && window.RTCPeerConnection && window.RTCRtpSender && window.RTCRtpReceiver)) return;\n    // shim sender stats.\n    if (!('getStats' in window.RTCRtpSender.prototype)) {\n        var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n        if (origGetSenders) window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n            var _this = this;\n            var senders = origGetSenders.apply(this, []);\n            senders.forEach(function(sender) {\n                return sender._pc = _this;\n            });\n            return senders;\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        if (origAddTrack) window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n            var sender = origAddTrack.apply(this, arguments);\n            sender._pc = this;\n            return sender;\n        };\n        window.RTCRtpSender.prototype.getStats = function getStats() {\n            var sender = this;\n            return this._pc.getStats().then(function(result) {\n                return(/* Note: this will include stats of all senders that\n         *   send a track with the same id as sender.track as\n         *   it is not possible to identify the RTCRtpSender.\n         */ $993722e8c7a9e5a7$export$93439ffc3f787d51(result, sender.track, true));\n            });\n        };\n    }\n    // shim receiver stats.\n    if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n        var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n        if (origGetReceivers) window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n            var _this = this;\n            var receivers = origGetReceivers.apply(this, []);\n            receivers.forEach(function(receiver) {\n                return receiver._pc = _this;\n            });\n            return receivers;\n        };\n        $993722e8c7a9e5a7$export$1f48841962b828b1(window, 'track', function(e) {\n            e.receiver._pc = e.srcElement;\n            return e;\n        });\n        window.RTCRtpReceiver.prototype.getStats = function getStats() {\n            var receiver = this;\n            return this._pc.getStats().then(function(result) {\n                return $993722e8c7a9e5a7$export$93439ffc3f787d51(result, receiver.track, false);\n            });\n        };\n    }\n    if (!('getStats' in window.RTCRtpSender.prototype && 'getStats' in window.RTCRtpReceiver.prototype)) return;\n    // shim RTCPeerConnection.getStats(track).\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function getStats() {\n        if (arguments.length > 0 && arguments[0] instanceof window.MediaStreamTrack) {\n            var track = arguments[0];\n            var sender;\n            var receiver;\n            var err;\n            this.getSenders().forEach(function(s) {\n                if (s.track === track) {\n                    if (sender) err = true;\n                    else sender = s;\n                }\n            });\n            this.getReceivers().forEach(function(r) {\n                if (r.track === track) {\n                    if (receiver) err = true;\n                    else receiver = r;\n                }\n                return r.track === track;\n            });\n            if (err || sender && receiver) return Promise.reject(new DOMException('There are more than one sender or receiver for the track.', 'InvalidAccessError'));\n            else if (sender) return sender.getStats();\n            else if (receiver) return receiver.getStats();\n            return Promise.reject(new DOMException('There is no sender or receiver for the track.', 'InvalidAccessError'));\n        }\n        return origGetStats.apply(this, arguments);\n    };\n}\nfunction $ef7fa8125ed93bad$export$30e3cdd46f8d5100(window) {\n    // shim addTrack/removeTrack with native variants in order to make\n    // the interactions with legacy getLocalStreams behave as in other browsers.\n    // Keeps a mapping stream.id => [stream, rtpsenders...]\n    window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n        var _this = this;\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        return Object.keys(this._shimmedLocalStreams).map(function(streamId) {\n            return _this._shimmedLocalStreams[streamId][0];\n        });\n    };\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n        if (!stream) return origAddTrack.apply(this, arguments);\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        var sender = origAddTrack.apply(this, arguments);\n        if (!this._shimmedLocalStreams[stream.id]) this._shimmedLocalStreams[stream.id] = [\n            stream,\n            sender\n        ];\n        else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) this._shimmedLocalStreams[stream.id].push(sender);\n        return sender;\n    };\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n        var _this = this;\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        stream.getTracks().forEach(function(track) {\n            var alreadyExists = _this.getSenders().find(function(s) {\n                return s.track === track;\n            });\n            if (alreadyExists) throw new DOMException('Track already exists.', 'InvalidAccessError');\n        });\n        var existingSenders = this.getSenders();\n        origAddStream.apply(this, arguments);\n        var newSenders = this.getSenders().filter(function(newSender) {\n            return existingSenders.indexOf(newSender) === -1;\n        });\n        this._shimmedLocalStreams[stream.id] = [\n            stream\n        ].concat(newSenders);\n    };\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        delete this._shimmedLocalStreams[stream.id];\n        return origRemoveStream.apply(this, arguments);\n    };\n    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n    window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n        var _this = this;\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        if (sender) Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {\n            var idx = _this._shimmedLocalStreams[streamId].indexOf(sender);\n            if (idx !== -1) _this._shimmedLocalStreams[streamId].splice(idx, 1);\n            if (_this._shimmedLocalStreams[streamId].length === 1) delete _this._shimmedLocalStreams[streamId];\n        });\n        return origRemoveTrack.apply(this, arguments);\n    };\n}\nfunction $ef7fa8125ed93bad$export$9588259fcf4ebc91(window, browserDetails) {\n    var replaceInternalStreamId = // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n        var sdp = description.sdp;\n        Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n            var externalStream = pc._reverseStreams[internalId];\n            var internalStream = pc._streams[externalStream.id];\n            sdp = sdp.replace(new RegExp(internalStream.id, 'g'), externalStream.id);\n        });\n        return new RTCSessionDescription({\n            type: description.type,\n            sdp: sdp\n        });\n    };\n    var replaceExternalStreamId = function replaceExternalStreamId(pc, description) {\n        var sdp = description.sdp;\n        Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n            var externalStream = pc._reverseStreams[internalId];\n            var internalStream = pc._streams[externalStream.id];\n            sdp = sdp.replace(new RegExp(externalStream.id, 'g'), internalStream.id);\n        });\n        return new RTCSessionDescription({\n            type: description.type,\n            sdp: sdp\n        });\n    };\n    if (!window.RTCPeerConnection) return;\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack && browserDetails.version >= 65) return $ef7fa8125ed93bad$export$30e3cdd46f8d5100(window);\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype.getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n        var _this = this;\n        var nativeStreams = origGetLocalStreams.apply(this);\n        this._reverseStreams = this._reverseStreams || {};\n        return nativeStreams.map(function(stream) {\n            return _this._reverseStreams[stream.id];\n        });\n    };\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n        var _this = this;\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n        stream.getTracks().forEach(function(track) {\n            var alreadyExists = _this.getSenders().find(function(s) {\n                return s.track === track;\n            });\n            if (alreadyExists) throw new DOMException('Track already exists.', 'InvalidAccessError');\n        });\n        // Add identity mapping for consistency with addTrack.\n        // Unless this is being used with a stream from addTrack.\n        if (!this._reverseStreams[stream.id]) {\n            var newStream = new window.MediaStream(stream.getTracks());\n            this._streams[stream.id] = newStream;\n            this._reverseStreams[newStream.id] = stream;\n            stream = newStream;\n        }\n        origAddStream.apply(this, [\n            stream\n        ]);\n    };\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n        origRemoveStream.apply(this, [\n            this._streams[stream.id] || stream\n        ]);\n        delete this._reverseStreams[this._streams[stream.id] ? this._streams[stream.id].id : stream.id];\n        delete this._streams[stream.id];\n    };\n    window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n        if (this.signalingState === 'closed') throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n        var streams = [].slice.call(arguments, 1);\n        if (streams.length !== 1 || !streams[0].getTracks().find(function(t) {\n            return t === track;\n        })) // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\", 'NotSupportedError');\n        var alreadyExists = this.getSenders().find(function(s) {\n            return s.track === track;\n        });\n        if (alreadyExists) throw new DOMException('Track already exists.', 'InvalidAccessError');\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n        var oldStream = this._streams[stream.id];\n        if (oldStream) {\n            var _this = this;\n            // this is using odd Chrome behaviour, use with caution:\n            // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n            // Note: we rely on the high-level addTrack/dtmf shim to\n            // create the sender with a dtmf sender.\n            oldStream.addTrack(track);\n            // Trigger ONN async.\n            Promise.resolve().then(function() {\n                _this.dispatchEvent(new Event('negotiationneeded'));\n            });\n        } else {\n            var newStream = new window.MediaStream([\n                track\n            ]);\n            this._streams[stream.id] = newStream;\n            this._reverseStreams[newStream.id] = stream;\n            this.addStream(newStream);\n        }\n        return this.getSenders().find(function(s) {\n            return s.track === track;\n        });\n    };\n    [\n        'createOffer',\n        'createAnswer'\n    ].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        var methodObj = $721c9139085d8798$export$2e2bcd8739ae039({}, method, function() {\n            var _this = this;\n            var args = arguments;\n            var isLegacyCall = arguments.length && typeof arguments[0] === 'function';\n            if (isLegacyCall) return nativeMethod.apply(this, [\n                function(description) {\n                    var desc = replaceInternalStreamId(_this, description);\n                    args[0].apply(null, [\n                        desc\n                    ]);\n                },\n                function(err) {\n                    if (args[1]) args[1].apply(null, err);\n                },\n                arguments[2]\n            ]);\n            return nativeMethod.apply(this, arguments).then(function(description) {\n                return replaceInternalStreamId(_this, description);\n            });\n        });\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n    var origSetLocalDescription = window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n        if (!arguments.length || !arguments[0].type) return origSetLocalDescription.apply(this, arguments);\n        arguments[0] = replaceExternalStreamId(this, arguments[0]);\n        return origSetLocalDescription.apply(this, arguments);\n    };\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n    var origLocalDescription = Object.getOwnPropertyDescriptor(window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'localDescription', {\n        get: function() {\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') return description;\n            return replaceInternalStreamId(this, description);\n        }\n    });\n    window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n        var _this = this;\n        if (this.signalingState === 'closed') throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n        // We can not yet check for sender instanceof RTCRtpSender\n        // since we shim RTPSender. So we check if sender._pc is set.\n        if (!sender._pc) throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\", 'TypeError');\n        var isLocal = sender._pc === this;\n        if (!isLocal) throw new DOMException('Sender was not created by this connection.', 'InvalidAccessError');\n        // Search for the native stream the senders track belongs to.\n        this._streams = this._streams || {};\n        var stream;\n        Object.keys(this._streams).forEach(function(streamid) {\n            var hasTrack = _this._streams[streamid].getTracks().find(function(track) {\n                return sender.track === track;\n            });\n            if (hasTrack) stream = _this._streams[streamid];\n        });\n        if (stream) {\n            if (stream.getTracks().length === 1) // if this is the last track of the stream, remove the stream. This\n            // takes care of any shimmed _senders.\n            this.removeStream(this._reverseStreams[stream.id]);\n            else // relying on the same odd chrome behaviour as above.\n            stream.removeTrack(sender.track);\n            this.dispatchEvent(new Event('negotiationneeded'));\n        }\n    };\n}\nfunction $ef7fa8125ed93bad$export$852a08dda9a55ea7(window, browserDetails) {\n    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n    if (!window.RTCPeerConnection) return;\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    if (browserDetails.version < 53) [\n        'setLocalDescription',\n        'setRemoteDescription',\n        'addIceCandidate'\n    ].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        var methodObj = $721c9139085d8798$export$2e2bcd8739ae039({}, method, function() {\n            arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n        });\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n}\nfunction $ef7fa8125ed93bad$export$341293bbeaae37cb(window, browserDetails) {\n    $993722e8c7a9e5a7$export$1f48841962b828b1(window, 'negotiationneeded', function(e) {\n        var pc = e.target;\n        if (browserDetails.version < 72 || pc.getConfiguration && pc.getConfiguration().sdpSemantics === 'plan-b') {\n            if (pc.signalingState !== 'stable') return;\n        }\n        return e;\n    });\n}\n\n\nvar $288dd6e7aa6ce0a1$exports = {};\n\n$parcel$export($288dd6e7aa6ce0a1$exports, \"shimPeerConnection\", function () { return $288dd6e7aa6ce0a1$export$852a08dda9a55ea7; });\n$parcel$export($288dd6e7aa6ce0a1$exports, \"shimReplaceTrack\", function () { return $288dd6e7aa6ce0a1$export$72e310cc73676e34; });\n$parcel$export($288dd6e7aa6ce0a1$exports, \"shimGetUserMedia\", function () { return $39ead859a3c672fa$export$1ed4910f4d37dc5e; });\n$parcel$export($288dd6e7aa6ce0a1$exports, \"shimGetDisplayMedia\", function () { return $7b69cd21fcfc4b7f$export$97270b87351d9c04; });\n\n\n/*\n *  Copyright (c) 2018 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $4f5b27f4cfa8d64e$export$66148a33ab327e2(iceServers, edgeVersion) {\n    var hasTurn = false;\n    iceServers = JSON.parse(JSON.stringify(iceServers));\n    return iceServers.filter(function(server) {\n        if (server && (server.urls || server.url)) {\n            var urls = server.urls || server.url;\n            if (server.url && !server.urls) $993722e8c7a9e5a7$export$cdd73fc4100a6ef4('RTCIceServer.url', 'RTCIceServer.urls');\n            var isString = typeof urls === 'string';\n            if (isString) urls = [\n                urls\n            ];\n            urls = urls.filter(function(url) {\n                // filter STUN unconditionally.\n                if (url.indexOf('stun:') === 0) return false;\n                var validTurn = url.startsWith('turn') && !url.startsWith('turn:[') && url.includes('transport=udp');\n                if (validTurn && !hasTurn) {\n                    hasTurn = true;\n                    return true;\n                }\n                return validTurn && !hasTurn;\n            });\n            delete server.url;\n            server.urls = isString ? urls[0] : urls;\n            return !!urls.length;\n        }\n    });\n}\n\n\nvar $c3b2d19937a6b733$exports = {};\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nvar $b2727632138354b2$exports = {};\n/* eslint-env node */ 'use strict';\n// SDP helpers.\nvar $b2727632138354b2$var$SDPUtils = {};\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\n$b2727632138354b2$var$SDPUtils.generateIdentifier = function() {\n    return Math.random().toString(36).substr(2, 10);\n};\n// The RTCP CNAME used by all peerconnections from the same JS.\n$b2727632138354b2$var$SDPUtils.localCName = $b2727632138354b2$var$SDPUtils.generateIdentifier();\n// Splits SDP into lines, dealing with both CRLF and LF.\n$b2727632138354b2$var$SDPUtils.splitLines = function(blob) {\n    return blob.trim().split('\\n').map(function(line) {\n        return line.trim();\n    });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\n$b2727632138354b2$var$SDPUtils.splitSections = function(blob) {\n    var parts = blob.split('\\nm=');\n    return parts.map(function(part, index) {\n        return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n    });\n};\n// returns the session description.\n$b2727632138354b2$var$SDPUtils.getDescription = function(blob) {\n    var sections = $b2727632138354b2$var$SDPUtils.splitSections(blob);\n    return sections && sections[0];\n};\n// returns the individual media sections.\n$b2727632138354b2$var$SDPUtils.getMediaSections = function(blob) {\n    var sections = $b2727632138354b2$var$SDPUtils.splitSections(blob);\n    sections.shift();\n    return sections;\n};\n// Returns lines that start with a certain prefix.\n$b2727632138354b2$var$SDPUtils.matchPrefix = function(blob, prefix) {\n    return $b2727632138354b2$var$SDPUtils.splitLines(blob).filter(function(line) {\n        return line.indexOf(prefix) === 0;\n    });\n};\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n$b2727632138354b2$var$SDPUtils.parseCandidate = function(line) {\n    var parts;\n    // Parse both variants.\n    if (line.indexOf('a=candidate:') === 0) parts = line.substring(12).split(' ');\n    else parts = line.substring(10).split(' ');\n    var candidate = {\n        foundation: parts[0],\n        component: parseInt(parts[1], 10),\n        protocol: parts[2].toLowerCase(),\n        priority: parseInt(parts[3], 10),\n        ip: parts[4],\n        address: parts[4],\n        port: parseInt(parts[5], 10),\n        // skip parts[6] == 'typ'\n        type: parts[7]\n    };\n    for(var i = 8; i < parts.length; i += 2)switch(parts[i]){\n        case 'raddr':\n            candidate.relatedAddress = parts[i + 1];\n            break;\n        case 'rport':\n            candidate.relatedPort = parseInt(parts[i + 1], 10);\n            break;\n        case 'tcptype':\n            candidate.tcpType = parts[i + 1];\n            break;\n        case 'ufrag':\n            candidate.ufrag = parts[i + 1]; // for backward compability.\n            candidate.usernameFragment = parts[i + 1];\n            break;\n        default:\n            candidate[parts[i]] = parts[i + 1];\n            break;\n    }\n    return candidate;\n};\n// Translates a candidate object into SDP candidate attribute.\n$b2727632138354b2$var$SDPUtils.writeCandidate = function(candidate) {\n    var sdp = [];\n    sdp.push(candidate.foundation);\n    sdp.push(candidate.component);\n    sdp.push(candidate.protocol.toUpperCase());\n    sdp.push(candidate.priority);\n    sdp.push(candidate.address || candidate.ip);\n    sdp.push(candidate.port);\n    var type = candidate.type;\n    sdp.push('typ');\n    sdp.push(type);\n    if (type !== 'host' && candidate.relatedAddress && candidate.relatedPort) {\n        sdp.push('raddr');\n        sdp.push(candidate.relatedAddress);\n        sdp.push('rport');\n        sdp.push(candidate.relatedPort);\n    }\n    if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n        sdp.push('tcptype');\n        sdp.push(candidate.tcpType);\n    }\n    if (candidate.usernameFragment || candidate.ufrag) {\n        sdp.push('ufrag');\n        sdp.push(candidate.usernameFragment || candidate.ufrag);\n    }\n    return 'candidate:' + sdp.join(' ');\n};\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\n$b2727632138354b2$var$SDPUtils.parseIceOptions = function(line) {\n    return line.substr(14).split(' ');\n};\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\n$b2727632138354b2$var$SDPUtils.parseRtpMap = function(line) {\n    var parts = line.substr(9).split(' ');\n    var parsed = {\n        payloadType: parseInt(parts.shift(), 10) // was: id\n    };\n    parts = parts[0].split('/');\n    parsed.name = parts[0];\n    parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n    parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n    // legacy alias, got renamed back to channels in ORTC.\n    parsed.numChannels = parsed.channels;\n    return parsed;\n};\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\n$b2727632138354b2$var$SDPUtils.writeRtpMap = function(codec) {\n    var pt = codec.payloadType;\n    if (codec.preferredPayloadType !== undefined) pt = codec.preferredPayloadType;\n    var channels = codec.channels || codec.numChannels || 1;\n    return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate + (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\n$b2727632138354b2$var$SDPUtils.parseExtmap = function(line) {\n    var parts = line.substr(9).split(' ');\n    return {\n        id: parseInt(parts[0], 10),\n        direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n        uri: parts[1]\n    };\n};\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\n$b2727632138354b2$var$SDPUtils.writeExtmap = function(headerExtension) {\n    return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) + (headerExtension.direction && headerExtension.direction !== 'sendrecv' ? '/' + headerExtension.direction : '') + ' ' + headerExtension.uri + '\\r\\n';\n};\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\n$b2727632138354b2$var$SDPUtils.parseFmtp = function(line) {\n    var parsed = {};\n    var kv;\n    var parts = line.substr(line.indexOf(' ') + 1).split(';');\n    for(var j = 0; j < parts.length; j++){\n        kv = parts[j].trim().split('=');\n        parsed[kv[0].trim()] = kv[1];\n    }\n    return parsed;\n};\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\n$b2727632138354b2$var$SDPUtils.writeFmtp = function(codec) {\n    var line = '';\n    var pt = codec.payloadType;\n    if (codec.preferredPayloadType !== undefined) pt = codec.preferredPayloadType;\n    if (codec.parameters && Object.keys(codec.parameters).length) {\n        var params = [];\n        Object.keys(codec.parameters).forEach(function(param) {\n            if (codec.parameters[param]) params.push(param + '=' + codec.parameters[param]);\n            else params.push(param);\n        });\n        line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n    }\n    return line;\n};\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\n$b2727632138354b2$var$SDPUtils.parseRtcpFb = function(line) {\n    var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n    return {\n        type: parts.shift(),\n        parameter: parts.join(' ')\n    };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\n$b2727632138354b2$var$SDPUtils.writeRtcpFb = function(codec) {\n    var lines = '';\n    var pt = codec.payloadType;\n    if (codec.preferredPayloadType !== undefined) pt = codec.preferredPayloadType;\n    if (codec.rtcpFeedback && codec.rtcpFeedback.length) // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n        lines += 'a=rtcp-fb:' + pt + ' ' + fb.type + (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') + '\\r\\n';\n    });\n    return lines;\n};\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\n$b2727632138354b2$var$SDPUtils.parseSsrcMedia = function(line) {\n    var sp = line.indexOf(' ');\n    var parts = {\n        ssrc: parseInt(line.substr(7, sp - 7), 10)\n    };\n    var colon = line.indexOf(':', sp);\n    if (colon > -1) {\n        parts.attribute = line.substr(sp + 1, colon - sp - 1);\n        parts.value = line.substr(colon + 1);\n    } else parts.attribute = line.substr(sp + 1);\n    return parts;\n};\n$b2727632138354b2$var$SDPUtils.parseSsrcGroup = function(line) {\n    var parts = line.substr(13).split(' ');\n    return {\n        semantics: parts.shift(),\n        ssrcs: parts.map(function(ssrc) {\n            return parseInt(ssrc, 10);\n        })\n    };\n};\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\n$b2727632138354b2$var$SDPUtils.getMid = function(mediaSection) {\n    var mid = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n    if (mid) return mid.substr(6);\n};\n$b2727632138354b2$var$SDPUtils.parseFingerprint = function(line) {\n    var parts = line.substr(14).split(' ');\n    return {\n        algorithm: parts[0].toLowerCase(),\n        value: parts[1]\n    };\n};\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\n$b2727632138354b2$var$SDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n    var lines = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=fingerprint:');\n    // Note: a=setup line is ignored since we use the 'auto' role.\n    // Note2: 'algorithm' is not case sensitive except in Edge.\n    return {\n        role: 'auto',\n        fingerprints: lines.map($b2727632138354b2$var$SDPUtils.parseFingerprint)\n    };\n};\n// Serializes DTLS parameters to SDP.\n$b2727632138354b2$var$SDPUtils.writeDtlsParameters = function(params, setupType) {\n    var sdp = 'a=setup:' + setupType + '\\r\\n';\n    params.fingerprints.forEach(function(fp) {\n        sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n    });\n    return sdp;\n};\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\n$b2727632138354b2$var$SDPUtils.parseCryptoLine = function(line) {\n    var parts = line.substr(9).split(' ');\n    return {\n        tag: parseInt(parts[0], 10),\n        cryptoSuite: parts[1],\n        keyParams: parts[2],\n        sessionParams: parts.slice(3)\n    };\n};\n$b2727632138354b2$var$SDPUtils.writeCryptoLine = function(parameters) {\n    return 'a=crypto:' + parameters.tag + ' ' + parameters.cryptoSuite + ' ' + (typeof parameters.keyParams === 'object' ? $b2727632138354b2$var$SDPUtils.writeCryptoKeyParams(parameters.keyParams) : parameters.keyParams) + (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') + '\\r\\n';\n};\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\n$b2727632138354b2$var$SDPUtils.parseCryptoKeyParams = function(keyParams) {\n    if (keyParams.indexOf('inline:') !== 0) return null;\n    var parts = keyParams.substr(7).split('|');\n    return {\n        keyMethod: 'inline',\n        keySalt: parts[0],\n        lifeTime: parts[1],\n        mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n        mkiLength: parts[2] ? parts[2].split(':')[1] : undefined\n    };\n};\n$b2727632138354b2$var$SDPUtils.writeCryptoKeyParams = function(keyParams) {\n    return keyParams.keyMethod + ':' + keyParams.keySalt + (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') + (keyParams.mkiValue && keyParams.mkiLength ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength : '');\n};\n// Extracts all SDES paramters.\n$b2727632138354b2$var$SDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {\n    var lines = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=crypto:');\n    return lines.map($b2727632138354b2$var$SDPUtils.parseCryptoLine);\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\n$b2727632138354b2$var$SDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n    var ufrag = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-ufrag:')[0];\n    var pwd = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-pwd:')[0];\n    if (!(ufrag && pwd)) return null;\n    return {\n        usernameFragment: ufrag.substr(12),\n        password: pwd.substr(10)\n    };\n};\n// Serializes ICE parameters to SDP.\n$b2727632138354b2$var$SDPUtils.writeIceParameters = function(params) {\n    return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' + 'a=ice-pwd:' + params.password + '\\r\\n';\n};\n// Parses the SDP media section and returns RTCRtpParameters.\n$b2727632138354b2$var$SDPUtils.parseRtpParameters = function(mediaSection) {\n    var description = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: [],\n        rtcp: []\n    };\n    var lines = $b2727632138354b2$var$SDPUtils.splitLines(mediaSection);\n    var mline = lines[0].split(' ');\n    for(var i = 3; i < mline.length; i++){\n        var pt = mline[i];\n        var rtpmapline = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n        if (rtpmapline) {\n            var codec = $b2727632138354b2$var$SDPUtils.parseRtpMap(rtpmapline);\n            var fmtps = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=fmtp:' + pt + ' ');\n            // Only the first a=fmtp:<pt> is considered.\n            codec.parameters = fmtps.length ? $b2727632138354b2$var$SDPUtils.parseFmtp(fmtps[0]) : {};\n            codec.rtcpFeedback = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:' + pt + ' ').map($b2727632138354b2$var$SDPUtils.parseRtcpFb);\n            description.codecs.push(codec);\n            // parse FEC mechanisms from rtpmap lines.\n            switch(codec.name.toUpperCase()){\n                case 'RED':\n                case 'ULPFEC':\n                    description.fecMechanisms.push(codec.name.toUpperCase());\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n    $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n        description.headerExtensions.push($b2727632138354b2$var$SDPUtils.parseExtmap(line));\n    });\n    // FIXME: parse rtcp.\n    return description;\n};\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\n$b2727632138354b2$var$SDPUtils.writeRtpDescription = function(kind, caps) {\n    var sdp = '';\n    // Build the mline.\n    sdp += 'm=' + kind + ' ';\n    sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n    sdp += ' UDP/TLS/RTP/SAVPF ';\n    sdp += caps.codecs.map(function(codec) {\n        if (codec.preferredPayloadType !== undefined) return codec.preferredPayloadType;\n        return codec.payloadType;\n    }).join(' ') + '\\r\\n';\n    sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n    sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n    // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n    caps.codecs.forEach(function(codec) {\n        sdp += $b2727632138354b2$var$SDPUtils.writeRtpMap(codec);\n        sdp += $b2727632138354b2$var$SDPUtils.writeFmtp(codec);\n        sdp += $b2727632138354b2$var$SDPUtils.writeRtcpFb(codec);\n    });\n    var maxptime = 0;\n    caps.codecs.forEach(function(codec) {\n        if (codec.maxptime > maxptime) maxptime = codec.maxptime;\n    });\n    if (maxptime > 0) sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n    sdp += 'a=rtcp-mux\\r\\n';\n    if (caps.headerExtensions) caps.headerExtensions.forEach(function(extension) {\n        sdp += $b2727632138354b2$var$SDPUtils.writeExtmap(extension);\n    });\n    // FIXME: write fecMechanisms.\n    return sdp;\n};\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\n$b2727632138354b2$var$SDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n    var encodingParameters = [];\n    var description = $b2727632138354b2$var$SDPUtils.parseRtpParameters(mediaSection);\n    var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n    var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n    // filter a=ssrc:... cname:, ignore PlanB-msid\n    var ssrcs = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function(line) {\n        return $b2727632138354b2$var$SDPUtils.parseSsrcMedia(line);\n    }).filter(function(parts) {\n        return parts.attribute === 'cname';\n    });\n    var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n    var secondarySsrc;\n    var flows = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID').map(function(line) {\n        var parts = line.substr(17).split(' ');\n        return parts.map(function(part) {\n            return parseInt(part, 10);\n        });\n    });\n    if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) secondarySsrc = flows[0][1];\n    description.codecs.forEach(function(codec) {\n        if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n            var encParam = {\n                ssrc: primarySsrc,\n                codecPayloadType: parseInt(codec.parameters.apt, 10)\n            };\n            if (primarySsrc && secondarySsrc) encParam.rtx = {\n                ssrc: secondarySsrc\n            };\n            encodingParameters.push(encParam);\n            if (hasRed) {\n                encParam = JSON.parse(JSON.stringify(encParam));\n                encParam.fec = {\n                    ssrc: primarySsrc,\n                    mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n                };\n                encodingParameters.push(encParam);\n            }\n        }\n    });\n    if (encodingParameters.length === 0 && primarySsrc) encodingParameters.push({\n        ssrc: primarySsrc\n    });\n    // we support both b=AS and b=TIAS but interpret AS as TIAS.\n    var bandwidth = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'b=');\n    if (bandwidth.length) {\n        if (bandwidth[0].indexOf('b=TIAS:') === 0) bandwidth = parseInt(bandwidth[0].substr(7), 10);\n        else if (bandwidth[0].indexOf('b=AS:') === 0) // use formula from JSEP to convert b=AS to TIAS value.\n        bandwidth = parseInt(bandwidth[0].substr(5), 10) * 950 - 16000;\n        else bandwidth = undefined;\n        encodingParameters.forEach(function(params) {\n            params.maxBitrate = bandwidth;\n        });\n    }\n    return encodingParameters;\n};\n// parses http://draft.ortc.org/#rtcrtcpparameters*\n$b2727632138354b2$var$SDPUtils.parseRtcpParameters = function(mediaSection) {\n    var rtcpParameters = {};\n    // Gets the first SSRC. Note tha with RTX there might be multiple\n    // SSRCs.\n    var remoteSsrc = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function(line) {\n        return $b2727632138354b2$var$SDPUtils.parseSsrcMedia(line);\n    }).filter(function(obj) {\n        return obj.attribute === 'cname';\n    })[0];\n    if (remoteSsrc) {\n        rtcpParameters.cname = remoteSsrc.value;\n        rtcpParameters.ssrc = remoteSsrc.ssrc;\n    }\n    // Edge uses the compound attribute instead of reducedSize\n    // compound is !reducedSize\n    var rsize = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n    rtcpParameters.reducedSize = rsize.length > 0;\n    rtcpParameters.compound = rsize.length === 0;\n    // parses the rtcp-mux attrіbute.\n    // Note that Edge does not support unmuxed RTCP.\n    var mux = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n    rtcpParameters.mux = mux.length > 0;\n    return rtcpParameters;\n};\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\n$b2727632138354b2$var$SDPUtils.parseMsid = function(mediaSection) {\n    var parts;\n    var spec = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n    if (spec.length === 1) {\n        parts = spec[0].substr(7).split(' ');\n        return {\n            stream: parts[0],\n            track: parts[1]\n        };\n    }\n    var planB = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function(line) {\n        return $b2727632138354b2$var$SDPUtils.parseSsrcMedia(line);\n    }).filter(function(msidParts) {\n        return msidParts.attribute === 'msid';\n    });\n    if (planB.length > 0) {\n        parts = planB[0].value.split(' ');\n        return {\n            stream: parts[0],\n            track: parts[1]\n        };\n    }\n};\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\n$b2727632138354b2$var$SDPUtils.parseSctpDescription = function(mediaSection) {\n    var mline = $b2727632138354b2$var$SDPUtils.parseMLine(mediaSection);\n    var maxSizeLine = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n    var maxMessageSize;\n    if (maxSizeLine.length > 0) maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);\n    if (isNaN(maxMessageSize)) maxMessageSize = 65536;\n    var sctpPort = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n    if (sctpPort.length > 0) return {\n        port: parseInt(sctpPort[0].substr(12), 10),\n        protocol: mline.fmt,\n        maxMessageSize: maxMessageSize\n    };\n    var sctpMapLines = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n    if (sctpMapLines.length > 0) {\n        var parts = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:')[0].substr(10).split(' ');\n        return {\n            port: parseInt(parts[0], 10),\n            protocol: parts[1],\n            maxMessageSize: maxMessageSize\n        };\n    }\n};\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\n$b2727632138354b2$var$SDPUtils.writeSctpDescription = function(media, sctp) {\n    var output = [];\n    if (media.protocol !== 'DTLS/SCTP') output = [\n        'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n',\n        'c=IN IP4 0.0.0.0\\r\\n',\n        'a=sctp-port:' + sctp.port + '\\r\\n'\n    ];\n    else output = [\n        'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n',\n        'c=IN IP4 0.0.0.0\\r\\n',\n        'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'\n    ];\n    if (sctp.maxMessageSize !== undefined) output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n    return output.join('');\n};\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\n$b2727632138354b2$var$SDPUtils.generateSessionId = function() {\n    return Math.random().toString().substr(2, 21);\n};\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\n$b2727632138354b2$var$SDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {\n    var sessionId;\n    var version = sessVer !== undefined ? sessVer : 2;\n    if (sessId) sessionId = sessId;\n    else sessionId = $b2727632138354b2$var$SDPUtils.generateSessionId();\n    var user = sessUser || 'thisisadapterortc';\n    // FIXME: sess-id should be an NTP timestamp.\n    return \"v=0\\r\\no=\" + user + ' ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' + 's=-\\r\\n' + 't=0 0\\r\\n';\n};\n$b2727632138354b2$var$SDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n    var sdp = $b2727632138354b2$var$SDPUtils.writeRtpDescription(transceiver.kind, caps);\n    // Map ICE parameters (ufrag, pwd) to SDP.\n    sdp += $b2727632138354b2$var$SDPUtils.writeIceParameters(transceiver.iceGatherer.getLocalParameters());\n    // Map DTLS parameters to SDP.\n    sdp += $b2727632138354b2$var$SDPUtils.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(), type === 'offer' ? 'actpass' : 'active');\n    sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n    if (transceiver.direction) sdp += 'a=' + transceiver.direction + '\\r\\n';\n    else if (transceiver.rtpSender && transceiver.rtpReceiver) sdp += 'a=sendrecv\\r\\n';\n    else if (transceiver.rtpSender) sdp += 'a=sendonly\\r\\n';\n    else if (transceiver.rtpReceiver) sdp += 'a=recvonly\\r\\n';\n    else sdp += 'a=inactive\\r\\n';\n    if (transceiver.rtpSender) {\n        // spec.\n        var msid = 'msid:' + stream.id + ' ' + transceiver.rtpSender.track.id + '\\r\\n';\n        sdp += 'a=' + msid;\n        // for Chrome.\n        sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc + ' ' + msid;\n        if (transceiver.sendEncodingParameters[0].rtx) {\n            sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc + ' ' + msid;\n            sdp += 'a=ssrc-group:FID ' + transceiver.sendEncodingParameters[0].ssrc + ' ' + transceiver.sendEncodingParameters[0].rtx.ssrc + '\\r\\n';\n        }\n    }\n    // FIXME: this should be written by writeRtpDescription.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc + ' cname:' + $b2727632138354b2$var$SDPUtils.localCName + '\\r\\n';\n    if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc + ' cname:' + $b2727632138354b2$var$SDPUtils.localCName + '\\r\\n';\n    return sdp;\n};\n// Gets the direction from the mediaSection or the sessionpart.\n$b2727632138354b2$var$SDPUtils.getDirection = function(mediaSection, sessionpart) {\n    // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n    var lines = $b2727632138354b2$var$SDPUtils.splitLines(mediaSection);\n    for(var i = 0; i < lines.length; i++)switch(lines[i]){\n        case 'a=sendrecv':\n        case 'a=sendonly':\n        case 'a=recvonly':\n        case 'a=inactive':\n            return lines[i].substr(2);\n        default:\n    }\n    if (sessionpart) return $b2727632138354b2$var$SDPUtils.getDirection(sessionpart);\n    return 'sendrecv';\n};\n$b2727632138354b2$var$SDPUtils.getKind = function(mediaSection) {\n    var lines = $b2727632138354b2$var$SDPUtils.splitLines(mediaSection);\n    var mline = lines[0].split(' ');\n    return mline[0].substr(2);\n};\n$b2727632138354b2$var$SDPUtils.isRejected = function(mediaSection) {\n    return mediaSection.split(' ', 2)[1] === '0';\n};\n$b2727632138354b2$var$SDPUtils.parseMLine = function(mediaSection) {\n    var lines = $b2727632138354b2$var$SDPUtils.splitLines(mediaSection);\n    var parts = lines[0].substr(2).split(' ');\n    return {\n        kind: parts[0],\n        port: parseInt(parts[1], 10),\n        protocol: parts[2],\n        fmt: parts.slice(3).join(' ')\n    };\n};\n$b2727632138354b2$var$SDPUtils.parseOLine = function(mediaSection) {\n    var line = $b2727632138354b2$var$SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n    var parts = line.substr(2).split(' ');\n    return {\n        username: parts[0],\n        sessionId: parts[1],\n        sessionVersion: parseInt(parts[2], 10),\n        netType: parts[3],\n        addressType: parts[4],\n        address: parts[5]\n    };\n};\n// a very naive interpretation of a valid SDP.\n$b2727632138354b2$var$SDPUtils.isValidSDP = function(blob) {\n    if (typeof blob !== 'string' || blob.length === 0) return false;\n    var lines = $b2727632138354b2$var$SDPUtils.splitLines(blob);\n    for(var i = 0; i < lines.length; i++){\n        if (lines[i].length < 2 || lines[i].charAt(1) !== '=') return false;\n    // TODO: check the modifier a bit more.\n    }\n    return true;\n};\n$b2727632138354b2$exports = $b2727632138354b2$var$SDPUtils;\n\n\nfunction $c3b2d19937a6b733$var$fixStatsType(stat) {\n    return ({\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n    })[stat.type] || stat.type;\n}\nfunction $c3b2d19937a6b733$var$writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n    var sdp = $b2727632138354b2$exports.writeRtpDescription(transceiver.kind, caps);\n    // Map ICE parameters (ufrag, pwd) to SDP.\n    sdp += $b2727632138354b2$exports.writeIceParameters(transceiver.iceGatherer.getLocalParameters());\n    // Map DTLS parameters to SDP.\n    sdp += $b2727632138354b2$exports.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(), type === 'offer' ? 'actpass' : dtlsRole || 'active');\n    sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n    if (transceiver.rtpSender && transceiver.rtpReceiver) sdp += 'a=sendrecv\\r\\n';\n    else if (transceiver.rtpSender) sdp += 'a=sendonly\\r\\n';\n    else if (transceiver.rtpReceiver) sdp += 'a=recvonly\\r\\n';\n    else sdp += 'a=inactive\\r\\n';\n    if (transceiver.rtpSender) {\n        var trackId = transceiver.rtpSender._initialTrackId || transceiver.rtpSender.track.id;\n        transceiver.rtpSender._initialTrackId = trackId;\n        // spec.\n        var msid = 'msid:' + (stream ? stream.id : '-') + ' ' + trackId + '\\r\\n';\n        sdp += 'a=' + msid;\n        // for Chrome. Legacy should no longer be required.\n        sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc + ' ' + msid;\n        // RTX\n        if (transceiver.sendEncodingParameters[0].rtx) {\n            sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc + ' ' + msid;\n            sdp += 'a=ssrc-group:FID ' + transceiver.sendEncodingParameters[0].ssrc + ' ' + transceiver.sendEncodingParameters[0].rtx.ssrc + '\\r\\n';\n        }\n    }\n    // FIXME: this should be written by writeRtpDescription.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc + ' cname:' + $b2727632138354b2$exports.localCName + '\\r\\n';\n    if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc + ' cname:' + $b2727632138354b2$exports.localCName + '\\r\\n';\n    return sdp;\n}\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction $c3b2d19937a6b733$var$filterIceServers(iceServers, edgeVersion) {\n    var hasTurn = false;\n    iceServers = JSON.parse(JSON.stringify(iceServers));\n    return iceServers.filter(function(server) {\n        if (server && (server.urls || server.url)) {\n            var urls = server.urls || server.url;\n            if (server.url && !server.urls) console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n            var isString = typeof urls === 'string';\n            if (isString) urls = [\n                urls\n            ];\n            urls = urls.filter(function(url) {\n                var validTurn = url.indexOf('turn:') === 0 && url.indexOf('transport=udp') !== -1 && url.indexOf('turn:[') === -1 && !hasTurn;\n                if (validTurn) {\n                    hasTurn = true;\n                    return true;\n                }\n                return url.indexOf('stun:') === 0 && edgeVersion >= 14393 && url.indexOf('?transport=udp') === -1;\n            });\n            delete server.url;\n            server.urls = isString ? urls[0] : urls;\n            return !!urls.length;\n        }\n    });\n}\n// Determines the intersection of local and remote capabilities.\nfunction $c3b2d19937a6b733$var$getCommonCapabilities(localCapabilities, remoteCapabilities) {\n    var commonCapabilities = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: []\n    };\n    var findCodecByPayloadType = function findCodecByPayloadType(pt, codecs) {\n        pt = parseInt(pt, 10);\n        for(var i = 0; i < codecs.length; i++){\n            if (codecs[i].payloadType === pt || codecs[i].preferredPayloadType === pt) return codecs[i];\n        }\n    };\n    var rtxCapabilityMatches = function rtxCapabilityMatches(lRtx, rRtx, lCodecs, rCodecs) {\n        var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n        var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n        return lCodec && rCodec && lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n    };\n    localCapabilities.codecs.forEach(function(lCodec) {\n        for(var i = 0; i < remoteCapabilities.codecs.length; i++){\n            var rCodec = remoteCapabilities.codecs[i];\n            if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() && lCodec.clockRate === rCodec.clockRate) {\n                if (lCodec.name.toLowerCase() === 'rtx' && lCodec.parameters && rCodec.parameters.apt) {\n                    // for RTX we need to find the local rtx that has a apt\n                    // which points to the same local codec as the remote one.\n                    if (!rtxCapabilityMatches(lCodec, rCodec, localCapabilities.codecs, remoteCapabilities.codecs)) continue;\n                }\n                rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n                // number of channels is the highest common number of channels\n                rCodec.numChannels = Math.min(lCodec.numChannels, rCodec.numChannels);\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                    for(var j = 0; j < lCodec.rtcpFeedback.length; j++){\n                        if (lCodec.rtcpFeedback[j].type === fb.type && lCodec.rtcpFeedback[j].parameter === fb.parameter) return true;\n                    }\n                    return false;\n                });\n                break;\n            }\n        }\n    });\n    localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n        for(var i = 0; i < remoteCapabilities.headerExtensions.length; i++){\n            var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n            if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                commonCapabilities.headerExtensions.push(rHeaderExtension);\n                break;\n            }\n        }\n    });\n    // FIXME: fecMechanisms\n    return commonCapabilities;\n}\n// is action=setLocalDescription with type allowed in signalingState\nfunction $c3b2d19937a6b733$var$isActionAllowedInSignalingState(action, type, signalingState) {\n    return ({\n        offer: {\n            setLocalDescription: [\n                'stable',\n                'have-local-offer'\n            ],\n            setRemoteDescription: [\n                'stable',\n                'have-remote-offer'\n            ]\n        },\n        answer: {\n            setLocalDescription: [\n                'have-remote-offer',\n                'have-local-pranswer'\n            ],\n            setRemoteDescription: [\n                'have-local-offer',\n                'have-remote-pranswer'\n            ]\n        }\n    })[type][action].indexOf(signalingState) !== -1;\n}\nfunction $c3b2d19937a6b733$var$maybeAddCandidate(iceTransport, candidate) {\n    // Edge's internal representation adds some fields therefore\n    // not all fieldѕ are taken into account.\n    var alreadyAdded = iceTransport.getRemoteCandidates().find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation && candidate.ip === remoteCandidate.ip && candidate.port === remoteCandidate.port && candidate.priority === remoteCandidate.priority && candidate.protocol === remoteCandidate.protocol && candidate.type === remoteCandidate.type;\n    });\n    if (!alreadyAdded) iceTransport.addRemoteCandidate(candidate);\n    return !alreadyAdded;\n}\nfunction $c3b2d19937a6b733$var$makeError(name, description) {\n    var e = new Error(description);\n    e.name = name;\n    // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n    e.code = ({\n        NotSupportedError: 9,\n        InvalidStateError: 11,\n        InvalidAccessError: 15,\n        TypeError: undefined,\n        OperationError: undefined\n    })[name];\n    return e;\n}\n$c3b2d19937a6b733$exports = function(window, edgeVersion) {\n    var addTrackToStreamAndFireEvent = // https://w3c.github.io/mediacapture-main/#mediastream\n    // Helper function to add the track to the stream and\n    // dispatch the event ourselves.\n    function addTrackToStreamAndFireEvent(track, stream) {\n        stream.addTrack(track);\n        stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack', {\n            track: track\n        }));\n    };\n    var removeTrackFromStreamAndFireEvent = function removeTrackFromStreamAndFireEvent(track, stream) {\n        stream.removeTrack(track);\n        stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack', {\n            track: track\n        }));\n    };\n    var fireAddTrack = function fireAddTrack(pc, track, receiver, streams) {\n        var trackEvent = new Event('track');\n        trackEvent.track = track;\n        trackEvent.receiver = receiver;\n        trackEvent.transceiver = {\n            receiver: receiver\n        };\n        trackEvent.streams = streams;\n        window.setTimeout(function() {\n            pc._dispatchEvent('track', trackEvent);\n        });\n    };\n    var RTCPeerConnection = function RTCPeerConnection(config) {\n        var pc = this;\n        var _eventTarget = document.createDocumentFragment();\n        [\n            'addEventListener',\n            'removeEventListener',\n            'dispatchEvent'\n        ].forEach(function(method) {\n            pc[method] = _eventTarget[method].bind(_eventTarget);\n        });\n        this.canTrickleIceCandidates = null;\n        this.needNegotiation = false;\n        this.localStreams = [];\n        this.remoteStreams = [];\n        this._localDescription = null;\n        this._remoteDescription = null;\n        this.signalingState = 'stable';\n        this.iceConnectionState = 'new';\n        this.connectionState = 'new';\n        this.iceGatheringState = 'new';\n        config = JSON.parse(JSON.stringify(config || {}));\n        this.usingBundle = config.bundlePolicy === 'max-bundle';\n        if (config.rtcpMuxPolicy === 'negotiate') throw $c3b2d19937a6b733$var$makeError('NotSupportedError', 'rtcpMuxPolicy \\'negotiate\\' is not supported');\n        else if (!config.rtcpMuxPolicy) config.rtcpMuxPolicy = 'require';\n        switch(config.iceTransportPolicy){\n            case 'all':\n            case 'relay':\n                break;\n            default:\n                config.iceTransportPolicy = 'all';\n                break;\n        }\n        switch(config.bundlePolicy){\n            case 'balanced':\n            case 'max-compat':\n            case 'max-bundle':\n                break;\n            default:\n                config.bundlePolicy = 'balanced';\n                break;\n        }\n        config.iceServers = $c3b2d19937a6b733$var$filterIceServers(config.iceServers || [], edgeVersion);\n        this._iceGatherers = [];\n        if (config.iceCandidatePoolSize) for(var i = config.iceCandidatePoolSize; i > 0; i--)this._iceGatherers.push(new window.RTCIceGatherer({\n            iceServers: config.iceServers,\n            gatherPolicy: config.iceTransportPolicy\n        }));\n        else config.iceCandidatePoolSize = 0;\n        this._config = config;\n        // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n        // everything that is needed to describe a SDP m-line.\n        this.transceivers = [];\n        this._sdpSessionId = $b2727632138354b2$exports.generateSessionId();\n        this._sdpSessionVersion = 0;\n        this._dtlsRole = undefined; // role for a=setup to use in answers.\n        this._isClosed = false;\n    };\n    Object.defineProperty(RTCPeerConnection.prototype, 'localDescription', {\n        configurable: true,\n        get: function get() {\n            return this._localDescription;\n        }\n    });\n    Object.defineProperty(RTCPeerConnection.prototype, 'remoteDescription', {\n        configurable: true,\n        get: function get() {\n            return this._remoteDescription;\n        }\n    });\n    // set up event handlers on prototype\n    RTCPeerConnection.prototype.onicecandidate = null;\n    RTCPeerConnection.prototype.onaddstream = null;\n    RTCPeerConnection.prototype.ontrack = null;\n    RTCPeerConnection.prototype.onremovestream = null;\n    RTCPeerConnection.prototype.onsignalingstatechange = null;\n    RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n    RTCPeerConnection.prototype.onconnectionstatechange = null;\n    RTCPeerConnection.prototype.onicegatheringstatechange = null;\n    RTCPeerConnection.prototype.onnegotiationneeded = null;\n    RTCPeerConnection.prototype.ondatachannel = null;\n    RTCPeerConnection.prototype._dispatchEvent = function(name, event) {\n        if (this._isClosed) return;\n        this.dispatchEvent(event);\n        if (typeof this['on' + name] === 'function') this['on' + name](event);\n    };\n    RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n        var event = new Event('icegatheringstatechange');\n        this._dispatchEvent('icegatheringstatechange', event);\n    };\n    RTCPeerConnection.prototype.getConfiguration = function() {\n        return this._config;\n    };\n    RTCPeerConnection.prototype.getLocalStreams = function() {\n        return this.localStreams;\n    };\n    RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this.remoteStreams;\n    };\n    // internal helper to create a transceiver object.\n    // (which is not yet the same as the WebRTC 1.0 transceiver)\n    RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {\n        var hasBundleTransport = this.transceivers.length > 0;\n        var transceiver = {\n            track: null,\n            iceGatherer: null,\n            iceTransport: null,\n            dtlsTransport: null,\n            localCapabilities: null,\n            remoteCapabilities: null,\n            rtpSender: null,\n            rtpReceiver: null,\n            kind: kind,\n            mid: null,\n            sendEncodingParameters: null,\n            recvEncodingParameters: null,\n            stream: null,\n            associatedRemoteMediaStreams: [],\n            wantReceive: true\n        };\n        if (this.usingBundle && hasBundleTransport) {\n            transceiver.iceTransport = this.transceivers[0].iceTransport;\n            transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n        } else {\n            var transports = this._createIceAndDtlsTransports();\n            transceiver.iceTransport = transports.iceTransport;\n            transceiver.dtlsTransport = transports.dtlsTransport;\n        }\n        if (!doNotAdd) this.transceivers.push(transceiver);\n        return transceiver;\n    };\n    RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (this._isClosed) throw $c3b2d19937a6b733$var$makeError('InvalidStateError', 'Attempted to call addTrack on a closed peerconnection.');\n        var alreadyExists = this.transceivers.find(function(s) {\n            return s.track === track;\n        });\n        if (alreadyExists) throw $c3b2d19937a6b733$var$makeError('InvalidAccessError', 'Track already exists.');\n        var transceiver;\n        for(var i = 0; i < this.transceivers.length; i++)if (!this.transceivers[i].track && this.transceivers[i].kind === track.kind) transceiver = this.transceivers[i];\n        if (!transceiver) transceiver = this._createTransceiver(track.kind);\n        this._maybeFireNegotiationNeeded();\n        if (this.localStreams.indexOf(stream) === -1) this.localStreams.push(stream);\n        transceiver.track = track;\n        transceiver.stream = stream;\n        transceiver.rtpSender = new window.RTCRtpSender(track, transceiver.dtlsTransport);\n        return transceiver.rtpSender;\n    };\n    RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        if (edgeVersion >= 15025) stream.getTracks().forEach(function(track) {\n            pc.addTrack(track, stream);\n        });\n        else {\n            // Clone is necessary for local demos mostly, attaching directly\n            // to two different senders does not work (build 10547).\n            // Fixed in 15025 (or earlier)\n            var clonedStream = stream.clone();\n            stream.getTracks().forEach(function(track, idx) {\n                var clonedTrack = clonedStream.getTracks()[idx];\n                track.addEventListener('enabled', function(event) {\n                    clonedTrack.enabled = event.enabled;\n                });\n            });\n            clonedStream.getTracks().forEach(function(track) {\n                pc.addTrack(track, clonedStream);\n            });\n        }\n    };\n    RTCPeerConnection.prototype.removeTrack = function(sender) {\n        if (this._isClosed) throw $c3b2d19937a6b733$var$makeError('InvalidStateError', 'Attempted to call removeTrack on a closed peerconnection.');\n        if (!(sender instanceof window.RTCRtpSender)) throw new TypeError(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\");\n        var transceiver = this.transceivers.find(function(t) {\n            return t.rtpSender === sender;\n        });\n        if (!transceiver) throw $c3b2d19937a6b733$var$makeError('InvalidAccessError', 'Sender was not created by this connection.');\n        var stream = transceiver.stream;\n        transceiver.rtpSender.stop();\n        transceiver.rtpSender = null;\n        transceiver.track = null;\n        transceiver.stream = null;\n        // remove the stream from the set of local streams\n        var localStreams = this.transceivers.map(function(t) {\n            return t.stream;\n        });\n        if (localStreams.indexOf(stream) === -1 && this.localStreams.indexOf(stream) > -1) this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n        this._maybeFireNegotiationNeeded();\n    };\n    RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        stream.getTracks().forEach(function(track) {\n            var sender = pc.getSenders().find(function(s) {\n                return s.track === track;\n            });\n            if (sender) pc.removeTrack(sender);\n        });\n    };\n    RTCPeerConnection.prototype.getSenders = function() {\n        return this.transceivers.filter(function(transceiver) {\n            return !!transceiver.rtpSender;\n        }).map(function(transceiver) {\n            return transceiver.rtpSender;\n        });\n    };\n    RTCPeerConnection.prototype.getReceivers = function() {\n        return this.transceivers.filter(function(transceiver) {\n            return !!transceiver.rtpReceiver;\n        }).map(function(transceiver) {\n            return transceiver.rtpReceiver;\n        });\n    };\n    RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex, usingBundle) {\n        var pc = this;\n        if (usingBundle && sdpMLineIndex > 0) return this.transceivers[0].iceGatherer;\n        else if (this._iceGatherers.length) return this._iceGatherers.shift();\n        var iceGatherer = new window.RTCIceGatherer({\n            iceServers: this._config.iceServers,\n            gatherPolicy: this._config.iceTransportPolicy\n        });\n        Object.defineProperty(iceGatherer, 'state', {\n            value: 'new',\n            writable: true\n        });\n        this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n        this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n            var end = !event.candidate || Object.keys(event.candidate).length === 0;\n            // polyfill since RTCIceGatherer.state is not implemented in\n            // Edge 10547 yet.\n            iceGatherer.state = end ? 'completed' : 'gathering';\n            if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n        };\n        iceGatherer.addEventListener('localcandidate', this.transceivers[sdpMLineIndex].bufferCandidates);\n        return iceGatherer;\n    };\n    // start gathering from an RTCIceGatherer.\n    RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n        var pc = this;\n        var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n        if (iceGatherer.onlocalcandidate) return;\n        var bufferedCandidateEvents = this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n        this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n        iceGatherer.removeEventListener('localcandidate', this.transceivers[sdpMLineIndex].bufferCandidates);\n        iceGatherer.onlocalcandidate = function(evt) {\n            if (pc.usingBundle && sdpMLineIndex > 0) // if we know that we use bundle we can drop candidates with\n            // ѕdpMLineIndex > 0. If we don't do this then our state gets\n            // confused since we dispose the extra ice gatherer.\n            return;\n            var event = new Event('icecandidate');\n            event.candidate = {\n                sdpMid: mid,\n                sdpMLineIndex: sdpMLineIndex\n            };\n            var cand = evt.candidate;\n            // Edge emits an empty object for RTCIceCandidateComplete‥\n            var end = !cand || Object.keys(cand).length === 0;\n            if (end) // polyfill since RTCIceGatherer.state is not implemented in\n            // Edge 10547 yet.\n            {\n                if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') iceGatherer.state = 'completed';\n            } else {\n                if (iceGatherer.state === 'new') iceGatherer.state = 'gathering';\n                // RTCIceCandidate doesn't have a component, needs to be added\n                cand.component = 1;\n                // also the usernameFragment. TODO: update SDP to take both variants.\n                cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;\n                var serializedCandidate = $b2727632138354b2$exports.writeCandidate(cand);\n                event.candidate = Object.assign(event.candidate, $b2727632138354b2$exports.parseCandidate(serializedCandidate));\n                event.candidate.candidate = serializedCandidate;\n                event.candidate.toJSON = function() {\n                    return {\n                        candidate: event.candidate.candidate,\n                        sdpMid: event.candidate.sdpMid,\n                        sdpMLineIndex: event.candidate.sdpMLineIndex,\n                        usernameFragment: event.candidate.usernameFragment\n                    };\n                };\n            }\n            // update local description.\n            var sections = $b2727632138354b2$exports.getMediaSections(pc._localDescription.sdp);\n            if (!end) sections[event.candidate.sdpMLineIndex] += 'a=' + event.candidate.candidate + '\\r\\n';\n            else sections[event.candidate.sdpMLineIndex] += 'a=end-of-candidates\\r\\n';\n            pc._localDescription.sdp = $b2727632138354b2$exports.getDescription(pc._localDescription.sdp) + sections.join('');\n            var complete = pc.transceivers.every(function(transceiver) {\n                return transceiver.iceGatherer && transceiver.iceGatherer.state === 'completed';\n            });\n            if (pc.iceGatheringState !== 'gathering') {\n                pc.iceGatheringState = 'gathering';\n                pc._emitGatheringStateChange();\n            }\n            // Emit candidate. Also emit null candidate when all gatherers are\n            // complete.\n            if (!end) pc._dispatchEvent('icecandidate', event);\n            if (complete) {\n                pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n                pc.iceGatheringState = 'complete';\n                pc._emitGatheringStateChange();\n            }\n        };\n        // emit already gathered candidates.\n        window.setTimeout(function() {\n            bufferedCandidateEvents.forEach(function(e) {\n                iceGatherer.onlocalcandidate(e);\n            });\n        }, 0);\n    };\n    // Create ICE transport and DTLS transport.\n    RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n        var pc = this;\n        var iceTransport = new window.RTCIceTransport(null);\n        iceTransport.onicestatechange = function() {\n            pc._updateIceConnectionState();\n            pc._updateConnectionState();\n        };\n        var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n        dtlsTransport.ondtlsstatechange = function() {\n            pc._updateConnectionState();\n        };\n        dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            Object.defineProperty(dtlsTransport, 'state', {\n                value: 'failed',\n                writable: true\n            });\n            pc._updateConnectionState();\n        };\n        return {\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n        };\n    };\n    // Destroy ICE gatherer, ICE transport and DTLS transport.\n    // Without triggering the callbacks.\n    RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(sdpMLineIndex) {\n        var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n        if (iceGatherer) {\n            delete iceGatherer.onlocalcandidate;\n            delete this.transceivers[sdpMLineIndex].iceGatherer;\n        }\n        var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n        if (iceTransport) {\n            delete iceTransport.onicestatechange;\n            delete this.transceivers[sdpMLineIndex].iceTransport;\n        }\n        var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n        if (dtlsTransport) {\n            delete dtlsTransport.ondtlsstatechange;\n            delete dtlsTransport.onerror;\n            delete this.transceivers[sdpMLineIndex].dtlsTransport;\n        }\n    };\n    // Start the RTP Sender and Receiver for a transceiver.\n    RTCPeerConnection.prototype._transceive = function(transceiver, send, recv) {\n        var params = $c3b2d19937a6b733$var$getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);\n        if (send && transceiver.rtpSender) {\n            params.encodings = transceiver.sendEncodingParameters;\n            params.rtcp = {\n                cname: $b2727632138354b2$exports.localCName,\n                compound: transceiver.rtcpParameters.compound\n            };\n            if (transceiver.recvEncodingParameters.length) params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n            transceiver.rtpSender.send(params);\n        }\n        if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n            // remove RTX field in Edge 14942\n            if (transceiver.kind === 'video' && transceiver.recvEncodingParameters && edgeVersion < 15019) transceiver.recvEncodingParameters.forEach(function(p) {\n                delete p.rtx;\n            });\n            if (transceiver.recvEncodingParameters.length) params.encodings = transceiver.recvEncodingParameters;\n            else params.encodings = [\n                {}\n            ];\n            params.rtcp = {\n                compound: transceiver.rtcpParameters.compound\n            };\n            if (transceiver.rtcpParameters.cname) params.rtcp.cname = transceiver.rtcpParameters.cname;\n            if (transceiver.sendEncodingParameters.length) params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n            transceiver.rtpReceiver.receive(params);\n        }\n    };\n    RTCPeerConnection.prototype.setLocalDescription = function(description) {\n        var pc = this;\n        // Note: pranswer is not supported.\n        if ([\n            'offer',\n            'answer'\n        ].indexOf(description.type) === -1) return Promise.reject($c3b2d19937a6b733$var$makeError('TypeError', 'Unsupported type \"' + description.type + '\"'));\n        if (!$c3b2d19937a6b733$var$isActionAllowedInSignalingState('setLocalDescription', description.type, pc.signalingState) || pc._isClosed) return Promise.reject($c3b2d19937a6b733$var$makeError('InvalidStateError', 'Can not set local ' + description.type + ' in state ' + pc.signalingState));\n        var sections;\n        var sessionpart;\n        if (description.type === 'offer') {\n            // VERY limited support for SDP munging. Limited to:\n            // * changing the order of codecs\n            sections = $b2727632138354b2$exports.splitSections(description.sdp);\n            sessionpart = sections.shift();\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = $b2727632138354b2$exports.parseRtpParameters(mediaSection);\n                pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n            });\n            pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n                pc._gather(transceiver.mid, sdpMLineIndex);\n            });\n        } else if (description.type === 'answer') {\n            sections = $b2727632138354b2$exports.splitSections(pc._remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = $b2727632138354b2$exports.matchPrefix(sessionpart, 'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var transceiver = pc.transceivers[sdpMLineIndex];\n                var iceGatherer = transceiver.iceGatherer;\n                var iceTransport = transceiver.iceTransport;\n                var dtlsTransport = transceiver.dtlsTransport;\n                var localCapabilities = transceiver.localCapabilities;\n                var remoteCapabilities = transceiver.remoteCapabilities;\n                // treat bundle-only as not-rejected.\n                var rejected = $b2727632138354b2$exports.isRejected(mediaSection) && $b2727632138354b2$exports.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n                if (!rejected && !transceiver.rejected) {\n                    var remoteIceParameters = $b2727632138354b2$exports.getIceParameters(mediaSection, sessionpart);\n                    var remoteDtlsParameters = $b2727632138354b2$exports.getDtlsParameters(mediaSection, sessionpart);\n                    if (isIceLite) remoteDtlsParameters.role = 'server';\n                    if (!pc.usingBundle || sdpMLineIndex === 0) {\n                        pc._gather(transceiver.mid, sdpMLineIndex);\n                        if (iceTransport.state === 'new') iceTransport.start(iceGatherer, remoteIceParameters, isIceLite ? 'controlling' : 'controlled');\n                        if (dtlsTransport.state === 'new') dtlsTransport.start(remoteDtlsParameters);\n                    }\n                    // Calculate intersection of capabilities.\n                    var params = $c3b2d19937a6b733$var$getCommonCapabilities(localCapabilities, remoteCapabilities);\n                    // Start the RTCRtpSender. The RTCRtpReceiver for this\n                    // transceiver has already been started in setRemoteDescription.\n                    pc._transceive(transceiver, params.codecs.length > 0, false);\n                }\n            });\n        }\n        pc._localDescription = {\n            type: description.type,\n            sdp: description.sdp\n        };\n        if (description.type === 'offer') pc._updateSignalingState('have-local-offer');\n        else pc._updateSignalingState('stable');\n        return Promise.resolve();\n    };\n    RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n        var pc = this;\n        // Note: pranswer is not supported.\n        if ([\n            'offer',\n            'answer'\n        ].indexOf(description.type) === -1) return Promise.reject($c3b2d19937a6b733$var$makeError('TypeError', 'Unsupported type \"' + description.type + '\"'));\n        if (!$c3b2d19937a6b733$var$isActionAllowedInSignalingState('setRemoteDescription', description.type, pc.signalingState) || pc._isClosed) return Promise.reject($c3b2d19937a6b733$var$makeError('InvalidStateError', 'Can not set remote ' + description.type + ' in state ' + pc.signalingState));\n        var streams = {};\n        pc.remoteStreams.forEach(function(stream) {\n            streams[stream.id] = stream;\n        });\n        var receiverList = [];\n        var sections = $b2727632138354b2$exports.splitSections(description.sdp);\n        var sessionpart = sections.shift();\n        var isIceLite = $b2727632138354b2$exports.matchPrefix(sessionpart, 'a=ice-lite').length > 0;\n        var usingBundle = $b2727632138354b2$exports.matchPrefix(sessionpart, 'a=group:BUNDLE ').length > 0;\n        pc.usingBundle = usingBundle;\n        var iceOptions = $b2727632138354b2$exports.matchPrefix(sessionpart, 'a=ice-options:')[0];\n        if (iceOptions) pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ').indexOf('trickle') >= 0;\n        else pc.canTrickleIceCandidates = false;\n        sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = $b2727632138354b2$exports.splitLines(mediaSection);\n            var kind = $b2727632138354b2$exports.getKind(mediaSection);\n            // treat bundle-only as not-rejected.\n            var rejected = $b2727632138354b2$exports.isRejected(mediaSection) && $b2727632138354b2$exports.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n            var protocol = lines[0].substr(2).split(' ')[2];\n            var direction = $b2727632138354b2$exports.getDirection(mediaSection, sessionpart);\n            var remoteMsid = $b2727632138354b2$exports.parseMsid(mediaSection);\n            var mid = $b2727632138354b2$exports.getMid(mediaSection) || $b2727632138354b2$exports.generateIdentifier();\n            // Reject datachannels which are not implemented yet.\n            if (rejected || kind === 'application' && (protocol === 'DTLS/SCTP' || protocol === 'UDP/DTLS/SCTP')) {\n                // TODO: this is dangerous in the case where a non-rejected m-line\n                //     becomes rejected.\n                pc.transceivers[sdpMLineIndex] = {\n                    mid: mid,\n                    kind: kind,\n                    protocol: protocol,\n                    rejected: true\n                };\n                return;\n            }\n            if (!rejected && pc.transceivers[sdpMLineIndex] && pc.transceivers[sdpMLineIndex].rejected) // recycle a rejected transceiver.\n            pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = $b2727632138354b2$exports.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n                remoteIceParameters = $b2727632138354b2$exports.getIceParameters(mediaSection, sessionpart);\n                remoteDtlsParameters = $b2727632138354b2$exports.getDtlsParameters(mediaSection, sessionpart);\n                remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters = $b2727632138354b2$exports.parseRtpEncodingParameters(mediaSection);\n            var rtcpParameters = $b2727632138354b2$exports.parseRtcpParameters(mediaSection);\n            var isComplete = $b2727632138354b2$exports.matchPrefix(mediaSection, 'a=end-of-candidates', sessionpart).length > 0;\n            var cands = $b2727632138354b2$exports.matchPrefix(mediaSection, 'a=candidate:').map(function(cand) {\n                return $b2727632138354b2$exports.parseCandidate(cand);\n            }).filter(function(cand) {\n                return cand.component === 1;\n            });\n            // Check if we can use BUNDLE and dispose transports.\n            if ((description.type === 'offer' || description.type === 'answer') && !rejected && usingBundle && sdpMLineIndex > 0 && pc.transceivers[sdpMLineIndex]) {\n                pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n                pc.transceivers[sdpMLineIndex].iceGatherer = pc.transceivers[0].iceGatherer;\n                pc.transceivers[sdpMLineIndex].iceTransport = pc.transceivers[0].iceTransport;\n                pc.transceivers[sdpMLineIndex].dtlsTransport = pc.transceivers[0].dtlsTransport;\n                if (pc.transceivers[sdpMLineIndex].rtpSender) pc.transceivers[sdpMLineIndex].rtpSender.setTransport(pc.transceivers[0].dtlsTransport);\n                if (pc.transceivers[sdpMLineIndex].rtpReceiver) pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(pc.transceivers[0].dtlsTransport);\n            }\n            if (description.type === 'offer' && !rejected) {\n                transceiver = pc.transceivers[sdpMLineIndex] || pc._createTransceiver(kind);\n                transceiver.mid = mid;\n                if (!transceiver.iceGatherer) transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex, usingBundle);\n                if (cands.length && transceiver.iceTransport.state === 'new') {\n                    if (isComplete && (!usingBundle || sdpMLineIndex === 0)) transceiver.iceTransport.setRemoteCandidates(cands);\n                    else cands.forEach(function(candidate) {\n                        $c3b2d19937a6b733$var$maybeAddCandidate(transceiver.iceTransport, candidate);\n                    });\n                }\n                localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n                // filter RTX until additional stuff needed for RTX is implemented\n                // in adapter.js\n                if (edgeVersion < 15019) localCapabilities.codecs = localCapabilities.codecs.filter(function(codec) {\n                    return codec.name !== 'rtx';\n                });\n                sendEncodingParameters = transceiver.sendEncodingParameters || [\n                    {\n                        ssrc: (2 * sdpMLineIndex + 2) * 1001\n                    }\n                ];\n                // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n                var isNewTrack = false;\n                if (direction === 'sendrecv' || direction === 'sendonly') {\n                    isNewTrack = !transceiver.rtpReceiver;\n                    rtpReceiver = transceiver.rtpReceiver || new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n                    if (isNewTrack) {\n                        var stream;\n                        track = rtpReceiver.track;\n                        // FIXME: does not work with Plan B.\n                        if (remoteMsid && remoteMsid.stream === '-') ;\n                        else if (remoteMsid) {\n                            if (!streams[remoteMsid.stream]) {\n                                streams[remoteMsid.stream] = new window.MediaStream();\n                                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                                    get: function get() {\n                                        return remoteMsid.stream;\n                                    }\n                                });\n                            }\n                            Object.defineProperty(track, 'id', {\n                                get: function get() {\n                                    return remoteMsid.track;\n                                }\n                            });\n                            stream = streams[remoteMsid.stream];\n                        } else {\n                            if (!streams[\"default\"]) streams[\"default\"] = new window.MediaStream();\n                            stream = streams[\"default\"];\n                        }\n                        if (stream) {\n                            addTrackToStreamAndFireEvent(track, stream);\n                            transceiver.associatedRemoteMediaStreams.push(stream);\n                        }\n                        receiverList.push([\n                            track,\n                            rtpReceiver,\n                            stream\n                        ]);\n                    }\n                } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n                    transceiver.associatedRemoteMediaStreams.forEach(function(s) {\n                        var nativeTrack = s.getTracks().find(function(t) {\n                            return t.id === transceiver.rtpReceiver.track.id;\n                        });\n                        if (nativeTrack) removeTrackFromStreamAndFireEvent(nativeTrack, s);\n                    });\n                    transceiver.associatedRemoteMediaStreams = [];\n                }\n                transceiver.localCapabilities = localCapabilities;\n                transceiver.remoteCapabilities = remoteCapabilities;\n                transceiver.rtpReceiver = rtpReceiver;\n                transceiver.rtcpParameters = rtcpParameters;\n                transceiver.sendEncodingParameters = sendEncodingParameters;\n                transceiver.recvEncodingParameters = recvEncodingParameters;\n                // Start the RTCRtpReceiver now. The RTPSender is started in\n                // setLocalDescription.\n                pc._transceive(pc.transceivers[sdpMLineIndex], false, isNewTrack);\n            } else if (description.type === 'answer' && !rejected) {\n                transceiver = pc.transceivers[sdpMLineIndex];\n                iceGatherer = transceiver.iceGatherer;\n                iceTransport = transceiver.iceTransport;\n                dtlsTransport = transceiver.dtlsTransport;\n                rtpReceiver = transceiver.rtpReceiver;\n                sendEncodingParameters = transceiver.sendEncodingParameters;\n                localCapabilities = transceiver.localCapabilities;\n                pc.transceivers[sdpMLineIndex].recvEncodingParameters = recvEncodingParameters;\n                pc.transceivers[sdpMLineIndex].remoteCapabilities = remoteCapabilities;\n                pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n                if (cands.length && iceTransport.state === 'new') {\n                    if ((isIceLite || isComplete) && (!usingBundle || sdpMLineIndex === 0)) iceTransport.setRemoteCandidates(cands);\n                    else cands.forEach(function(candidate) {\n                        $c3b2d19937a6b733$var$maybeAddCandidate(transceiver.iceTransport, candidate);\n                    });\n                }\n                if (!usingBundle || sdpMLineIndex === 0) {\n                    if (iceTransport.state === 'new') iceTransport.start(iceGatherer, remoteIceParameters, 'controlling');\n                    if (dtlsTransport.state === 'new') dtlsTransport.start(remoteDtlsParameters);\n                }\n                // If the offer contained RTX but the answer did not,\n                // remove RTX from sendEncodingParameters.\n                var commonCapabilities = $c3b2d19937a6b733$var$getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);\n                var hasRtx = commonCapabilities.codecs.filter(function(c) {\n                    return c.name.toLowerCase() === 'rtx';\n                }).length;\n                if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) delete transceiver.sendEncodingParameters[0].rtx;\n                pc._transceive(transceiver, direction === 'sendrecv' || direction === 'recvonly', direction === 'sendrecv' || direction === 'sendonly');\n                // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n                if (rtpReceiver && (direction === 'sendrecv' || direction === 'sendonly')) {\n                    track = rtpReceiver.track;\n                    if (remoteMsid) {\n                        if (!streams[remoteMsid.stream]) streams[remoteMsid.stream] = new window.MediaStream();\n                        addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n                        receiverList.push([\n                            track,\n                            rtpReceiver,\n                            streams[remoteMsid.stream]\n                        ]);\n                    } else {\n                        if (!streams[\"default\"]) streams[\"default\"] = new window.MediaStream();\n                        addTrackToStreamAndFireEvent(track, streams[\"default\"]);\n                        receiverList.push([\n                            track,\n                            rtpReceiver,\n                            streams[\"default\"]\n                        ]);\n                    }\n                } else // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n            }\n        });\n        if (pc._dtlsRole === undefined) pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n        pc._remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n        };\n        if (description.type === 'offer') pc._updateSignalingState('have-remote-offer');\n        else pc._updateSignalingState('stable');\n        Object.keys(streams).forEach(function(sid) {\n            var stream = streams[sid];\n            if (stream.getTracks().length) {\n                if (pc.remoteStreams.indexOf(stream) === -1) {\n                    pc.remoteStreams.push(stream);\n                    var event = new Event('addstream');\n                    event.stream = stream;\n                    window.setTimeout(function() {\n                        pc._dispatchEvent('addstream', event);\n                    });\n                }\n                receiverList.forEach(function(item) {\n                    var track = item[0];\n                    var receiver = item[1];\n                    if (stream.id !== item[2].id) return;\n                    fireAddTrack(pc, track, receiver, [\n                        stream\n                    ]);\n                });\n            }\n        });\n        receiverList.forEach(function(item) {\n            if (item[2]) return;\n            fireAddTrack(pc, item[0], item[1], []);\n        });\n        // check whether addIceCandidate({}) was called within four seconds after\n        // setRemoteDescription.\n        window.setTimeout(function() {\n            if (!(pc && pc.transceivers)) return;\n            pc.transceivers.forEach(function(transceiver) {\n                if (transceiver.iceTransport && transceiver.iceTransport.state === 'new' && transceiver.iceTransport.getRemoteCandidates().length > 0) {\n                    console.warn(\"Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification\");\n                    transceiver.iceTransport.addRemoteCandidate({});\n                }\n            });\n        }, 4000);\n        return Promise.resolve();\n    };\n    RTCPeerConnection.prototype.close = function() {\n        this.transceivers.forEach(function(transceiver) {\n            /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */ if (transceiver.iceTransport) transceiver.iceTransport.stop();\n            if (transceiver.dtlsTransport) transceiver.dtlsTransport.stop();\n            if (transceiver.rtpSender) transceiver.rtpSender.stop();\n            if (transceiver.rtpReceiver) transceiver.rtpReceiver.stop();\n        });\n        // FIXME: clean up tracks, local streams, remote streams, etc\n        this._isClosed = true;\n        this._updateSignalingState('closed');\n    };\n    // Update the signaling state.\n    RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n        this.signalingState = newState;\n        var event = new Event('signalingstatechange');\n        this._dispatchEvent('signalingstatechange', event);\n    };\n    // Determine whether to fire the negotiationneeded event.\n    RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n        var pc = this;\n        if (this.signalingState !== 'stable' || this.needNegotiation === true) return;\n        this.needNegotiation = true;\n        window.setTimeout(function() {\n            if (pc.needNegotiation) {\n                pc.needNegotiation = false;\n                var event = new Event('negotiationneeded');\n                pc._dispatchEvent('negotiationneeded', event);\n            }\n        }, 0);\n    };\n    // Update the ice connection state.\n    RTCPeerConnection.prototype._updateIceConnectionState = function() {\n        var newState;\n        var states = {\n            'new': 0,\n            closed: 0,\n            checking: 0,\n            connected: 0,\n            completed: 0,\n            disconnected: 0,\n            failed: 0\n        };\n        this.transceivers.forEach(function(transceiver) {\n            if (transceiver.iceTransport && !transceiver.rejected) states[transceiver.iceTransport.state]++;\n        });\n        newState = 'new';\n        if (states.failed > 0) newState = 'failed';\n        else if (states.checking > 0) newState = 'checking';\n        else if (states.disconnected > 0) newState = 'disconnected';\n        else if (states[\"new\"] > 0) newState = 'new';\n        else if (states.connected > 0) newState = 'connected';\n        else if (states.completed > 0) newState = 'completed';\n        if (newState !== this.iceConnectionState) {\n            this.iceConnectionState = newState;\n            var event = new Event('iceconnectionstatechange');\n            this._dispatchEvent('iceconnectionstatechange', event);\n        }\n    };\n    // Update the connection state.\n    RTCPeerConnection.prototype._updateConnectionState = function() {\n        var newState;\n        var states = {\n            'new': 0,\n            closed: 0,\n            connecting: 0,\n            connected: 0,\n            completed: 0,\n            disconnected: 0,\n            failed: 0\n        };\n        this.transceivers.forEach(function(transceiver) {\n            if (transceiver.iceTransport && transceiver.dtlsTransport && !transceiver.rejected) {\n                states[transceiver.iceTransport.state]++;\n                states[transceiver.dtlsTransport.state]++;\n            }\n        });\n        // ICETransport.completed and connected are the same for this purpose.\n        states.connected += states.completed;\n        newState = 'new';\n        if (states.failed > 0) newState = 'failed';\n        else if (states.connecting > 0) newState = 'connecting';\n        else if (states.disconnected > 0) newState = 'disconnected';\n        else if (states[\"new\"] > 0) newState = 'new';\n        else if (states.connected > 0) newState = 'connected';\n        if (newState !== this.connectionState) {\n            this.connectionState = newState;\n            var event = new Event('connectionstatechange');\n            this._dispatchEvent('connectionstatechange', event);\n        }\n    };\n    RTCPeerConnection.prototype.createOffer = function() {\n        var pc = this;\n        if (pc._isClosed) return Promise.reject($c3b2d19937a6b733$var$makeError('InvalidStateError', 'Can not call createOffer after close'));\n        var numAudioTracks = pc.transceivers.filter(function(t) {\n            return t.kind === 'audio';\n        }).length;\n        var numVideoTracks = pc.transceivers.filter(function(t) {\n            return t.kind === 'video';\n        }).length;\n        // Determine number of audio and video tracks we need to send/recv.\n        var offerOptions = arguments[0];\n        if (offerOptions) {\n            // Reject Chrome legacy constraints.\n            if (offerOptions.mandatory || offerOptions.optional) throw new TypeError('Legacy mandatory/optional constraints not supported.');\n            if (offerOptions.offerToReceiveAudio !== undefined) {\n                if (offerOptions.offerToReceiveAudio === true) numAudioTracks = 1;\n                else if (offerOptions.offerToReceiveAudio === false) numAudioTracks = 0;\n                else numAudioTracks = offerOptions.offerToReceiveAudio;\n            }\n            if (offerOptions.offerToReceiveVideo !== undefined) {\n                if (offerOptions.offerToReceiveVideo === true) numVideoTracks = 1;\n                else if (offerOptions.offerToReceiveVideo === false) numVideoTracks = 0;\n                else numVideoTracks = offerOptions.offerToReceiveVideo;\n            }\n        }\n        pc.transceivers.forEach(function(transceiver) {\n            if (transceiver.kind === 'audio') {\n                numAudioTracks--;\n                if (numAudioTracks < 0) transceiver.wantReceive = false;\n            } else if (transceiver.kind === 'video') {\n                numVideoTracks--;\n                if (numVideoTracks < 0) transceiver.wantReceive = false;\n            }\n        });\n        // Create M-lines for recvonly streams.\n        while(numAudioTracks > 0 || numVideoTracks > 0){\n            if (numAudioTracks > 0) {\n                pc._createTransceiver('audio');\n                numAudioTracks--;\n            }\n            if (numVideoTracks > 0) {\n                pc._createTransceiver('video');\n                numVideoTracks--;\n            }\n        }\n        var sdp = $b2727632138354b2$exports.writeSessionBoilerplate(pc._sdpSessionId, pc._sdpSessionVersion++);\n        pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n            // For each track, create an ice gatherer, ice transport,\n            // dtls transport, potentially rtpsender and rtpreceiver.\n            var track = transceiver.track;\n            var kind = transceiver.kind;\n            var mid = transceiver.mid || $b2727632138354b2$exports.generateIdentifier();\n            transceiver.mid = mid;\n            if (!transceiver.iceGatherer) transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex, pc.usingBundle);\n            var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n            // filter RTX until additional stuff needed for RTX is implemented\n            // in adapter.js\n            if (edgeVersion < 15019) localCapabilities.codecs = localCapabilities.codecs.filter(function(codec) {\n                return codec.name !== 'rtx';\n            });\n            localCapabilities.codecs.forEach(function(codec) {\n                // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n                // by adding level-asymmetry-allowed=1\n                if (codec.name === 'H264' && codec.parameters['level-asymmetry-allowed'] === undefined) codec.parameters['level-asymmetry-allowed'] = '1';\n                // for subsequent offers, we might have to re-use the payload\n                // type of the last offer.\n                if (transceiver.remoteCapabilities && transceiver.remoteCapabilities.codecs) transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {\n                    if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() && codec.clockRate === remoteCodec.clockRate) codec.preferredPayloadType = remoteCodec.payloadType;\n                });\n            });\n            localCapabilities.headerExtensions.forEach(function(hdrExt) {\n                var remoteExtensions = transceiver.remoteCapabilities && transceiver.remoteCapabilities.headerExtensions || [];\n                remoteExtensions.forEach(function(rHdrExt) {\n                    if (hdrExt.uri === rHdrExt.uri) hdrExt.id = rHdrExt.id;\n                });\n            });\n            // generate an ssrc now, to be used later in rtpSender.send\n            var sendEncodingParameters = transceiver.sendEncodingParameters || [\n                {\n                    ssrc: (2 * sdpMLineIndex + 1) * 1001\n                }\n            ];\n            if (track) // add RTX\n            {\n                if (edgeVersion >= 15019 && kind === 'video' && !sendEncodingParameters[0].rtx) sendEncodingParameters[0].rtx = {\n                    ssrc: sendEncodingParameters[0].ssrc + 1\n                };\n            }\n            if (transceiver.wantReceive) transceiver.rtpReceiver = new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n            transceiver.localCapabilities = localCapabilities;\n            transceiver.sendEncodingParameters = sendEncodingParameters;\n        });\n        // always offer BUNDLE and dispose on return if not supported.\n        if (pc._config.bundlePolicy !== 'max-compat') sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n            return t.mid;\n        }).join(' ') + '\\r\\n';\n        sdp += 'a=ice-options:trickle\\r\\n';\n        pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n            sdp += $c3b2d19937a6b733$var$writeMediaSection(transceiver, transceiver.localCapabilities, 'offer', transceiver.stream, pc._dtlsRole);\n            sdp += 'a=rtcp-rsize\\r\\n';\n            if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' && (sdpMLineIndex === 0 || !pc.usingBundle)) {\n                transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n                    cand.component = 1;\n                    sdp += 'a=' + $b2727632138354b2$exports.writeCandidate(cand) + '\\r\\n';\n                });\n                if (transceiver.iceGatherer.state === 'completed') sdp += 'a=end-of-candidates\\r\\n';\n            }\n        });\n        var desc = new window.RTCSessionDescription({\n            type: 'offer',\n            sdp: sdp\n        });\n        return Promise.resolve(desc);\n    };\n    RTCPeerConnection.prototype.createAnswer = function() {\n        var pc = this;\n        if (pc._isClosed) return Promise.reject($c3b2d19937a6b733$var$makeError('InvalidStateError', 'Can not call createAnswer after close'));\n        if (!(pc.signalingState === 'have-remote-offer' || pc.signalingState === 'have-local-pranswer')) return Promise.reject($c3b2d19937a6b733$var$makeError('InvalidStateError', 'Can not call createAnswer in signalingState ' + pc.signalingState));\n        var sdp = $b2727632138354b2$exports.writeSessionBoilerplate(pc._sdpSessionId, pc._sdpSessionVersion++);\n        if (pc.usingBundle) sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n            return t.mid;\n        }).join(' ') + '\\r\\n';\n        sdp += 'a=ice-options:trickle\\r\\n';\n        var mediaSectionsInOffer = $b2727632138354b2$exports.getMediaSections(pc._remoteDescription.sdp).length;\n        pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n            if (sdpMLineIndex + 1 > mediaSectionsInOffer) return;\n            if (transceiver.rejected) {\n                if (transceiver.kind === 'application') {\n                    if (transceiver.protocol === 'DTLS/SCTP') sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n                    else sdp += 'm=application 0 ' + transceiver.protocol + ' webrtc-datachannel\\r\\n';\n                } else if (transceiver.kind === 'audio') sdp += \"m=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\na=rtpmap:0 PCMU/8000\\r\\n\";\n                else if (transceiver.kind === 'video') sdp += \"m=video 0 UDP/TLS/RTP/SAVPF 120\\r\\na=rtpmap:120 VP8/90000\\r\\n\";\n                sdp += \"c=IN IP4 0.0.0.0\\r\\na=inactive\\r\\na=mid:\" + transceiver.mid + '\\r\\n';\n                return;\n            }\n            // FIXME: look at direction.\n            if (transceiver.stream) {\n                var localTrack;\n                if (transceiver.kind === 'audio') localTrack = transceiver.stream.getAudioTracks()[0];\n                else if (transceiver.kind === 'video') localTrack = transceiver.stream.getVideoTracks()[0];\n                if (localTrack) // add RTX\n                {\n                    if (edgeVersion >= 15019 && transceiver.kind === 'video' && !transceiver.sendEncodingParameters[0].rtx) transceiver.sendEncodingParameters[0].rtx = {\n                        ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n                    };\n                }\n            }\n            // Calculate intersection of capabilities.\n            var commonCapabilities = $c3b2d19937a6b733$var$getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);\n            var hasRtx = commonCapabilities.codecs.filter(function(c) {\n                return c.name.toLowerCase() === 'rtx';\n            }).length;\n            if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) delete transceiver.sendEncodingParameters[0].rtx;\n            sdp += $c3b2d19937a6b733$var$writeMediaSection(transceiver, commonCapabilities, 'answer', transceiver.stream, pc._dtlsRole);\n            if (transceiver.rtcpParameters && transceiver.rtcpParameters.reducedSize) sdp += 'a=rtcp-rsize\\r\\n';\n        });\n        var desc = new window.RTCSessionDescription({\n            type: 'answer',\n            sdp: sdp\n        });\n        return Promise.resolve(desc);\n    };\n    RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n        var pc = this;\n        var sections;\n        if (candidate && !(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n        // TODO: needs to go into ops queue.\n        return new Promise(function(resolve, reject) {\n            if (!pc._remoteDescription) return reject($c3b2d19937a6b733$var$makeError('InvalidStateError', 'Can not add ICE candidate without a remote description'));\n            else if (!candidate || candidate.candidate === '') for(var j = 0; j < pc.transceivers.length; j++){\n                if (pc.transceivers[j].rejected) continue;\n                pc.transceivers[j].iceTransport.addRemoteCandidate({});\n                sections = $b2727632138354b2$exports.getMediaSections(pc._remoteDescription.sdp);\n                sections[j] += 'a=end-of-candidates\\r\\n';\n                pc._remoteDescription.sdp = $b2727632138354b2$exports.getDescription(pc._remoteDescription.sdp) + sections.join('');\n                if (pc.usingBundle) break;\n            }\n            else {\n                var sdpMLineIndex = candidate.sdpMLineIndex;\n                if (candidate.sdpMid) {\n                    for(var i = 0; i < pc.transceivers.length; i++)if (pc.transceivers[i].mid === candidate.sdpMid) {\n                        sdpMLineIndex = i;\n                        break;\n                    }\n                }\n                var transceiver = pc.transceivers[sdpMLineIndex];\n                if (transceiver) {\n                    if (transceiver.rejected) return resolve();\n                    var cand = Object.keys(candidate.candidate).length > 0 ? $b2727632138354b2$exports.parseCandidate(candidate.candidate) : {};\n                    // Ignore Chrome's invalid candidates since Edge does not like them.\n                    if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) return resolve();\n                    // Ignore RTCP candidates, we assume RTCP-MUX.\n                    if (cand.component && cand.component !== 1) return resolve();\n                    // when using bundle, avoid adding candidates to the wrong\n                    // ice transport. And avoid adding candidates added in the SDP.\n                    if (sdpMLineIndex === 0 || sdpMLineIndex > 0 && transceiver.iceTransport !== pc.transceivers[0].iceTransport) {\n                        if (!$c3b2d19937a6b733$var$maybeAddCandidate(transceiver.iceTransport, cand)) return reject($c3b2d19937a6b733$var$makeError('OperationError', 'Can not add ICE candidate'));\n                    }\n                    // update the remoteDescription.\n                    var candidateString = candidate.candidate.trim();\n                    if (candidateString.indexOf('a=') === 0) candidateString = candidateString.substr(2);\n                    sections = $b2727632138354b2$exports.getMediaSections(pc._remoteDescription.sdp);\n                    sections[sdpMLineIndex] += 'a=' + (cand.type ? candidateString : 'end-of-candidates') + '\\r\\n';\n                    pc._remoteDescription.sdp = $b2727632138354b2$exports.getDescription(pc._remoteDescription.sdp) + sections.join('');\n                } else return reject($c3b2d19937a6b733$var$makeError('OperationError', 'Can not add ICE candidate'));\n            }\n            resolve();\n        });\n    };\n    RTCPeerConnection.prototype.getStats = function(selector) {\n        if (selector && selector instanceof window.MediaStreamTrack) {\n            var senderOrReceiver = null;\n            this.transceivers.forEach(function(transceiver) {\n                if (transceiver.rtpSender && transceiver.rtpSender.track === selector) senderOrReceiver = transceiver.rtpSender;\n                else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track === selector) senderOrReceiver = transceiver.rtpReceiver;\n            });\n            if (!senderOrReceiver) throw $c3b2d19937a6b733$var$makeError('InvalidAccessError', 'Invalid selector.');\n            return senderOrReceiver.getStats();\n        }\n        var promises = [];\n        this.transceivers.forEach(function(transceiver) {\n            [\n                'rtpSender',\n                'rtpReceiver',\n                'iceGatherer',\n                'iceTransport',\n                'dtlsTransport'\n            ].forEach(function(method) {\n                if (transceiver[method]) promises.push(transceiver[method].getStats());\n            });\n        });\n        return Promise.all(promises).then(function(allStats) {\n            var results = new Map();\n            allStats.forEach(function(stats) {\n                stats.forEach(function(stat) {\n                    results.set(stat.id, stat);\n                });\n            });\n            return results;\n        });\n    };\n    // fix low-level stat names and return Map instead of object.\n    var ortcObjects = [\n        'RTCRtpSender',\n        'RTCRtpReceiver',\n        'RTCIceGatherer',\n        'RTCIceTransport',\n        'RTCDtlsTransport'\n    ];\n    ortcObjects.forEach(function(ortcObjectName) {\n        var obj = window[ortcObjectName];\n        if (obj && obj.prototype && obj.prototype.getStats) {\n            var nativeGetstats = obj.prototype.getStats;\n            obj.prototype.getStats = function() {\n                return nativeGetstats.apply(this).then(function(nativeStats) {\n                    var mapStats = new Map();\n                    Object.keys(nativeStats).forEach(function(id) {\n                        nativeStats[id].type = $c3b2d19937a6b733$var$fixStatsType(nativeStats[id]);\n                        mapStats.set(id, nativeStats[id]);\n                    });\n                    return mapStats;\n                });\n            };\n        }\n    });\n    // legacy callback shims. Should be moved to adapter.js some days.\n    var methods = [\n        'createOffer',\n        'createAnswer'\n    ];\n    methods.forEach(function(method) {\n        var nativeMethod = RTCPeerConnection.prototype[method];\n        RTCPeerConnection.prototype[method] = function() {\n            var args = arguments;\n            if (typeof args[0] === 'function' || typeof args[1] === 'function') return nativeMethod.apply(this, [\n                arguments[2]\n            ]).then(function(description) {\n                if (typeof args[0] === 'function') args[0].apply(null, [\n                    description\n                ]);\n            }, function(error) {\n                if (typeof args[1] === 'function') args[1].apply(null, [\n                    error\n                ]);\n            });\n            return nativeMethod.apply(this, arguments);\n        };\n    });\n    methods = [\n        'setLocalDescription',\n        'setRemoteDescription',\n        'addIceCandidate'\n    ];\n    methods.forEach(function(method) {\n        var nativeMethod = RTCPeerConnection.prototype[method];\n        RTCPeerConnection.prototype[method] = function() {\n            var args = arguments;\n            if (typeof args[1] === 'function' || typeof args[2] === 'function') return nativeMethod.apply(this, arguments).then(function() {\n                if (typeof args[1] === 'function') args[1].apply(null);\n            }, function(error) {\n                if (typeof args[2] === 'function') args[2].apply(null, [\n                    error\n                ]);\n            });\n            return nativeMethod.apply(this, arguments);\n        };\n    });\n    // getStats is special. It doesn't have a spec legacy method yet we support\n    // getStats(something, cb) without error callbacks.\n    [\n        'getStats'\n    ].forEach(function(method) {\n        var nativeMethod = RTCPeerConnection.prototype[method];\n        RTCPeerConnection.prototype[method] = function() {\n            var args = arguments;\n            if (typeof args[1] === 'function') return nativeMethod.apply(this, arguments).then(function() {\n                if (typeof args[1] === 'function') args[1].apply(null);\n            });\n            return nativeMethod.apply(this, arguments);\n        };\n    });\n    return RTCPeerConnection;\n};\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $39ead859a3c672fa$export$1ed4910f4d37dc5e(window) {\n    var navigator = window && window.navigator;\n    var shimError_ = function shimError_(e) {\n        return {\n            name: ({\n                PermissionDeniedError: 'NotAllowedError'\n            })[e.name] || e.name,\n            message: e.message,\n            constraint: e.constraint,\n            toString: function() {\n                return this.name;\n            }\n        };\n    };\n    // getUserMedia error shim.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n        return origGetUserMedia(c)[\"catch\"](function(e) {\n            return Promise.reject(shimError_(e));\n        });\n    };\n}\n\n\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $7b69cd21fcfc4b7f$export$97270b87351d9c04(window) {\n    if (!('getDisplayMedia' in window.navigator)) return;\n    if (!window.navigator.mediaDevices) return;\n    if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) return;\n    window.navigator.mediaDevices.getDisplayMedia = window.navigator.getDisplayMedia.bind(window.navigator);\n}\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $288dd6e7aa6ce0a1$export$852a08dda9a55ea7(window, browserDetails) {\n    if (window.RTCIceGatherer) {\n        if (!window.RTCIceCandidate) window.RTCIceCandidate = function RTCIceCandidate(args) {\n            return args;\n        };\n        if (!window.RTCSessionDescription) window.RTCSessionDescription = function RTCSessionDescription(args) {\n            return args;\n        };\n        // this adds an additional event listener to MediaStrackTrack that signals\n        // when a tracks enabled property was changed. Workaround for a bug in\n        // addStream, see below. No longer required in 15025+\n        if (browserDetails.version < 15025) {\n            var origMSTEnabled = Object.getOwnPropertyDescriptor(window.MediaStreamTrack.prototype, 'enabled');\n            Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n                set: function(value) {\n                    origMSTEnabled.set.call(this, value);\n                    var ev = new Event('enabled');\n                    ev.enabled = value;\n                    this.dispatchEvent(ev);\n                }\n            });\n        }\n    }\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n            if (this._dtmf === undefined) {\n                if (this.track.kind === 'audio') this._dtmf = new window.RTCDtmfSender(this);\n                else if (this.track.kind === 'video') this._dtmf = null;\n            }\n            return this._dtmf;\n        }\n    });\n    // Edge currently only implements the RTCDtmfSender, not the\n    // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*\n    if (window.RTCDtmfSender && !window.RTCDTMFSender) window.RTCDTMFSender = window.RTCDtmfSender;\n    var RTCPeerConnectionShim = (/*@__PURE__*/$parcel$interopDefault($c3b2d19937a6b733$exports))(window, browserDetails.version);\n    window.RTCPeerConnection = function RTCPeerConnection(config) {\n        if (config && config.iceServers) {\n            config.iceServers = $4f5b27f4cfa8d64e$export$66148a33ab327e2(config.iceServers, browserDetails.version);\n            $993722e8c7a9e5a7$export$bef1f36f5486a6a3('ICE servers after filtering:', config.iceServers);\n        }\n        return new RTCPeerConnectionShim(config);\n    };\n    window.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;\n}\nfunction $288dd6e7aa6ce0a1$export$72e310cc73676e34(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender && !('replaceTrack' in window.RTCRtpSender.prototype)) window.RTCRtpSender.prototype.replaceTrack = window.RTCRtpSender.prototype.setTrack;\n}\n\n\nvar $f7879eae6ce316c3$exports = {};\n\n$parcel$export($f7879eae6ce316c3$exports, \"shimOnTrack\", function () { return $f7879eae6ce316c3$export$f358708f68ab068; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimPeerConnection\", function () { return $f7879eae6ce316c3$export$852a08dda9a55ea7; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimSenderGetStats\", function () { return $f7879eae6ce316c3$export$f0525502095c04ef; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimReceiverGetStats\", function () { return $f7879eae6ce316c3$export$83d69126527b1171; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimRemoveStream\", function () { return $f7879eae6ce316c3$export$825e523ef749bd8c; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimRTCDataChannel\", function () { return $f7879eae6ce316c3$export$ff9cb3bc8990e8f7; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimAddTransceiver\", function () { return $f7879eae6ce316c3$export$70c77533b6e9908d; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimGetParameters\", function () { return $f7879eae6ce316c3$export$66238223c298fbaa; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimCreateOffer\", function () { return $f7879eae6ce316c3$export$51beccf0e777b843; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimCreateAnswer\", function () { return $f7879eae6ce316c3$export$df0b46e7cef08150; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimGetUserMedia\", function () { return $ff944220a0d9cb56$export$1ed4910f4d37dc5e; });\n$parcel$export($f7879eae6ce316c3$exports, \"shimGetDisplayMedia\", function () { return $3b086a053fdafaab$export$97270b87351d9c04; });\n\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $ff944220a0d9cb56$export$1ed4910f4d37dc5e(window, browserDetails) {\n    var navigator = window && window.navigator;\n    var MediaStreamTrack = window && window.MediaStreamTrack;\n    navigator.getUserMedia = function(constraints, onSuccess, onError) {\n        // Replace Firefox 44+'s deprecation warning with unprefixed version.\n        $993722e8c7a9e5a7$export$cdd73fc4100a6ef4('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n        navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n    };\n    if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n        var remap = function remap(obj, a, b) {\n            if (a in obj && !(b in obj)) {\n                obj[b] = obj[a];\n                delete obj[a];\n            }\n        };\n        var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n        navigator.mediaDevices.getUserMedia = function(c) {\n            if (typeof c === 'object' && typeof c.audio === 'object') {\n                c = JSON.parse(JSON.stringify(c));\n                remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n                remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n            }\n            return nativeGetUserMedia(c);\n        };\n        if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n            var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n            MediaStreamTrack.prototype.getSettings = function() {\n                var obj = nativeGetSettings.apply(this, arguments);\n                remap(obj, 'mozAutoGainControl', 'autoGainControl');\n                remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n                return obj;\n            };\n        }\n        if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n            var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n            MediaStreamTrack.prototype.applyConstraints = function(c) {\n                if (this.kind === 'audio' && typeof c === 'object') {\n                    c = JSON.parse(JSON.stringify(c));\n                    remap(c, 'autoGainControl', 'mozAutoGainControl');\n                    remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n                }\n                return nativeApplyConstraints.apply(this, [\n                    c\n                ]);\n            };\n        }\n    }\n}\n\n\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $3b086a053fdafaab$export$97270b87351d9c04(window, preferredMediaSource) {\n    if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) return;\n    if (!window.navigator.mediaDevices) return;\n    window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n        if (!(constraints && constraints.video)) {\n            var err = new DOMException(\"getDisplayMedia without video constraints is undefined\");\n            err.name = 'NotFoundError';\n            // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n            err.code = 8;\n            return Promise.reject(err);\n        }\n        if (constraints.video === true) constraints.video = {\n            mediaSource: preferredMediaSource\n        };\n        else constraints.video.mediaSource = preferredMediaSource;\n        return window.navigator.mediaDevices.getUserMedia(constraints);\n    };\n}\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $f7879eae6ce316c3$export$f358708f68ab068(window) {\n    if (typeof window === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n            return {\n                receiver: this.receiver\n            };\n        }\n    });\n}\nfunction $f7879eae6ce316c3$export$852a08dda9a55ea7(window, browserDetails) {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection || window.mozRTCPeerConnection)) return; // probably media.peerconnection.enabled=false in about:config\n    if (!window.RTCPeerConnection && window.mozRTCPeerConnection) // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n    if (browserDetails.version < 53) // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    [\n        'setLocalDescription',\n        'setRemoteDescription',\n        'addIceCandidate'\n    ].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        var methodObj = $721c9139085d8798$export$2e2bcd8739ae039({}, method, function() {\n            arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n        });\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n    var modernStatsTypes = {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n    };\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function getStats() {\n        var _arguments = $960f5a79faa92066$export$2e2bcd8739ae039(arguments, 3), selector = _arguments[0], onSucc = _arguments[1], onErr = _arguments[2];\n        return nativeGetStats.apply(this, [\n            selector || null\n        ]).then(function(stats) {\n            if (browserDetails.version < 53 && !onSucc) // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n                stats.forEach(function(stat) {\n                    stat.type = modernStatsTypes[stat.type] || stat.type;\n                });\n            } catch (e) {\n                if (e.name !== 'TypeError') throw e;\n                // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n                stats.forEach(function(stat, i) {\n                    stats.set(i, Object.assign({}, stat, {\n                        type: modernStatsTypes[stat.type] || stat.type\n                    }));\n                });\n            }\n            return stats;\n        }).then(onSucc, onErr);\n    };\n}\nfunction $f7879eae6ce316c3$export$f0525502095c04ef(window) {\n    if (!(typeof window === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) return;\n    if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) return;\n    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        var _this = this;\n        var senders = origGetSenders.apply(this, []);\n        senders.forEach(function(sender) {\n            return sender._pc = _this;\n        });\n        return senders;\n    };\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        var sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n    };\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n        return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map());\n    };\n}\nfunction $f7879eae6ce316c3$export$83d69126527b1171(window) {\n    if (!(typeof window === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) return;\n    if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) return;\n    var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n        var _this = this;\n        var receivers = origGetReceivers.apply(this, []);\n        receivers.forEach(function(receiver) {\n            return receiver._pc = _this;\n        });\n        return receivers;\n    };\n    $993722e8c7a9e5a7$export$1f48841962b828b1(window, 'track', function(e) {\n        e.receiver._pc = e.srcElement;\n        return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n        return this._pc.getStats(this.track);\n    };\n}\nfunction $f7879eae6ce316c3$export$825e523ef749bd8c(window) {\n    if (!window.RTCPeerConnection || 'removeStream' in window.RTCPeerConnection.prototype) return;\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n        var _this = this;\n        $993722e8c7a9e5a7$export$cdd73fc4100a6ef4('removeStream', 'removeTrack');\n        this.getSenders().forEach(function(sender) {\n            if (sender.track && stream.getTracks().includes(sender.track)) _this.removeTrack(sender);\n        });\n    };\n}\nfunction $f7879eae6ce316c3$export$ff9cb3bc8990e8f7(window) {\n    // rename DataChannel to RTCDataChannel (native fix in FF60):\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n    if (window.DataChannel && !window.RTCDataChannel) window.RTCDataChannel = window.DataChannel;\n}\nfunction $f7879eae6ce316c3$export$70c77533b6e9908d(window) {\n    // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n    // Firefox ignores the init sendEncodings options passed to addTransceiver\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n    if (!(typeof window === 'object' && window.RTCPeerConnection)) return;\n    var origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n    if (origAddTransceiver) window.RTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n        this.setParametersPromises = [];\n        var initParameters = arguments[1];\n        var shouldPerformCheck = initParameters && 'sendEncodings' in initParameters;\n        if (shouldPerformCheck) // If sendEncodings params are provided, validate grammar\n        initParameters.sendEncodings.forEach(function(encodingParam) {\n            if ('rid' in encodingParam) {\n                var ridRegex = /^[a-z0-9]{0,16}$/i;\n                if (!ridRegex.test(encodingParam.rid)) throw new TypeError('Invalid RID value provided.');\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n                if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) throw new RangeError('scale_resolution_down_by must be >= 1.0');\n            }\n            if ('maxFramerate' in encodingParam) {\n                if (!(parseFloat(encodingParam.maxFramerate) >= 0)) throw new RangeError('max_framerate must be >= 0.0');\n            }\n        });\n        var transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n            // Check if the init options were applied. If not we do this in an\n            // asynchronous way and save the promise reference in a global object.\n            // This is an ugly hack, but at the same time is way more robust than\n            // checking the sender parameters before and after the createOffer\n            // Also note that after the createoffer we are not 100% sure that\n            // the params were asynchronously applied so we might miss the\n            // opportunity to recreate offer.\n            var sender = transceiver.sender;\n            var params = sender.getParameters();\n            if (!('encodings' in params) || params.encodings.length === 1 && Object.keys(params.encodings[0]).length === 0) {\n                params.encodings = initParameters.sendEncodings;\n                sender.sendEncodings = initParameters.sendEncodings;\n                this.setParametersPromises.push(sender.setParameters(params).then(function() {\n                    delete sender.sendEncodings;\n                })[\"catch\"](function() {\n                    delete sender.sendEncodings;\n                }));\n            }\n        }\n        return transceiver;\n    };\n}\nfunction $f7879eae6ce316c3$export$66238223c298fbaa(window) {\n    if (!(typeof window === 'object' && window.RTCRtpSender)) return;\n    var origGetParameters = window.RTCRtpSender.prototype.getParameters;\n    if (origGetParameters) window.RTCRtpSender.prototype.getParameters = function getParameters() {\n        var params = origGetParameters.apply(this, arguments);\n        if (!('encodings' in params)) params.encodings = [].concat(this.sendEncodings || [\n            {}\n        ]);\n        return params;\n    };\n}\nfunction $f7879eae6ce316c3$export$51beccf0e777b843(window) {\n    // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n    // Firefox ignores the init sendEncodings options passed to addTransceiver\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n    if (!(typeof window === 'object' && window.RTCPeerConnection)) return;\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n        var _this = this, _arguments = arguments;\n        if (this.setParametersPromises && this.setParametersPromises.length) return Promise.all(this.setParametersPromises).then(function() {\n            return origCreateOffer.apply(_this, _arguments);\n        })[\"finally\"](function() {\n            _this.setParametersPromises = [];\n        });\n        return origCreateOffer.apply(this, arguments);\n    };\n}\nfunction $f7879eae6ce316c3$export$df0b46e7cef08150(window) {\n    // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n    // Firefox ignores the init sendEncodings options passed to addTransceiver\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n    if (!(typeof window === 'object' && window.RTCPeerConnection)) return;\n    var origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n    window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n        var _this = this, _arguments = arguments;\n        if (this.setParametersPromises && this.setParametersPromises.length) return Promise.all(this.setParametersPromises).then(function() {\n            return origCreateAnswer.apply(_this, _arguments);\n        })[\"finally\"](function() {\n            _this.setParametersPromises = [];\n        });\n        return origCreateAnswer.apply(this, arguments);\n    };\n}\n\n\nvar $b5603e2a25579e83$exports = {};\n\n$parcel$export($b5603e2a25579e83$exports, \"shimLocalStreamsAPI\", function () { return $b5603e2a25579e83$export$8df41282f4fdcea2; });\n$parcel$export($b5603e2a25579e83$exports, \"shimRemoteStreamsAPI\", function () { return $b5603e2a25579e83$export$762aa4cbb4f2f857; });\n$parcel$export($b5603e2a25579e83$exports, \"shimCallbacksAPI\", function () { return $b5603e2a25579e83$export$da31df245debdd3; });\n$parcel$export($b5603e2a25579e83$exports, \"shimGetUserMedia\", function () { return $b5603e2a25579e83$export$1ed4910f4d37dc5e; });\n$parcel$export($b5603e2a25579e83$exports, \"shimConstraints\", function () { return $b5603e2a25579e83$export$494a01ac68ba81ac; });\n$parcel$export($b5603e2a25579e83$exports, \"shimRTCIceServerUrls\", function () { return $b5603e2a25579e83$export$671a8b47b41b6f41; });\n$parcel$export($b5603e2a25579e83$exports, \"shimTrackEventTransceiver\", function () { return $b5603e2a25579e83$export$85d53da088cb1b14; });\n$parcel$export($b5603e2a25579e83$exports, \"shimCreateOfferLegacy\", function () { return $b5603e2a25579e83$export$d444266503fdd2d4; });\n$parcel$export($b5603e2a25579e83$exports, \"shimAudioContext\", function () { return $b5603e2a25579e83$export$857cd739a7b795d2; });\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ 'use strict';\nfunction $b5603e2a25579e83$export$8df41282f4fdcea2(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) return;\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n        if (!this._localStreams) this._localStreams = [];\n        return this._localStreams;\n    };\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n        var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n            var _this = this;\n            if (!this._localStreams) this._localStreams = [];\n            if (!this._localStreams.includes(stream)) this._localStreams.push(stream);\n            // Try to emulate Chrome's behaviour of adding in audio-video order.\n            // Safari orders by track id.\n            stream.getAudioTracks().forEach(function(track) {\n                return _addTrack.call(_this, track, stream);\n            });\n            stream.getVideoTracks().forEach(function(track) {\n                return _addTrack.call(_this, track, stream);\n            });\n        };\n        window.RTCPeerConnection.prototype.addTrack = function addTrack(track) {\n            for(var _len = arguments.length, streams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n                streams[_key - 1] = arguments[_key];\n            }\n            var _this = this;\n            if (streams) streams.forEach(function(stream) {\n                if (!_this._localStreams) _this._localStreams = [\n                    stream\n                ];\n                else if (!_this._localStreams.includes(stream)) _this._localStreams.push(stream);\n            });\n            return _addTrack.apply(this, arguments);\n        };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n        var _this = this;\n        if (!this._localStreams) this._localStreams = [];\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) return;\n        this._localStreams.splice(index, 1);\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n            if (tracks.includes(sender.track)) _this.removeTrack(sender);\n        });\n    };\n}\nfunction $b5603e2a25579e83$export$762aa4cbb4f2f857(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) return;\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) window.RTCPeerConnection.prototype.getRemoteStreams = function getRemoteStreams() {\n        return this._remoteStreams ? this._remoteStreams : [];\n    };\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n        Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n            get: function() {\n                return this._onaddstream;\n            },\n            set: function(f) {\n                var _this = this;\n                if (this._onaddstream) {\n                    this.removeEventListener('addstream', this._onaddstream);\n                    this.removeEventListener('track', this._onaddstreampoly);\n                }\n                this.addEventListener('addstream', this._onaddstream = f);\n                this.addEventListener('track', this._onaddstreampoly = function(e) {\n                    var _this1 = _this;\n                    e.streams.forEach(function(stream) {\n                        if (!_this1._remoteStreams) _this1._remoteStreams = [];\n                        if (_this1._remoteStreams.includes(stream)) return;\n                        _this1._remoteStreams.push(stream);\n                        var event = new Event('addstream');\n                        event.stream = stream;\n                        _this1.dispatchEvent(event);\n                    });\n                });\n            }\n        });\n        var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n        window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n            var pc = this;\n            if (!this._onaddstreampoly) this.addEventListener('track', this._onaddstreampoly = function(e) {\n                e.streams.forEach(function(stream) {\n                    if (!pc._remoteStreams) pc._remoteStreams = [];\n                    if (pc._remoteStreams.indexOf(stream) >= 0) return;\n                    pc._remoteStreams.push(stream);\n                    var event = new Event('addstream');\n                    event.stream = stream;\n                    pc.dispatchEvent(event);\n                });\n            });\n            return origSetRemoteDescription.apply(pc, arguments);\n        };\n    }\n}\nfunction $b5603e2a25579e83$export$da31df245debdd3(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) return;\n    var prototype = window.RTCPeerConnection.prototype;\n    var origCreateOffer = prototype.createOffer;\n    var origCreateAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n    prototype.createOffer = function createOffer(successCallback, failureCallback) {\n        var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n        var promise = origCreateOffer.apply(this, [\n            options\n        ]);\n        if (!failureCallback) return promise;\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n    };\n    prototype.createAnswer = function createAnswer(successCallback, failureCallback) {\n        var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n        var promise = origCreateAnswer.apply(this, [\n            options\n        ]);\n        if (!failureCallback) return promise;\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n    };\n    var withCallback = function withCallback(description, successCallback, failureCallback) {\n        var promise = setLocalDescription.apply(this, [\n            description\n        ]);\n        if (!failureCallback) return promise;\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n    withCallback = function withCallback(description, successCallback, failureCallback) {\n        var promise = setRemoteDescription.apply(this, [\n            description\n        ]);\n        if (!failureCallback) return promise;\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n    withCallback = function withCallback(candidate, successCallback, failureCallback) {\n        var promise = addIceCandidate.apply(this, [\n            candidate\n        ]);\n        if (!failureCallback) return promise;\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n}\nfunction $b5603e2a25579e83$export$1ed4910f4d37dc5e(window) {\n    var navigator = window && window.navigator;\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        // shim not needed in Safari 12.1\n        var mediaDevices = navigator.mediaDevices;\n        var _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n        navigator.mediaDevices.getUserMedia = function(constraints) {\n            return _getUserMedia($b5603e2a25579e83$export$494a01ac68ba81ac(constraints));\n        };\n    }\n    if (!navigator.getUserMedia && navigator.mediaDevices && navigator.mediaDevices.getUserMedia) navigator.getUserMedia = (function getUserMedia(constraints, cb, errcb) {\n        navigator.mediaDevices.getUserMedia(constraints).then(cb, errcb);\n    }).bind(navigator);\n}\nfunction $b5603e2a25579e83$export$494a01ac68ba81ac(constraints) {\n    if (constraints && constraints.video !== undefined) return Object.assign({}, constraints, {\n        video: $993722e8c7a9e5a7$export$15384eac40dc88c8(constraints.video)\n    });\n    return constraints;\n}\nfunction $b5603e2a25579e83$export$671a8b47b41b6f41(window) {\n    if (!window.RTCPeerConnection) return;\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function RTCPeerConnection(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for(var i = 0; i < pcConfig.iceServers.length; i++){\n                var server = pcConfig.iceServers[i];\n                if (!server.hasOwnProperty('urls') && server.hasOwnProperty('url')) {\n                    $993722e8c7a9e5a7$export$cdd73fc4100a6ef4('RTCIceServer.url', 'RTCIceServer.urls');\n                    server = JSON.parse(JSON.stringify(server));\n                    server.urls = server.url;\n                    delete server.url;\n                    newIceServers.push(server);\n                } else newIceServers.push(pcConfig.iceServers[i]);\n            }\n            pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in OrigPeerConnection) Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n            return OrigPeerConnection.generateCertificate;\n        }\n    });\n}\nfunction $b5603e2a25579e83$export$85d53da088cb1b14(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n            return {\n                receiver: this.receiver\n            };\n        }\n    });\n}\nfunction $b5603e2a25579e83$export$d444266503fdd2d4(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function createOffer(offerOptions) {\n        if (offerOptions) {\n            if (typeof offerOptions.offerToReceiveAudio !== 'undefined') // support bit values\n            offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n            var audioTransceiver = this.getTransceivers().find(function(transceiver) {\n                return transceiver.receiver.track.kind === 'audio';\n            });\n            if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n                if (audioTransceiver.direction === 'sendrecv') {\n                    if (audioTransceiver.setDirection) audioTransceiver.setDirection('sendonly');\n                    else audioTransceiver.direction = 'sendonly';\n                } else if (audioTransceiver.direction === 'recvonly') {\n                    if (audioTransceiver.setDirection) audioTransceiver.setDirection('inactive');\n                    else audioTransceiver.direction = 'inactive';\n                }\n            } else if (offerOptions.offerToReceiveAudio === true && !audioTransceiver) this.addTransceiver('audio');\n            if (typeof offerOptions.offerToReceiveVideo !== 'undefined') // support bit values\n            offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n            var videoTransceiver = this.getTransceivers().find(function(transceiver) {\n                return transceiver.receiver.track.kind === 'video';\n            });\n            if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n                if (videoTransceiver.direction === 'sendrecv') {\n                    if (videoTransceiver.setDirection) videoTransceiver.setDirection('sendonly');\n                    else videoTransceiver.direction = 'sendonly';\n                } else if (videoTransceiver.direction === 'recvonly') {\n                    if (videoTransceiver.setDirection) videoTransceiver.setDirection('inactive');\n                    else videoTransceiver.direction = 'inactive';\n                }\n            } else if (offerOptions.offerToReceiveVideo === true && !videoTransceiver) this.addTransceiver('video');\n        }\n        return origCreateOffer.apply(this, arguments);\n    };\n}\nfunction $b5603e2a25579e83$export$857cd739a7b795d2(window) {\n    if (typeof window !== 'object' || window.AudioContext) return;\n    window.AudioContext = window.webkitAudioContext;\n}\n\n\nvar $1e725cbbdf747411$exports = {};\n\n$parcel$export($1e725cbbdf747411$exports, \"shimRTCIceCandidate\", function () { return $1e725cbbdf747411$export$cf133661e444ccfe; });\n$parcel$export($1e725cbbdf747411$exports, \"shimMaxMessageSize\", function () { return $1e725cbbdf747411$export$a99147c78a56edc4; });\n$parcel$export($1e725cbbdf747411$exports, \"shimSendThrowTypeError\", function () { return $1e725cbbdf747411$export$d461c8d5c5db5da7; });\n$parcel$export($1e725cbbdf747411$exports, \"shimConnectionState\", function () { return $1e725cbbdf747411$export$63bb816cc75460; });\n$parcel$export($1e725cbbdf747411$exports, \"removeExtmapAllowMixed\", function () { return $1e725cbbdf747411$export$a57d114344295149; });\n$parcel$export($1e725cbbdf747411$exports, \"shimAddIceCandidateNullOrEmpty\", function () { return $1e725cbbdf747411$export$51d5e40b48c771c7; });\n\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nfunction $1e725cbbdf747411$export$cf133661e444ccfe(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (!window.RTCIceCandidate || window.RTCIceCandidate && 'foundation' in window.RTCIceCandidate.prototype) return;\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function RTCIceCandidate(args) {\n        // Remove the a= which shouldn't be part of the candidate string.\n        if (typeof args === 'object' && args.candidate && args.candidate.indexOf('a=') === 0) {\n            args = JSON.parse(JSON.stringify(args));\n            args.candidate = args.candidate.substr(2);\n        }\n        if (args.candidate && args.candidate.length) {\n            // Augment the native candidate with the parsed fields.\n            var nativeCandidate = new NativeRTCIceCandidate(args);\n            var parsedCandidate = (/*@__PURE__*/$parcel$interopDefault($b2727632138354b2$exports)).parseCandidate(args.candidate);\n            var augmentedCandidate = Object.assign(nativeCandidate, parsedCandidate);\n            // Add a serializer that does not serialize the extra attributes.\n            augmentedCandidate.toJSON = function toJSON() {\n                return {\n                    candidate: augmentedCandidate.candidate,\n                    sdpMid: augmentedCandidate.sdpMid,\n                    sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n                    usernameFragment: augmentedCandidate.usernameFragment\n                };\n            };\n            return augmentedCandidate;\n        }\n        return new NativeRTCIceCandidate(args);\n    };\n    window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    $993722e8c7a9e5a7$export$1f48841962b828b1(window, 'icecandidate', function(e) {\n        if (e.candidate) Object.defineProperty(e, 'candidate', {\n            value: new window.RTCIceCandidate(e.candidate),\n            writable: 'false'\n        });\n        return e;\n    });\n}\nfunction $1e725cbbdf747411$export$a99147c78a56edc4(window, browserDetails) {\n    if (!window.RTCPeerConnection) return;\n    if (!('sctp' in window.RTCPeerConnection.prototype)) Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n        get: function() {\n            return typeof this._sctp === 'undefined' ? null : this._sctp;\n        }\n    });\n    var sctpInDescription = function sctpInDescription(description) {\n        if (!description || !description.sdp) return false;\n        var sections = (/*@__PURE__*/$parcel$interopDefault($b2727632138354b2$exports)).splitSections(description.sdp);\n        sections.shift();\n        return sections.some(function(mediaSection) {\n            var mLine = (/*@__PURE__*/$parcel$interopDefault($b2727632138354b2$exports)).parseMLine(mediaSection);\n            return mLine && mLine.kind === 'application' && mLine.protocol.indexOf('SCTP') !== -1;\n        });\n    };\n    var getRemoteFirefoxVersion = function getRemoteFirefoxVersion(description) {\n        // TODO: Is there a better solution for detecting Firefox?\n        var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n        if (match === null || match.length < 2) return -1;\n        var version = parseInt(match[1], 10);\n        // Test for NaN (yes, this is ugly)\n        return version !== version ? -1 : version;\n    };\n    var getCanSendMaxMessageSize = function getCanSendMaxMessageSize(remoteIsFirefox) {\n        // Every implementation we know can send at least 64 KiB.\n        // Note: Although Chrome is technically able to send up to 256 KiB, the\n        //       data does not reach the other peer reliably.\n        //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n        var canSendMaxMessageSize = 65536;\n        if (browserDetails.browser === 'firefox') {\n            if (browserDetails.version < 57) {\n                if (remoteIsFirefox === -1) // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n                // fragmentation.\n                canSendMaxMessageSize = 16384;\n                else // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n                // messages. Thus, supporting ~2 GiB when sending.\n                canSendMaxMessageSize = 2147483637;\n            } else if (browserDetails.version < 60) // Currently, all FF >= 57 will reset the remote maximum message size\n            // to the default value when a data channel is created at a later\n            // stage. :(\n            // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n            canSendMaxMessageSize = browserDetails.version === 57 ? 65535 : 65536;\n            else // FF >= 60 supports sending ~2 GiB\n            canSendMaxMessageSize = 2147483637;\n        }\n        return canSendMaxMessageSize;\n    };\n    var getMaxMessageSize = function getMaxMessageSize(description, remoteIsFirefox) {\n        // Note: 65536 bytes is the default value from the SDP spec. Also,\n        //       every implementation we know supports receiving 65536 bytes.\n        var maxMessageSize = 65536;\n        // FF 57 has a slightly incorrect default remote max message size, so\n        // we need to adjust it here to avoid a failure when sending.\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n        if (browserDetails.browser === 'firefox' && browserDetails.version === 57) maxMessageSize = 65535;\n        var match = (/*@__PURE__*/$parcel$interopDefault($b2727632138354b2$exports)).matchPrefix(description.sdp, 'a=max-message-size:');\n        if (match.length > 0) maxMessageSize = parseInt(match[0].substr(19), 10);\n        else if (browserDetails.browser === 'firefox' && remoteIsFirefox !== -1) // If the maximum message size is not present in the remote SDP and\n        // both local and remote are Firefox, the remote peer can receive\n        // ~2 GiB.\n        maxMessageSize = 2147483637;\n        return maxMessageSize;\n    };\n    var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n        this._sctp = null;\n        // Chrome decided to not expose .sctp in plan-b mode.\n        // As usual, adapter.js has to do an 'ugly worakaround'\n        // to cover up the mess.\n        if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n            var sdpSemantics = this.getConfiguration().sdpSemantics;\n            if (sdpSemantics === 'plan-b') Object.defineProperty(this, 'sctp', {\n                get: function() {\n                    return typeof this._sctp === 'undefined' ? null : this._sctp;\n                },\n                enumerable: true,\n                configurable: true\n            });\n        }\n        if (sctpInDescription(arguments[0])) {\n            // Check if the remote is FF.\n            var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n            // Get the maximum message size the local peer is capable of sending\n            var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n            // Get the maximum message size of the remote peer.\n            var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n            // Determine final maximum message size\n            var maxMessageSize;\n            if (canSendMMS === 0 && remoteMMS === 0) maxMessageSize = Number.POSITIVE_INFINITY;\n            else if (canSendMMS === 0 || remoteMMS === 0) maxMessageSize = Math.max(canSendMMS, remoteMMS);\n            else maxMessageSize = Math.min(canSendMMS, remoteMMS);\n            // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n            // attribute.\n            var sctp = {};\n            Object.defineProperty(sctp, 'maxMessageSize', {\n                get: function() {\n                    return maxMessageSize;\n                }\n            });\n            this._sctp = sctp;\n        }\n        return origSetRemoteDescription.apply(this, arguments);\n    };\n}\nfunction $1e725cbbdf747411$export$d461c8d5c5db5da7(window) {\n    var wrapDcSend = // Note: Although Firefox >= 57 has a native implementation, the maximum\n    //       message size can be reset for all data channels at a later stage.\n    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n    function wrapDcSend(dc, pc) {\n        var origDataChannelSend = dc.send;\n        dc.send = function send() {\n            var data = arguments[0];\n            var length = data.length || data.size || data.byteLength;\n            if (dc.readyState === 'open' && pc.sctp && length > pc.sctp.maxMessageSize) throw new TypeError('Message too large (can send a maximum of ' + pc.sctp.maxMessageSize + ' bytes)');\n            return origDataChannelSend.apply(dc, arguments);\n        };\n    };\n    if (!(window.RTCPeerConnection && 'createDataChannel' in window.RTCPeerConnection.prototype)) return;\n    var origCreateDataChannel = window.RTCPeerConnection.prototype.createDataChannel;\n    window.RTCPeerConnection.prototype.createDataChannel = function createDataChannel() {\n        var dataChannel = origCreateDataChannel.apply(this, arguments);\n        wrapDcSend(dataChannel, this);\n        return dataChannel;\n    };\n    $993722e8c7a9e5a7$export$1f48841962b828b1(window, 'datachannel', function(e) {\n        wrapDcSend(e.channel, e.target);\n        return e;\n    });\n}\nfunction $1e725cbbdf747411$export$63bb816cc75460(window) {\n    if (!window.RTCPeerConnection || 'connectionState' in window.RTCPeerConnection.prototype) return;\n    var proto = window.RTCPeerConnection.prototype;\n    Object.defineProperty(proto, 'connectionState', {\n        get: function() {\n            return ({\n                completed: 'connected',\n                checking: 'connecting'\n            })[this.iceConnectionState] || this.iceConnectionState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(proto, 'onconnectionstatechange', {\n        get: function() {\n            return this._onconnectionstatechange || null;\n        },\n        set: function(cb) {\n            if (this._onconnectionstatechange) {\n                this.removeEventListener('connectionstatechange', this._onconnectionstatechange);\n                delete this._onconnectionstatechange;\n            }\n            if (cb) this.addEventListener('connectionstatechange', this._onconnectionstatechange = cb);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    [\n        'setLocalDescription',\n        'setRemoteDescription'\n    ].forEach(function(method) {\n        var origMethod = proto[method];\n        proto[method] = function() {\n            if (!this._connectionstatechangepoly) {\n                this._connectionstatechangepoly = function(e) {\n                    var pc = e.target;\n                    if (pc._lastConnectionState !== pc.connectionState) {\n                        pc._lastConnectionState = pc.connectionState;\n                        var newEvent = new Event('connectionstatechange', e);\n                        pc.dispatchEvent(newEvent);\n                    }\n                    return e;\n                };\n                this.addEventListener('iceconnectionstatechange', this._connectionstatechangepoly);\n            }\n            return origMethod.apply(this, arguments);\n        };\n    });\n}\nfunction $1e725cbbdf747411$export$a57d114344295149(window, browserDetails) {\n    /* remove a=extmap-allow-mixed for webrtc.org < M71 */ if (!window.RTCPeerConnection) return;\n    if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) return;\n    if (browserDetails.browser === 'safari' && browserDetails.version >= 605) return;\n    var nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(desc) {\n        if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n            var sdp = desc.sdp.split('\\n').filter(function(line) {\n                return line.trim() !== 'a=extmap-allow-mixed';\n            }).join('\\n');\n            // Safari enforces read-only-ness of RTCSessionDescription fields.\n            if (window.RTCSessionDescription && desc instanceof window.RTCSessionDescription) arguments[0] = new window.RTCSessionDescription({\n                type: desc.type,\n                sdp: sdp\n            });\n            else desc.sdp = sdp;\n        }\n        return nativeSRD.apply(this, arguments);\n    };\n}\nfunction $1e725cbbdf747411$export$51d5e40b48c771c7(window, browserDetails) {\n    // Support for addIceCandidate(null or undefined)\n    // as well as addIceCandidate({candidate: \"\", ...})\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n    // Note: must be called before other polyfills which change the signature.\n    if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) return;\n    var nativeAddIceCandidate = window.RTCPeerConnection.prototype.addIceCandidate;\n    if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) return;\n    window.RTCPeerConnection.prototype.addIceCandidate = function addIceCandidate() {\n        if (!arguments[0]) {\n            if (arguments[1]) arguments[1].apply(null);\n            return Promise.resolve();\n        }\n        // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n        // in older versions.\n        // Native support for ignoring exists for Chrome M77+.\n        // Safari ignores as well, exact version unknown but works in the same\n        // version that also ignores addIceCandidate(null).\n        if ((browserDetails.browser === 'chrome' && browserDetails.version < 78 || browserDetails.browser === 'firefox' && browserDetails.version < 68 || browserDetails.browser === 'safari') && arguments[0] && arguments[0].candidate === '') return Promise.resolve();\n        return nativeAddIceCandidate.apply(this, arguments);\n    };\n}\n\n\nfunction $b1450a2ae8cc7983$export$e77bf46c04ac7d12() {\n    var window = (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}).window, options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        shimChrome: true,\n        shimFirefox: true,\n        shimEdge: true,\n        shimSafari: true\n    };\n    // Utils.\n    var logging = $993722e8c7a9e5a7$export$bef1f36f5486a6a3;\n    var browserDetails = $993722e8c7a9e5a7$export$2d31490a0c05f094(window);\n    var adapter = {\n        browserDetails: browserDetails,\n        commonShim: $1e725cbbdf747411$exports,\n        extractVersion: $993722e8c7a9e5a7$export$e3c02be309be1f23,\n        disableLog: $993722e8c7a9e5a7$export$afbfee8cc06fd3e4,\n        disableWarnings: $993722e8c7a9e5a7$export$51516be4b019e41e\n    };\n    // Shim browser if found.\n    switch(browserDetails.browser){\n        case 'chrome':\n            if (!$ef7fa8125ed93bad$exports || !$ef7fa8125ed93bad$exports.shimPeerConnection || !options.shimChrome) {\n                logging('Chrome shim is not included in this adapter release.');\n                return adapter;\n            }\n            if (browserDetails.version === null) {\n                logging('Chrome shim can not determine version, not shimming.');\n                return adapter;\n            }\n            logging('adapter.js shimming chrome.');\n            // Export to the adapter global object visible in the browser.\n            adapter.browserShim = $ef7fa8125ed93bad$exports;\n            // Must be called before shimPeerConnection.\n            $1e725cbbdf747411$exports.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimGetUserMedia(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimMediaStream(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimPeerConnection(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimOnTrack(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimAddTrackRemoveTrack(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimGetSendersWithDtmf(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimGetStats(window, browserDetails);\n            $ef7fa8125ed93bad$exports.shimSenderReceiverGetStats(window, browserDetails);\n            $ef7fa8125ed93bad$exports.fixNegotiationNeeded(window, browserDetails);\n            $1e725cbbdf747411$exports.shimRTCIceCandidate(window, browserDetails);\n            $1e725cbbdf747411$exports.shimConnectionState(window, browserDetails);\n            $1e725cbbdf747411$exports.shimMaxMessageSize(window, browserDetails);\n            $1e725cbbdf747411$exports.shimSendThrowTypeError(window, browserDetails);\n            $1e725cbbdf747411$exports.removeExtmapAllowMixed(window, browserDetails);\n            break;\n        case 'firefox':\n            if (!$f7879eae6ce316c3$exports || !$f7879eae6ce316c3$exports.shimPeerConnection || !options.shimFirefox) {\n                logging('Firefox shim is not included in this adapter release.');\n                return adapter;\n            }\n            logging('adapter.js shimming firefox.');\n            // Export to the adapter global object visible in the browser.\n            adapter.browserShim = $f7879eae6ce316c3$exports;\n            // Must be called before shimPeerConnection.\n            $1e725cbbdf747411$exports.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimGetUserMedia(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimPeerConnection(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimOnTrack(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimRemoveStream(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimSenderGetStats(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimReceiverGetStats(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimRTCDataChannel(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimAddTransceiver(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimGetParameters(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimCreateOffer(window, browserDetails);\n            $f7879eae6ce316c3$exports.shimCreateAnswer(window, browserDetails);\n            $1e725cbbdf747411$exports.shimRTCIceCandidate(window, browserDetails);\n            $1e725cbbdf747411$exports.shimConnectionState(window, browserDetails);\n            $1e725cbbdf747411$exports.shimMaxMessageSize(window, browserDetails);\n            $1e725cbbdf747411$exports.shimSendThrowTypeError(window, browserDetails);\n            break;\n        case 'edge':\n            if (!$288dd6e7aa6ce0a1$exports || !$288dd6e7aa6ce0a1$exports.shimPeerConnection || !options.shimEdge) {\n                logging('MS edge shim is not included in this adapter release.');\n                return adapter;\n            }\n            logging('adapter.js shimming edge.');\n            // Export to the adapter global object visible in the browser.\n            adapter.browserShim = $288dd6e7aa6ce0a1$exports;\n            $288dd6e7aa6ce0a1$exports.shimGetUserMedia(window, browserDetails);\n            $288dd6e7aa6ce0a1$exports.shimGetDisplayMedia(window, browserDetails);\n            $288dd6e7aa6ce0a1$exports.shimPeerConnection(window, browserDetails);\n            $288dd6e7aa6ce0a1$exports.shimReplaceTrack(window, browserDetails);\n            // the edge shim implements the full RTCIceCandidate object.\n            $1e725cbbdf747411$exports.shimMaxMessageSize(window, browserDetails);\n            $1e725cbbdf747411$exports.shimSendThrowTypeError(window, browserDetails);\n            break;\n        case 'safari':\n            if (!$b5603e2a25579e83$exports || !options.shimSafari) {\n                logging('Safari shim is not included in this adapter release.');\n                return adapter;\n            }\n            logging('adapter.js shimming safari.');\n            // Export to the adapter global object visible in the browser.\n            adapter.browserShim = $b5603e2a25579e83$exports;\n            // Must be called before shimCallbackAPI.\n            $1e725cbbdf747411$exports.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n            $b5603e2a25579e83$exports.shimRTCIceServerUrls(window, browserDetails);\n            $b5603e2a25579e83$exports.shimCreateOfferLegacy(window, browserDetails);\n            $b5603e2a25579e83$exports.shimCallbacksAPI(window, browserDetails);\n            $b5603e2a25579e83$exports.shimLocalStreamsAPI(window, browserDetails);\n            $b5603e2a25579e83$exports.shimRemoteStreamsAPI(window, browserDetails);\n            $b5603e2a25579e83$exports.shimTrackEventTransceiver(window, browserDetails);\n            $b5603e2a25579e83$exports.shimGetUserMedia(window, browserDetails);\n            $b5603e2a25579e83$exports.shimAudioContext(window, browserDetails);\n            $1e725cbbdf747411$exports.shimRTCIceCandidate(window, browserDetails);\n            $1e725cbbdf747411$exports.shimMaxMessageSize(window, browserDetails);\n            $1e725cbbdf747411$exports.shimSendThrowTypeError(window, browserDetails);\n            $1e725cbbdf747411$exports.removeExtmapAllowMixed(window, browserDetails);\n            break;\n        default:\n            logging('Unsupported browser!');\n            break;\n    }\n    return adapter;\n}\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */ /* eslint-env node */ 'use strict';\nvar $3ddb6603d0385efa$var$adapter = $b1450a2ae8cc7983$export$e77bf46c04ac7d12({\n    window: typeof window === 'undefined' ? undefined : window\n});\nvar $3ddb6603d0385efa$export$2e2bcd8739ae039 = $3ddb6603d0385efa$var$adapter;\n\n\nvar $0ba6beccc495b2a1$var$webRTCAdapter = //@ts-ignore\n$3ddb6603d0385efa$export$2e2bcd8739ae039[\"default\"] || $3ddb6603d0385efa$export$2e2bcd8739ae039;\nvar $0ba6beccc495b2a1$export$25be9502477c137d = new /** @class */ (function() {\n    var class_1 = function class_1() {\n        this.isIOS = [\n            \"iPad\",\n            \"iPhone\",\n            \"iPod\"\n        ].includes(navigator.platform);\n        this.supportedBrowsers = [\n            \"firefox\",\n            \"chrome\",\n            \"safari\"\n        ];\n        this.minFirefoxVersion = 59;\n        this.minChromeVersion = 72;\n        this.minSafariVersion = 605;\n    };\n    class_1.prototype.isWebRTCSupported = function() {\n        return typeof RTCPeerConnection !== \"undefined\";\n    };\n    class_1.prototype.isBrowserSupported = function() {\n        var browser = this.getBrowser();\n        var version = this.getVersion();\n        var validBrowser = this.supportedBrowsers.includes(browser);\n        if (!validBrowser) return false;\n        if (browser === \"chrome\") return version >= this.minChromeVersion;\n        if (browser === \"firefox\") return version >= this.minFirefoxVersion;\n        if (browser === \"safari\") return !this.isIOS && version >= this.minSafariVersion;\n        return false;\n    };\n    class_1.prototype.getBrowser = function() {\n        return $0ba6beccc495b2a1$var$webRTCAdapter.browserDetails.browser;\n    };\n    class_1.prototype.getVersion = function() {\n        return $0ba6beccc495b2a1$var$webRTCAdapter.browserDetails.version || 0;\n    };\n    class_1.prototype.isUnifiedPlanSupported = function() {\n        var browser = this.getBrowser();\n        var version = $0ba6beccc495b2a1$var$webRTCAdapter.browserDetails.version || 0;\n        if (browser === \"chrome\" && version < this.minChromeVersion) return false;\n        if (browser === \"firefox\" && version >= this.minFirefoxVersion) return true;\n        if (!window.RTCRtpTransceiver || !(\"currentDirection\" in RTCRtpTransceiver.prototype)) return false;\n        var tempPc;\n        var supported = false;\n        try {\n            tempPc = new RTCPeerConnection();\n            tempPc.addTransceiver(\"audio\");\n            supported = true;\n        } catch (e) {} finally{\n            if (tempPc) tempPc.close();\n        }\n        return supported;\n    };\n    class_1.prototype.toString = function() {\n        return \"Supports:\\n    browser:\".concat(this.getBrowser(), \"\\n    version:\").concat(this.getVersion(), \"\\n    isIOS:\").concat(this.isIOS, \"\\n    isWebRTCSupported:\").concat(this.isWebRTCSupported(), \"\\n    isBrowserSupported:\").concat(this.isBrowserSupported(), \"\\n    isUnifiedPlanSupported:\").concat(this.isUnifiedPlanSupported());\n    };\n    return class_1;\n}())();\n\n\nvar $7dc43ad2ffa25036$var$DEFAULT_CONFIG = {\n    iceServers: [\n        {\n            urls: \"stun:stun.l.google.com:19302\"\n        },\n        {\n            urls: [\n                \"turn:eu-0.turn.peerjs.com:3478\",\n                \"turn:us-0.turn.peerjs.com:3478\", \n            ],\n            username: \"peerjs\",\n            credential: \"peerjsp\"\n        }, \n    ],\n    sdpSemantics: \"unified-plan\"\n};\nvar $7dc43ad2ffa25036$var$Util = /** @class */ function() {\n    var Util = function Util() {\n        this.CLOUD_HOST = \"0.peerjs.com\";\n        this.CLOUD_PORT = 443;\n        // Browsers that need chunking:\n        this.chunkedBrowsers = {\n            Chrome: 1,\n            chrome: 1\n        };\n        this.chunkedMTU = 16300; // The original 60000 bytes setting does not work when sending data from Firefox to Chrome, which is \"cut off\" after 16384 bytes and delivered individually.\n        // Returns browser-agnostic default config\n        this.defaultConfig = $7dc43ad2ffa25036$var$DEFAULT_CONFIG;\n        this.browser = $0ba6beccc495b2a1$export$25be9502477c137d.getBrowser();\n        this.browserVersion = $0ba6beccc495b2a1$export$25be9502477c137d.getVersion();\n        // Lists which features are supported\n        this.supports = function() {\n            var supported = {\n                browser: $0ba6beccc495b2a1$export$25be9502477c137d.isBrowserSupported(),\n                webRTC: $0ba6beccc495b2a1$export$25be9502477c137d.isWebRTCSupported(),\n                audioVideo: false,\n                data: false,\n                binaryBlob: false,\n                reliable: false\n            };\n            if (!supported.webRTC) return supported;\n            var pc;\n            try {\n                pc = new RTCPeerConnection($7dc43ad2ffa25036$var$DEFAULT_CONFIG);\n                supported.audioVideo = true;\n                var dc = void 0;\n                try {\n                    dc = pc.createDataChannel(\"_PEERJSTEST\", {\n                        ordered: true\n                    });\n                    supported.data = true;\n                    supported.reliable = !!dc.ordered;\n                    // Binary test\n                    try {\n                        dc.binaryType = \"blob\";\n                        supported.binaryBlob = !$0ba6beccc495b2a1$export$25be9502477c137d.isIOS;\n                    } catch (e) {}\n                } catch (e) {} finally{\n                    if (dc) dc.close();\n                }\n            } catch (e) {} finally{\n                if (pc) pc.close();\n            }\n            return supported;\n        }();\n        this.pack = (/*@__PURE__*/$parcel$interopDefault($0ef2edf071413141$exports)).pack;\n        this.unpack = (/*@__PURE__*/$parcel$interopDefault($0ef2edf071413141$exports)).unpack;\n        // Binary stuff\n        this._dataCount = 1;\n    };\n    Util.prototype.noop = function() {};\n    // Ensure alphanumeric ids\n    Util.prototype.validateId = function(id) {\n        // Allow empty ids\n        return !id || /^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(id);\n    };\n    Util.prototype.chunk = function(blob) {\n        var chunks = [];\n        var size = blob.size;\n        var total = Math.ceil(size / $7dc43ad2ffa25036$export$7debb50ef11d5e0b.chunkedMTU);\n        var index = 0;\n        var start = 0;\n        while(start < size){\n            var end = Math.min(size, start + $7dc43ad2ffa25036$export$7debb50ef11d5e0b.chunkedMTU);\n            var b = blob.slice(start, end);\n            var chunk = {\n                __peerData: this._dataCount,\n                n: index,\n                data: b,\n                total: total\n            };\n            chunks.push(chunk);\n            start = end;\n            index++;\n        }\n        this._dataCount++;\n        return chunks;\n    };\n    Util.prototype.blobToArrayBuffer = function(blob, cb) {\n        var fr = new FileReader();\n        fr.onload = function(evt) {\n            if (evt.target) cb(evt.target.result);\n        };\n        fr.readAsArrayBuffer(blob);\n        return fr;\n    };\n    Util.prototype.binaryStringToArrayBuffer = function(binary) {\n        var byteArray = new Uint8Array(binary.length);\n        for(var i = 0; i < binary.length; i++)byteArray[i] = binary.charCodeAt(i) & 0xff;\n        return byteArray.buffer;\n    };\n    Util.prototype.randomToken = function() {\n        return Math.random().toString(36).slice(2);\n    };\n    Util.prototype.isSecure = function() {\n        return location.protocol === \"https:\";\n    };\n    return Util;\n}();\nvar $7dc43ad2ffa25036$export$7debb50ef11d5e0b = new $7dc43ad2ffa25036$var$Util();\n\n\nvar $17252116aa2ef1fb$exports = {};\n\n$parcel$export($17252116aa2ef1fb$exports, \"Peer\", function () { return $17252116aa2ef1fb$export$ecd1fc136c422448; }, function (v) { return $17252116aa2ef1fb$export$ecd1fc136c422448 = v; });\nvar $b43bf3d87e5977ce$exports = {};\n'use strict';\nvar $b43bf3d87e5977ce$var$has = Object.prototype.hasOwnProperty, $b43bf3d87e5977ce$var$prefix = '~';\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */ function $b43bf3d87e5977ce$var$Events() {}\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n    $b43bf3d87e5977ce$var$Events.prototype = Object.create(null);\n    //\n    // This hack is needed because the `__proto__` property is still inherited in\n    // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n    //\n    if (!new $b43bf3d87e5977ce$var$Events().__proto__) $b43bf3d87e5977ce$var$prefix = false;\n}\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */ function $b43bf3d87e5977ce$var$EE(fn, context, once) {\n    this.fn = fn;\n    this.context = context;\n    this.once = once || false;\n}\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */ function $b43bf3d87e5977ce$var$addListener(emitter, event, fn, context, once) {\n    if (typeof fn !== 'function') throw new TypeError('The listener must be a function');\n    var listener = new $b43bf3d87e5977ce$var$EE(fn, context || emitter, once), evt = $b43bf3d87e5977ce$var$prefix ? $b43bf3d87e5977ce$var$prefix + event : event;\n    if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n    else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n    else emitter._events[evt] = [\n        emitter._events[evt],\n        listener\n    ];\n    return emitter;\n}\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */ function $b43bf3d87e5977ce$var$clearEvent(emitter, evt) {\n    if (--emitter._eventsCount === 0) emitter._events = new $b43bf3d87e5977ce$var$Events();\n    else delete emitter._events[evt];\n}\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */ function $b43bf3d87e5977ce$var$EventEmitter() {\n    this._events = new $b43bf3d87e5977ce$var$Events();\n    this._eventsCount = 0;\n}\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.eventNames = function eventNames() {\n    var names = [], events, name;\n    if (this._eventsCount === 0) return names;\n    for(name in events = this._events)if ($b43bf3d87e5977ce$var$has.call(events, name)) names.push($b43bf3d87e5977ce$var$prefix ? name.slice(1) : name);\n    if (Object.getOwnPropertySymbols) return names.concat(Object.getOwnPropertySymbols(events));\n    return names;\n};\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.listeners = function listeners(event) {\n    var evt = $b43bf3d87e5977ce$var$prefix ? $b43bf3d87e5977ce$var$prefix + event : event, handlers = this._events[evt];\n    if (!handlers) return [];\n    if (handlers.fn) return [\n        handlers.fn\n    ];\n    for(var i = 0, l = handlers.length, ee = new Array(l); i < l; i++)ee[i] = handlers[i].fn;\n    return ee;\n};\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.listenerCount = function listenerCount(event) {\n    var evt = $b43bf3d87e5977ce$var$prefix ? $b43bf3d87e5977ce$var$prefix + event : event, listeners = this._events[evt];\n    if (!listeners) return 0;\n    if (listeners.fn) return 1;\n    return listeners.length;\n};\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n    var evt = $b43bf3d87e5977ce$var$prefix ? $b43bf3d87e5977ce$var$prefix + event : event;\n    if (!this._events[evt]) return false;\n    var listeners = this._events[evt], len = arguments.length, args, i;\n    if (listeners.fn) {\n        if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n        switch(len){\n            case 1:\n                return listeners.fn.call(listeners.context), true;\n            case 2:\n                return listeners.fn.call(listeners.context, a1), true;\n            case 3:\n                return listeners.fn.call(listeners.context, a1, a2), true;\n            case 4:\n                return listeners.fn.call(listeners.context, a1, a2, a3), true;\n            case 5:\n                return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n            case 6:\n                return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n        }\n        for(i = 1, args = new Array(len - 1); i < len; i++)args[i - 1] = arguments[i];\n        listeners.fn.apply(listeners.context, args);\n    } else {\n        var length = listeners.length, j;\n        for(i = 0; i < length; i++){\n            if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n            switch(len){\n                case 1:\n                    listeners[i].fn.call(listeners[i].context);\n                    break;\n                case 2:\n                    listeners[i].fn.call(listeners[i].context, a1);\n                    break;\n                case 3:\n                    listeners[i].fn.call(listeners[i].context, a1, a2);\n                    break;\n                case 4:\n                    listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n                    break;\n                default:\n                    if (!args) for(j = 1, args = new Array(len - 1); j < len; j++)args[j - 1] = arguments[j];\n                    listeners[i].fn.apply(listeners[i].context, args);\n            }\n        }\n    }\n    return true;\n};\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.on = function on(event, fn, context) {\n    return $b43bf3d87e5977ce$var$addListener(this, event, fn, context, false);\n};\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.once = function once(event, fn, context) {\n    return $b43bf3d87e5977ce$var$addListener(this, event, fn, context, true);\n};\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n    var evt = $b43bf3d87e5977ce$var$prefix ? $b43bf3d87e5977ce$var$prefix + event : event;\n    if (!this._events[evt]) return this;\n    if (!fn) {\n        $b43bf3d87e5977ce$var$clearEvent(this, evt);\n        return this;\n    }\n    var listeners = this._events[evt];\n    if (listeners.fn) {\n        if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) $b43bf3d87e5977ce$var$clearEvent(this, evt);\n    } else {\n        for(var i = 0, events = [], length = listeners.length; i < length; i++)if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) events.push(listeners[i]);\n        //\n        // Reset the array, or remove it completely if we have no more listeners.\n        //\n        if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n        else $b43bf3d87e5977ce$var$clearEvent(this, evt);\n    }\n    return this;\n};\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */ $b43bf3d87e5977ce$var$EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n    var evt;\n    if (event) {\n        evt = $b43bf3d87e5977ce$var$prefix ? $b43bf3d87e5977ce$var$prefix + event : event;\n        if (this._events[evt]) $b43bf3d87e5977ce$var$clearEvent(this, evt);\n    } else {\n        this._events = new $b43bf3d87e5977ce$var$Events();\n        this._eventsCount = 0;\n    }\n    return this;\n};\n//\n// Alias methods names because people roll like that.\n//\n$b43bf3d87e5977ce$var$EventEmitter.prototype.off = $b43bf3d87e5977ce$var$EventEmitter.prototype.removeListener;\n$b43bf3d87e5977ce$var$EventEmitter.prototype.addListener = $b43bf3d87e5977ce$var$EventEmitter.prototype.on;\n//\n// Expose the prefix.\n//\n$b43bf3d87e5977ce$var$EventEmitter.prefixed = $b43bf3d87e5977ce$var$prefix;\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\n$b43bf3d87e5977ce$var$EventEmitter.EventEmitter = $b43bf3d87e5977ce$var$EventEmitter;\n$b43bf3d87e5977ce$exports = $b43bf3d87e5977ce$var$EventEmitter;\n\n\n\nvar $96fb85a532fc3748$exports = {};\n\n$parcel$export($96fb85a532fc3748$exports, \"LogLevel\", function () { return $96fb85a532fc3748$export$243e62d78d3b544d; }, function (v) { return $96fb85a532fc3748$export$243e62d78d3b544d = v; });\n$parcel$export($96fb85a532fc3748$exports, \"default\", function () { return $96fb85a532fc3748$export$2e2bcd8739ae039; }, function (v) { return $96fb85a532fc3748$export$2e2bcd8739ae039 = v; });\nvar $96fb85a532fc3748$var$__read = undefined && undefined.__read || function(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar $96fb85a532fc3748$var$__spreadArray = undefined && undefined.__spreadArray || function(to, from, pack) {\n    if (pack || arguments.length === 2) {\n        for(var i = 0, l = from.length, ar; i < l; i++)if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar $96fb85a532fc3748$var$LOG_PREFIX = \"PeerJS: \";\nvar $96fb85a532fc3748$export$243e62d78d3b544d;\n(function($96fb85a532fc3748$export$243e62d78d3b544d) {\n    $96fb85a532fc3748$export$243e62d78d3b544d[$96fb85a532fc3748$export$243e62d78d3b544d[\"Disabled\"] = 0] = \"Disabled\";\n    $96fb85a532fc3748$export$243e62d78d3b544d[$96fb85a532fc3748$export$243e62d78d3b544d[\"Errors\"] = 1] = \"Errors\";\n    $96fb85a532fc3748$export$243e62d78d3b544d[$96fb85a532fc3748$export$243e62d78d3b544d[\"Warnings\"] = 2] = \"Warnings\";\n    $96fb85a532fc3748$export$243e62d78d3b544d[$96fb85a532fc3748$export$243e62d78d3b544d[\"All\"] = 3] = \"All\";\n})($96fb85a532fc3748$export$243e62d78d3b544d || ($96fb85a532fc3748$export$243e62d78d3b544d = {}));\nvar $96fb85a532fc3748$var$Logger = /** @class */ function() {\n    var Logger = function Logger() {\n        this._logLevel = $96fb85a532fc3748$export$243e62d78d3b544d.Disabled;\n    };\n    Object.defineProperty(Logger.prototype, \"logLevel\", {\n        get: function get() {\n            return this._logLevel;\n        },\n        set: function set(logLevel) {\n            this._logLevel = logLevel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Logger.prototype.log = function() {\n        var args = [];\n        for(var _i = 0; _i < arguments.length; _i++)args[_i] = arguments[_i];\n        if (this._logLevel >= $96fb85a532fc3748$export$243e62d78d3b544d.All) this._print.apply(this, $96fb85a532fc3748$var$__spreadArray([\n            $96fb85a532fc3748$export$243e62d78d3b544d.All\n        ], $96fb85a532fc3748$var$__read(args), false));\n    };\n    Logger.prototype.warn = function() {\n        var args = [];\n        for(var _i = 0; _i < arguments.length; _i++)args[_i] = arguments[_i];\n        if (this._logLevel >= $96fb85a532fc3748$export$243e62d78d3b544d.Warnings) this._print.apply(this, $96fb85a532fc3748$var$__spreadArray([\n            $96fb85a532fc3748$export$243e62d78d3b544d.Warnings\n        ], $96fb85a532fc3748$var$__read(args), false));\n    };\n    Logger.prototype.error = function() {\n        var args = [];\n        for(var _i = 0; _i < arguments.length; _i++)args[_i] = arguments[_i];\n        if (this._logLevel >= $96fb85a532fc3748$export$243e62d78d3b544d.Errors) this._print.apply(this, $96fb85a532fc3748$var$__spreadArray([\n            $96fb85a532fc3748$export$243e62d78d3b544d.Errors\n        ], $96fb85a532fc3748$var$__read(args), false));\n    };\n    Logger.prototype.setLogFunction = function(fn) {\n        this._print = fn;\n    };\n    Logger.prototype._print = function(logLevel) {\n        var rest = [];\n        for(var _i = 1; _i < arguments.length; _i++)rest[_i - 1] = arguments[_i];\n        var copy = $96fb85a532fc3748$var$__spreadArray([\n            $96fb85a532fc3748$var$LOG_PREFIX\n        ], $96fb85a532fc3748$var$__read(rest), false);\n        for(var i in copy)if (copy[i] instanceof Error) copy[i] = \"(\" + copy[i].name + \") \" + copy[i].message;\n        if (logLevel >= $96fb85a532fc3748$export$243e62d78d3b544d.All) console.log.apply(console, $96fb85a532fc3748$var$__spreadArray([], $96fb85a532fc3748$var$__read(copy), false));\n        else if (logLevel >= $96fb85a532fc3748$export$243e62d78d3b544d.Warnings) console.warn.apply(console, $96fb85a532fc3748$var$__spreadArray([\n            \"WARNING\"\n        ], $96fb85a532fc3748$var$__read(copy), false));\n        else if (logLevel >= $96fb85a532fc3748$export$243e62d78d3b544d.Errors) console.error.apply(console, $96fb85a532fc3748$var$__spreadArray([\n            \"ERROR\"\n        ], $96fb85a532fc3748$var$__read(copy), false));\n    };\n    return Logger;\n}();\nvar $96fb85a532fc3748$export$2e2bcd8739ae039 = new $96fb85a532fc3748$var$Logger();\n\n\nvar $b2ce1b9c02009c9c$exports = {};\n\n$parcel$export($b2ce1b9c02009c9c$exports, \"Socket\", function () { return $b2ce1b9c02009c9c$export$4798917dbf149b79; }, function (v) { return $b2ce1b9c02009c9c$export$4798917dbf149b79 = v; });\n\n\nvar $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc;\n(function($8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc) {\n    $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc[\"Data\"] = \"data\";\n    $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc[\"Media\"] = \"media\";\n})($8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc || ($8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc = {}));\nvar $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff;\n(function($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff) {\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"BrowserIncompatible\"] = \"browser-incompatible\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"Disconnected\"] = \"disconnected\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"InvalidID\"] = \"invalid-id\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"InvalidKey\"] = \"invalid-key\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"Network\"] = \"network\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"PeerUnavailable\"] = \"peer-unavailable\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"SslUnavailable\"] = \"ssl-unavailable\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"ServerError\"] = \"server-error\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"SocketError\"] = \"socket-error\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"SocketClosed\"] = \"socket-closed\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"UnavailableID\"] = \"unavailable-id\";\n    $8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff[\"WebRTC\"] = \"webrtc\";\n})($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff || ($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff = {}));\nvar $8b9dc3e5f2ea4cc9$export$89f507cf986a947;\n(function($8b9dc3e5f2ea4cc9$export$89f507cf986a947) {\n    $8b9dc3e5f2ea4cc9$export$89f507cf986a947[\"Binary\"] = \"binary\";\n    $8b9dc3e5f2ea4cc9$export$89f507cf986a947[\"BinaryUTF8\"] = \"binary-utf8\";\n    $8b9dc3e5f2ea4cc9$export$89f507cf986a947[\"JSON\"] = \"json\";\n})($8b9dc3e5f2ea4cc9$export$89f507cf986a947 || ($8b9dc3e5f2ea4cc9$export$89f507cf986a947 = {}));\nvar $8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023;\n(function($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023) {\n    $8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023[\"Message\"] = \"message\";\n    $8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023[\"Disconnected\"] = \"disconnected\";\n    $8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023[\"Error\"] = \"error\";\n    $8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023[\"Close\"] = \"close\";\n})($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023 || ($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023 = {}));\nvar $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d;\n(function($8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d) {\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Heartbeat\"] = \"HEARTBEAT\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Candidate\"] = \"CANDIDATE\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Offer\"] = \"OFFER\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Answer\"] = \"ANSWER\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Open\"] = \"OPEN\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Error\"] = \"ERROR\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"IdTaken\"] = \"ID-TAKEN\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"InvalidKey\"] = \"INVALID-KEY\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Leave\"] = \"LEAVE\";\n    $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d[\"Expire\"] = \"EXPIRE\";\n})($8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d || ($8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d = {}));\n\n\nvar $face5264434edf64$exports = {};\n$face5264434edf64$exports = JSON.parse(\"{\\\"name\\\":\\\"peerjs\\\",\\\"version\\\":\\\"1.4.7\\\",\\\"keywords\\\":[\\\"peerjs\\\",\\\"webrtc\\\",\\\"p2p\\\",\\\"rtc\\\"],\\\"description\\\":\\\"PeerJS client\\\",\\\"homepage\\\":\\\"https://peerjs.com\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/peers/peerjs/issues\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"https://github.com/peers/peerjs\\\"},\\\"license\\\":\\\"MIT\\\",\\\"contributors\\\":[\\\"Michelle Bu <michelle@michellebu.com>\\\",\\\"afrokick <devbyru@gmail.com>\\\",\\\"ericz <really.ez@gmail.com>\\\",\\\"Jairo <kidandcat@gmail.com>\\\",\\\"Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>\\\",\\\"Jairo Caro-Accino Viciana <jairo@galax.be>\\\",\\\"Carlos Caballero <carlos.caballero.gonzalez@gmail.com>\\\",\\\"hc <hheennrryy@gmail.com>\\\",\\\"Muhammad Asif <capripio@gmail.com>\\\",\\\"PrashoonB <prashoonbhattacharjee@gmail.com>\\\",\\\"Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>\\\",\\\"akotynski <aleksanderkotbury@gmail.com>\\\",\\\"lmb <i@lmb.io>\\\",\\\"Jairooo <jairocaro@msn.com>\\\",\\\"Moritz Stückler <moritz.stueckler@gmail.com>\\\",\\\"Simon <crydotsnakegithub@gmail.com>\\\",\\\"Denis Lukov <denismassters@gmail.com>\\\",\\\"Philipp Hancke <fippo@andyet.net>\\\",\\\"Hans Oksendahl <hansoksendahl@gmail.com>\\\",\\\"Jess <jessachandler@gmail.com>\\\",\\\"khankuan <khankuan@gmail.com>\\\",\\\"DUODVK <kurmanov.work@gmail.com>\\\",\\\"XiZhao <kwang1imsa@gmail.com>\\\",\\\"Matthias Lohr <matthias@lohr.me>\\\",\\\"=frank tree <=frnktrb@googlemail.com>\\\",\\\"Andre Eckardt <aeckardt@outlook.com>\\\",\\\"Chris Cowan <agentme49@gmail.com>\\\",\\\"Alex Chuev <alex@chuev.com>\\\",\\\"alxnull <alxnull@e.mail.de>\\\",\\\"Yemel Jardi <angel.jardi@gmail.com>\\\",\\\"Ben Parnell <benjaminparnell.94@gmail.com>\\\",\\\"Benny Lichtner <bennlich@gmail.com>\\\",\\\"fresheneesz <bitetrudpublic@gmail.com>\\\",\\\"bob.barstead@exaptive.com <bob.barstead@exaptive.com>\\\",\\\"chandika <chandika@gmail.com>\\\",\\\"emersion <contact@emersion.fr>\\\",\\\"Christopher Van <cvan@users.noreply.github.com>\\\",\\\"eddieherm <edhermoso@gmail.com>\\\",\\\"Eduardo Pinho <enet4mikeenet@gmail.com>\\\",\\\"Evandro Zanatta <ezanatta@tray.net.br>\\\",\\\"Gardner Bickford <gardner@users.noreply.github.com>\\\",\\\"Gian Luca <gianluca.cecchi@cynny.com>\\\",\\\"PatrickJS <github@gdi2290.com>\\\",\\\"jonnyf <github@jonathanfoss.co.uk>\\\",\\\"Hizkia Felix <hizkifw@gmail.com>\\\",\\\"Hristo Oskov <hristo.oskov@gmail.com>\\\",\\\"Isaac Madwed <i.madwed@gmail.com>\\\",\\\"Ilya Konanykhin <ilya.konanykhin@gmail.com>\\\",\\\"jasonbarry <jasbarry@me.com>\\\",\\\"Jonathan Burke <jonathan.burke.1311@googlemail.com>\\\",\\\"Josh Hamit <josh.hamit@gmail.com>\\\",\\\"Jordan Austin <jrax86@gmail.com>\\\",\\\"Joel Wetzell <jwetzell@yahoo.com>\\\",\\\"xizhao <kevin.wang@cloudera.com>\\\",\\\"Alberto Torres <kungfoobar@gmail.com>\\\",\\\"Jonathan Mayol <mayoljonathan@gmail.com>\\\",\\\"Jefferson Felix <me@jsfelix.dev>\\\",\\\"Rolf Erik Lekang <me@rolflekang.com>\\\",\\\"Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>\\\",\\\"Pepijn de Vos <pepijndevos@gmail.com>\\\",\\\"JooYoung <qkdlql@naver.com>\\\",\\\"Tobias Speicher <rootcommander@gmail.com>\\\",\\\"Steve Blaurock <sblaurock@gmail.com>\\\",\\\"Kyrylo Shegeda <shegeda@ualberta.ca>\\\",\\\"Diwank Singh Tomer <singh@diwank.name>\\\",\\\"Sören Balko <Soeren.Balko@gmail.com>\\\",\\\"Arpit Solanki <solankiarpit1997@gmail.com>\\\",\\\"Yuki Ito <yuki@gnnk.net>\\\",\\\"Artur Zayats <zag2art@gmail.com>\\\"],\\\"funding\\\":{\\\"type\\\":\\\"opencollective\\\",\\\"url\\\":\\\"https://opencollective.com/peer\\\"},\\\"collective\\\":{\\\"type\\\":\\\"opencollective\\\",\\\"url\\\":\\\"https://opencollective.com/peer\\\"},\\\"files\\\":[\\\"dist/*\\\"],\\\"sideEffects\\\":[\\\"lib/global.ts\\\",\\\"lib/supports.ts\\\"],\\\"main\\\":\\\"dist/bundler.cjs\\\",\\\"module\\\":\\\"dist/bundler.mjs\\\",\\\"browser-minified\\\":\\\"dist/peerjs.min.js\\\",\\\"browser-unminified\\\":\\\"dist/peerjs.js\\\",\\\"types\\\":\\\"dist/types.d.ts\\\",\\\"engines\\\":{\\\"node\\\":\\\">= 10\\\"},\\\"targets\\\":{\\\"types\\\":{\\\"source\\\":\\\"lib/exports.ts\\\"},\\\"main\\\":{\\\"source\\\":\\\"lib/exports.ts\\\",\\\"sourceMap\\\":{\\\"inlineSources\\\":true}},\\\"module\\\":{\\\"source\\\":\\\"lib/exports.ts\\\",\\\"includeNodeModules\\\":[\\\"eventemitter3\\\"],\\\"sourceMap\\\":{\\\"inlineSources\\\":true}},\\\"browser-minified\\\":{\\\"context\\\":\\\"browser\\\",\\\"outputFormat\\\":\\\"global\\\",\\\"optimize\\\":true,\\\"engines\\\":{\\\"browsers\\\":\\\"cover 99%, not dead\\\"},\\\"source\\\":\\\"lib/global.ts\\\"},\\\"browser-unminified\\\":{\\\"context\\\":\\\"browser\\\",\\\"outputFormat\\\":\\\"global\\\",\\\"optimize\\\":false,\\\"engines\\\":{\\\"browsers\\\":\\\"cover 99%, not dead\\\"},\\\"source\\\":\\\"lib/global.ts\\\"}},\\\"scripts\\\":{\\\"contributors\\\":\\\"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\\\\\\"chore(contributors): update and sort contributors list\\\\\\\"\\\",\\\"check\\\":\\\"tsc --noEmit\\\",\\\"watch\\\":\\\"parcel watch\\\",\\\"build\\\":\\\"rm -rf dist && parcel build\\\",\\\"prepublishOnly\\\":\\\"npm run build\\\",\\\"test\\\":\\\"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts\\\",\\\"format\\\":\\\"prettier --write .\\\",\\\"semantic-release\\\":\\\"semantic-release\\\"},\\\"devDependencies\\\":{\\\"@parcel/config-default\\\":\\\"^2.5.0\\\",\\\"@parcel/packager-ts\\\":\\\"^2.5.0\\\",\\\"@parcel/transformer-typescript-tsc\\\":\\\"^2.5.0\\\",\\\"@parcel/transformer-typescript-types\\\":\\\"^2.5.0\\\",\\\"@semantic-release/changelog\\\":\\\"^6.0.1\\\",\\\"@semantic-release/git\\\":\\\"^10.0.1\\\",\\\"@types/chai\\\":\\\"^4.3.0\\\",\\\"@types/mocha\\\":\\\"^9.1.0\\\",\\\"@types/node\\\":\\\"^17.0.18\\\",\\\"chai\\\":\\\"^4.3.6\\\",\\\"git-authors-cli\\\":\\\"^1.0.40\\\",\\\"jsdom\\\":\\\"^19.0.0\\\",\\\"jsdom-global\\\":\\\"^3.0.2\\\",\\\"mocha\\\":\\\"^9.2.0\\\",\\\"mock-socket\\\":\\\"8.0.5\\\",\\\"parcel\\\":\\\"^2.5.0\\\",\\\"parcel-transformer-tsc-sourcemaps\\\":\\\"^1.0.2\\\",\\\"prettier\\\":\\\"^2.6.2\\\",\\\"semantic-release\\\":\\\"^19.0.2\\\",\\\"standard\\\":\\\"^16.0.4\\\",\\\"ts-node\\\":\\\"^10.5.0\\\",\\\"typescript\\\":\\\"^4.5.5\\\"},\\\"dependencies\\\":{\\\"@swc/helpers\\\":\\\"^0.3.13\\\",\\\"eventemitter3\\\":\\\"^4.0.7\\\",\\\"peerjs-js-binarypack\\\":\\\"1.0.1\\\",\\\"webrtc-adapter\\\":\\\"^7.7.1\\\"}}\");\n\n\nvar $b2ce1b9c02009c9c$var$__extends = undefined && undefined.__extends || function() {\n    var extendStatics = function(d1, b1) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d1, b1);\n    };\n    return function(d, b) {\n        var __ = function __() {\n            this.constructor = d;\n        };\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $b2ce1b9c02009c9c$var$__read = undefined && undefined.__read || function(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar $b2ce1b9c02009c9c$var$__spreadArray = undefined && undefined.__spreadArray || function(to, from, pack) {\n    if (pack || arguments.length === 2) {\n        for(var i = 0, l = from.length, ar; i < l; i++)if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar $b2ce1b9c02009c9c$var$__values = undefined && undefined.__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function next() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/**\n * An abstraction on top of WebSockets to provide fastest\n * possible connection for peers.\n */ var $b2ce1b9c02009c9c$export$4798917dbf149b79 = /** @class */ function(_super) {\n    var $b2ce1b9c02009c9c$export$4798917dbf149b79 = function $b2ce1b9c02009c9c$export$4798917dbf149b79(secure, host, port, path, key, pingInterval) {\n        if (pingInterval === void 0) pingInterval = 5000;\n        var _this = _super.call(this) || this;\n        _this.pingInterval = pingInterval;\n        _this._disconnected = true;\n        _this._messagesQueue = [];\n        var wsProtocol = secure ? \"wss://\" : \"ws://\";\n        _this._baseUrl = wsProtocol + host + \":\" + port + path + \"peerjs?key=\" + key;\n        return _this;\n    };\n    $b2ce1b9c02009c9c$var$__extends($b2ce1b9c02009c9c$export$4798917dbf149b79, _super);\n    $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype.start = function(id, token) {\n        var _this = this;\n        this._id = id;\n        var wsUrl = \"\".concat(this._baseUrl, \"&id=\").concat(id, \"&token=\").concat(token);\n        if (!!this._socket || !this._disconnected) return;\n        this._socket = new WebSocket(wsUrl + \"&version=\" + $face5264434edf64$exports.version);\n        this._disconnected = false;\n        this._socket.onmessage = function(event) {\n            var data;\n            try {\n                data = JSON.parse(event.data);\n                $96fb85a532fc3748$exports.default.log(\"Server message received:\", data);\n            } catch (e) {\n                $96fb85a532fc3748$exports.default.log(\"Invalid server message\", event.data);\n                return;\n            }\n            _this.emit($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023.Message, data);\n        };\n        this._socket.onclose = function(event) {\n            if (_this._disconnected) return;\n            $96fb85a532fc3748$exports.default.log(\"Socket closed.\", event);\n            _this._cleanup();\n            _this._disconnected = true;\n            _this.emit($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023.Disconnected);\n        };\n        // Take care of the queue of connections if necessary and make sure Peer knows\n        // socket is open.\n        this._socket.onopen = function() {\n            if (_this._disconnected) return;\n            _this._sendQueuedMessages();\n            $96fb85a532fc3748$exports.default.log(\"Socket open\");\n            _this._scheduleHeartbeat();\n        };\n    };\n    $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype._scheduleHeartbeat = function() {\n        var _this = this;\n        this._wsPingTimer = setTimeout(function() {\n            _this._sendHeartbeat();\n        }, this.pingInterval);\n    };\n    $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype._sendHeartbeat = function() {\n        if (!this._wsOpen()) {\n            $96fb85a532fc3748$exports.default.log(\"Cannot send heartbeat, because socket closed\");\n            return;\n        }\n        var message = JSON.stringify({\n            type: $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Heartbeat\n        });\n        this._socket.send(message);\n        this._scheduleHeartbeat();\n    };\n    /** Is the websocket currently open? */ $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype._wsOpen = function() {\n        return !!this._socket && this._socket.readyState === 1;\n    };\n    /** Send queued messages. */ $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype._sendQueuedMessages = function() {\n        var e_1, _a;\n        //Create copy of queue and clear it,\n        //because send method push the message back to queue if smth will go wrong\n        var copiedQueue = $b2ce1b9c02009c9c$var$__spreadArray([], $b2ce1b9c02009c9c$var$__read(this._messagesQueue), false);\n        this._messagesQueue = [];\n        try {\n            for(var copiedQueue_1 = $b2ce1b9c02009c9c$var$__values(copiedQueue), copiedQueue_1_1 = copiedQueue_1.next(); !copiedQueue_1_1.done; copiedQueue_1_1 = copiedQueue_1.next()){\n                var message = copiedQueue_1_1.value;\n                this.send(message);\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (copiedQueue_1_1 && !copiedQueue_1_1.done && (_a = copiedQueue_1[\"return\"])) _a.call(copiedQueue_1);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n    };\n    /** Exposed send for DC & Peer. */ $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype.send = function(data) {\n        if (this._disconnected) return;\n        // If we didn't get an ID yet, we can't yet send anything so we should queue\n        // up these messages.\n        if (!this._id) {\n            this._messagesQueue.push(data);\n            return;\n        }\n        if (!data.type) {\n            this.emit($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023.Error, \"Invalid message\");\n            return;\n        }\n        if (!this._wsOpen()) return;\n        var message = JSON.stringify(data);\n        this._socket.send(message);\n    };\n    $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype.close = function() {\n        if (this._disconnected) return;\n        this._cleanup();\n        this._disconnected = true;\n    };\n    $b2ce1b9c02009c9c$export$4798917dbf149b79.prototype._cleanup = function() {\n        if (this._socket) {\n            this._socket.onopen = this._socket.onmessage = this._socket.onclose = null;\n            this._socket.close();\n            this._socket = undefined;\n        }\n        clearTimeout(this._wsPingTimer);\n    };\n    return $b2ce1b9c02009c9c$export$4798917dbf149b79;\n}($b43bf3d87e5977ce$exports.EventEmitter);\n\n\nvar $2dee96d763ef5e84$exports = {};\n\n$parcel$export($2dee96d763ef5e84$exports, \"MediaConnection\", function () { return $2dee96d763ef5e84$export$4a84e95a2324ac29; }, function (v) { return $2dee96d763ef5e84$export$4a84e95a2324ac29 = v; });\n\n\nvar $daff3b483806ca69$exports = {};\n\n$parcel$export($daff3b483806ca69$exports, \"Negotiator\", function () { return $daff3b483806ca69$export$89e6bb5ad64bf4a; }, function (v) { return $daff3b483806ca69$export$89e6bb5ad64bf4a = v; });\n\n\n\nvar $daff3b483806ca69$var$__assign = undefined && undefined.__assign || function() {\n    $daff3b483806ca69$var$__assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return $daff3b483806ca69$var$__assign.apply(this, arguments);\n};\nvar $daff3b483806ca69$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    var adopt = function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    };\n    return new (P || (P = Promise))(function(resolve, reject) {\n        var fulfilled = function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var rejected = function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var step = function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        };\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar $daff3b483806ca69$var$__generator = undefined && undefined.__generator || function(thisArg, body) {\n    var verb = function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    };\n    var step = function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    };\n    var _ = {\n        label: 0,\n        sent: function sent() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g;\n    return g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n};\n/**\n * Manages all negotiations between Peers.\n */ var $daff3b483806ca69$export$89e6bb5ad64bf4a = /** @class */ function() {\n    var $daff3b483806ca69$export$89e6bb5ad64bf4a = function $daff3b483806ca69$export$89e6bb5ad64bf4a(connection) {\n        this.connection = connection;\n    };\n    /** Returns a PeerConnection object set up correctly (for data, media). */ $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype.startConnection = function(options) {\n        var peerConnection = this._startPeerConnection();\n        // Set the connection's PC.\n        this.connection.peerConnection = peerConnection;\n        if (this.connection.type === $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Media && options._stream) this._addTracksToConnection(options._stream, peerConnection);\n        // What do we need to do now?\n        if (options.originator) {\n            if (this.connection.type === $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Data) {\n                var dataConnection = this.connection;\n                var config = {\n                    ordered: !!options.reliable\n                };\n                var dataChannel = peerConnection.createDataChannel(dataConnection.label, config);\n                dataConnection.initialize(dataChannel);\n            }\n            this._makeOffer();\n        } else this.handleSDP(\"OFFER\", options.sdp);\n    };\n    /** Start a PC. */ $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype._startPeerConnection = function() {\n        $96fb85a532fc3748$exports.default.log(\"Creating RTCPeerConnection.\");\n        var peerConnection = new RTCPeerConnection(this.connection.provider.options.config);\n        this._setupListeners(peerConnection);\n        return peerConnection;\n    };\n    /** Set up various WebRTC listeners. */ $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype._setupListeners = function(peerConnection) {\n        var _this = this;\n        var peerId = this.connection.peer;\n        var connectionId = this.connection.connectionId;\n        var connectionType = this.connection.type;\n        var provider = this.connection.provider;\n        // ICE CANDIDATES.\n        $96fb85a532fc3748$exports.default.log(\"Listening for ICE candidates.\");\n        peerConnection.onicecandidate = function(evt) {\n            if (!evt.candidate || !evt.candidate.candidate) return;\n            $96fb85a532fc3748$exports.default.log(\"Received ICE candidates for \".concat(peerId, \":\"), evt.candidate);\n            provider.socket.send({\n                type: $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Candidate,\n                payload: {\n                    candidate: evt.candidate,\n                    type: connectionType,\n                    connectionId: connectionId\n                },\n                dst: peerId\n            });\n        };\n        peerConnection.oniceconnectionstatechange = function() {\n            switch(peerConnection.iceConnectionState){\n                case \"failed\":\n                    $96fb85a532fc3748$exports.default.log(\"iceConnectionState is failed, closing connections to \" + peerId);\n                    _this.connection.emit(\"error\", new Error(\"Negotiation of connection to \" + peerId + \" failed.\"));\n                    _this.connection.close();\n                    break;\n                case \"closed\":\n                    $96fb85a532fc3748$exports.default.log(\"iceConnectionState is closed, closing connections to \" + peerId);\n                    _this.connection.emit(\"error\", new Error(\"Connection to \" + peerId + \" closed.\"));\n                    _this.connection.close();\n                    break;\n                case \"disconnected\":\n                    $96fb85a532fc3748$exports.default.log(\"iceConnectionState changed to disconnected on the connection with \" + peerId);\n                    break;\n                case \"completed\":\n                    peerConnection.onicecandidate = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.noop;\n                    break;\n            }\n            _this.connection.emit(\"iceStateChanged\", peerConnection.iceConnectionState);\n        };\n        // DATACONNECTION.\n        $96fb85a532fc3748$exports.default.log(\"Listening for data channel\");\n        // Fired between offer and answer, so options should already be saved\n        // in the options hash.\n        peerConnection.ondatachannel = function(evt) {\n            $96fb85a532fc3748$exports.default.log(\"Received data channel\");\n            var dataChannel = evt.channel;\n            var connection = provider.getConnection(peerId, connectionId);\n            connection.initialize(dataChannel);\n        };\n        // MEDIACONNECTION.\n        $96fb85a532fc3748$exports.default.log(\"Listening for remote stream\");\n        peerConnection.ontrack = function(evt) {\n            $96fb85a532fc3748$exports.default.log(\"Received remote stream\");\n            var stream = evt.streams[0];\n            var connection = provider.getConnection(peerId, connectionId);\n            if (connection.type === $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Media) {\n                var mediaConnection = connection;\n                _this._addStreamToMediaConnection(stream, mediaConnection);\n            }\n        };\n    };\n    $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype.cleanup = function() {\n        $96fb85a532fc3748$exports.default.log(\"Cleaning up PeerConnection to \" + this.connection.peer);\n        var peerConnection = this.connection.peerConnection;\n        if (!peerConnection) return;\n        this.connection.peerConnection = null;\n        //unsubscribe from all PeerConnection's events\n        peerConnection.onicecandidate = peerConnection.oniceconnectionstatechange = peerConnection.ondatachannel = peerConnection.ontrack = function() {};\n        var peerConnectionNotClosed = peerConnection.signalingState !== \"closed\";\n        var dataChannelNotClosed = false;\n        if (this.connection.type === $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Data) {\n            var dataConnection = this.connection;\n            var dataChannel = dataConnection.dataChannel;\n            if (dataChannel) dataChannelNotClosed = !!dataChannel.readyState && dataChannel.readyState !== \"closed\";\n        }\n        if (peerConnectionNotClosed || dataChannelNotClosed) peerConnection.close();\n    };\n    $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype._makeOffer = function() {\n        return $daff3b483806ca69$var$__awaiter(this, void 0, Promise, function() {\n            var peerConnection, provider, offer, payload, dataConnection, err_2, err_1_1;\n            return $daff3b483806ca69$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        peerConnection = this.connection.peerConnection;\n                        provider = this.connection.provider;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([\n                            1,\n                            7,\n                            ,\n                            8\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            peerConnection.createOffer(this.connection.options.constraints)\n                        ];\n                    case 2:\n                        offer = _a.sent();\n                        $96fb85a532fc3748$exports.default.log(\"Created offer.\");\n                        if (this.connection.options.sdpTransform && typeof this.connection.options.sdpTransform === \"function\") offer.sdp = this.connection.options.sdpTransform(offer.sdp) || offer.sdp;\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([\n                            3,\n                            5,\n                            ,\n                            6\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            peerConnection.setLocalDescription(offer)\n                        ];\n                    case 4:\n                        _a.sent();\n                        $96fb85a532fc3748$exports.default.log(\"Set localDescription:\", offer, \"for:\".concat(this.connection.peer));\n                        payload = {\n                            sdp: offer,\n                            type: this.connection.type,\n                            connectionId: this.connection.connectionId,\n                            metadata: this.connection.metadata,\n                            browser: $7dc43ad2ffa25036$export$7debb50ef11d5e0b.browser\n                        };\n                        if (this.connection.type === $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Data) {\n                            dataConnection = this.connection;\n                            payload = $daff3b483806ca69$var$__assign($daff3b483806ca69$var$__assign({}, payload), {\n                                label: dataConnection.label,\n                                reliable: dataConnection.reliable,\n                                serialization: dataConnection.serialization\n                            });\n                        }\n                        provider.socket.send({\n                            type: $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Offer,\n                            payload: payload,\n                            dst: this.connection.peer\n                        });\n                        return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                    case 5:\n                        err_2 = _a.sent();\n                        // TODO: investigate why _makeOffer is being called from the answer\n                        if (err_2 != \"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer\") {\n                            provider.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.WebRTC, err_2);\n                            $96fb85a532fc3748$exports.default.log(\"Failed to setLocalDescription, \", err_2);\n                        }\n                        return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                    case 6:\n                        return [\n                            3 /*break*/ ,\n                            8\n                        ];\n                    case 7:\n                        err_1_1 = _a.sent();\n                        provider.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.WebRTC, err_1_1);\n                        $96fb85a532fc3748$exports.default.log(\"Failed to createOffer, \", err_1_1);\n                        return [\n                            3 /*break*/ ,\n                            8\n                        ];\n                    case 8:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype._makeAnswer = function() {\n        return $daff3b483806ca69$var$__awaiter(this, void 0, Promise, function() {\n            var peerConnection, provider, answer, err_3, err_1_2;\n            return $daff3b483806ca69$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        peerConnection = this.connection.peerConnection;\n                        provider = this.connection.provider;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([\n                            1,\n                            7,\n                            ,\n                            8\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            peerConnection.createAnswer()\n                        ];\n                    case 2:\n                        answer = _a.sent();\n                        $96fb85a532fc3748$exports.default.log(\"Created answer.\");\n                        if (this.connection.options.sdpTransform && typeof this.connection.options.sdpTransform === \"function\") answer.sdp = this.connection.options.sdpTransform(answer.sdp) || answer.sdp;\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([\n                            3,\n                            5,\n                            ,\n                            6\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            peerConnection.setLocalDescription(answer)\n                        ];\n                    case 4:\n                        _a.sent();\n                        $96fb85a532fc3748$exports.default.log(\"Set localDescription:\", answer, \"for:\".concat(this.connection.peer));\n                        provider.socket.send({\n                            type: $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Answer,\n                            payload: {\n                                sdp: answer,\n                                type: this.connection.type,\n                                connectionId: this.connection.connectionId,\n                                browser: $7dc43ad2ffa25036$export$7debb50ef11d5e0b.browser\n                            },\n                            dst: this.connection.peer\n                        });\n                        return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                    case 5:\n                        err_3 = _a.sent();\n                        provider.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.WebRTC, err_3);\n                        $96fb85a532fc3748$exports.default.log(\"Failed to setLocalDescription, \", err_3);\n                        return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                    case 6:\n                        return [\n                            3 /*break*/ ,\n                            8\n                        ];\n                    case 7:\n                        err_1_2 = _a.sent();\n                        provider.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.WebRTC, err_1_2);\n                        $96fb85a532fc3748$exports.default.log(\"Failed to create answer, \", err_1_2);\n                        return [\n                            3 /*break*/ ,\n                            8\n                        ];\n                    case 8:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    /** Handle an SDP. */ $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype.handleSDP = function(type, sdp) {\n        return $daff3b483806ca69$var$__awaiter(this, void 0, Promise, function() {\n            var peerConnection, provider, self, err_4;\n            return $daff3b483806ca69$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        sdp = new RTCSessionDescription(sdp);\n                        peerConnection = this.connection.peerConnection;\n                        provider = this.connection.provider;\n                        $96fb85a532fc3748$exports.default.log(\"Setting remote description\", sdp);\n                        self = this;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            peerConnection.setRemoteDescription(sdp)\n                        ];\n                    case 2:\n                        _a.sent();\n                        $96fb85a532fc3748$exports.default.log(\"Set remoteDescription:\".concat(type, \" for:\").concat(this.connection.peer));\n                        if (!(type === \"OFFER\")) return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            self._makeAnswer()\n                        ];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                    case 5:\n                        err_4 = _a.sent();\n                        provider.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.WebRTC, err_4);\n                        $96fb85a532fc3748$exports.default.log(\"Failed to setRemoteDescription, \", err_4);\n                        return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                    case 6:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    /** Handle a candidate. */ $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype.handleCandidate = function(ice) {\n        return $daff3b483806ca69$var$__awaiter(this, void 0, Promise, function() {\n            var candidate, sdpMLineIndex, sdpMid, peerConnection, provider, err_5;\n            return $daff3b483806ca69$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        $96fb85a532fc3748$exports.default.log(\"handleCandidate:\", ice);\n                        candidate = ice.candidate;\n                        sdpMLineIndex = ice.sdpMLineIndex;\n                        sdpMid = ice.sdpMid;\n                        peerConnection = this.connection.peerConnection;\n                        provider = this.connection.provider;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            peerConnection.addIceCandidate(new RTCIceCandidate({\n                                sdpMid: sdpMid,\n                                sdpMLineIndex: sdpMLineIndex,\n                                candidate: candidate\n                            }))\n                        ];\n                    case 2:\n                        _a.sent();\n                        $96fb85a532fc3748$exports.default.log(\"Added ICE candidate for:\".concat(this.connection.peer));\n                        return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                    case 3:\n                        err_5 = _a.sent();\n                        provider.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.WebRTC, err_5);\n                        $96fb85a532fc3748$exports.default.log(\"Failed to handleCandidate, \", err_5);\n                        return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                    case 4:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype._addTracksToConnection = function(stream, peerConnection) {\n        $96fb85a532fc3748$exports.default.log(\"add tracks from stream \".concat(stream.id, \" to peer connection\"));\n        if (!peerConnection.addTrack) return $96fb85a532fc3748$exports.default.error(\"Your browser does't support RTCPeerConnection#addTrack. Ignored.\");\n        stream.getTracks().forEach(function(track) {\n            peerConnection.addTrack(track, stream);\n        });\n    };\n    $daff3b483806ca69$export$89e6bb5ad64bf4a.prototype._addStreamToMediaConnection = function(stream, mediaConnection) {\n        $96fb85a532fc3748$exports.default.log(\"add stream \".concat(stream.id, \" to media connection \").concat(mediaConnection.connectionId));\n        mediaConnection.addStream(stream);\n    };\n    return $daff3b483806ca69$export$89e6bb5ad64bf4a;\n}();\n\n\n\nvar $5d892295c5b1457a$exports = {};\n\n$parcel$export($5d892295c5b1457a$exports, \"BaseConnection\", function () { return $5d892295c5b1457a$export$23a2a68283c24d80; }, function (v) { return $5d892295c5b1457a$export$23a2a68283c24d80 = v; });\n\nvar $5d892295c5b1457a$var$__extends = undefined && undefined.__extends || function() {\n    var extendStatics = function(d1, b1) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d1, b1);\n    };\n    return function(d, b) {\n        var __ = function __() {\n            this.constructor = d;\n        };\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $5d892295c5b1457a$export$23a2a68283c24d80 = /** @class */ function(_super) {\n    var $5d892295c5b1457a$export$23a2a68283c24d80 = function $5d892295c5b1457a$export$23a2a68283c24d80(peer, provider, options) {\n        var _this = _super.call(this) || this;\n        _this.peer = peer;\n        _this.provider = provider;\n        _this.options = options;\n        _this._open = false;\n        _this.metadata = options.metadata;\n        return _this;\n    };\n    $5d892295c5b1457a$var$__extends($5d892295c5b1457a$export$23a2a68283c24d80, _super);\n    Object.defineProperty($5d892295c5b1457a$export$23a2a68283c24d80.prototype, \"open\", {\n        get: function get() {\n            return this._open;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return $5d892295c5b1457a$export$23a2a68283c24d80;\n}($b43bf3d87e5977ce$exports.EventEmitter);\n\n\nvar $2dee96d763ef5e84$var$__extends = undefined && undefined.__extends || function() {\n    var extendStatics = function(d1, b1) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d1, b1);\n    };\n    return function(d, b) {\n        var __ = function __() {\n            this.constructor = d;\n        };\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $2dee96d763ef5e84$var$__assign = undefined && undefined.__assign || function() {\n    $2dee96d763ef5e84$var$__assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return $2dee96d763ef5e84$var$__assign.apply(this, arguments);\n};\nvar $2dee96d763ef5e84$var$__values = undefined && undefined.__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function next() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/**\n * Wraps the streaming interface between two Peers.\n */ var $2dee96d763ef5e84$export$4a84e95a2324ac29 = /** @class */ function(_super) {\n    $2dee96d763ef5e84$var$__extends($2dee96d763ef5e84$export$4a84e95a2324ac29, _super);\n    function $2dee96d763ef5e84$export$4a84e95a2324ac29(peerId, provider, options) {\n        var _this = _super.call(this, peerId, provider, options) || this;\n        _this._localStream = _this.options._stream;\n        _this.connectionId = _this.options.connectionId || $2dee96d763ef5e84$export$4a84e95a2324ac29.ID_PREFIX + $7dc43ad2ffa25036$export$7debb50ef11d5e0b.randomToken();\n        _this._negotiator = new $daff3b483806ca69$exports.Negotiator(_this);\n        if (_this._localStream) _this._negotiator.startConnection({\n            _stream: _this._localStream,\n            originator: true\n        });\n        return _this;\n    }\n    Object.defineProperty($2dee96d763ef5e84$export$4a84e95a2324ac29.prototype, \"type\", {\n        get: function get() {\n            return $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Media;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($2dee96d763ef5e84$export$4a84e95a2324ac29.prototype, \"localStream\", {\n        get: function get() {\n            return this._localStream;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($2dee96d763ef5e84$export$4a84e95a2324ac29.prototype, \"remoteStream\", {\n        get: function get() {\n            return this._remoteStream;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    $2dee96d763ef5e84$export$4a84e95a2324ac29.prototype.addStream = function(remoteStream) {\n        $96fb85a532fc3748$exports.default.log(\"Receiving stream\", remoteStream);\n        this._remoteStream = remoteStream;\n        _super.prototype.emit.call(this, \"stream\", remoteStream); // Should we call this `open`?\n    };\n    $2dee96d763ef5e84$export$4a84e95a2324ac29.prototype.handleMessage = function(message) {\n        var type = message.type;\n        var payload = message.payload;\n        switch(message.type){\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Answer:\n                // Forward to negotiator\n                this._negotiator.handleSDP(type, payload.sdp);\n                this._open = true;\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Candidate:\n                this._negotiator.handleCandidate(payload.candidate);\n                break;\n            default:\n                $96fb85a532fc3748$exports.default.warn(\"Unrecognized message type:\".concat(type, \" from peer:\").concat(this.peer));\n                break;\n        }\n    };\n    $2dee96d763ef5e84$export$4a84e95a2324ac29.prototype.answer = function(stream, options) {\n        var e_1, _a;\n        if (options === void 0) options = {};\n        if (this._localStream) {\n            $96fb85a532fc3748$exports.default.warn(\"Local stream already exists on this MediaConnection. Are you answering a call twice?\");\n            return;\n        }\n        this._localStream = stream;\n        if (options && options.sdpTransform) this.options.sdpTransform = options.sdpTransform;\n        this._negotiator.startConnection($2dee96d763ef5e84$var$__assign($2dee96d763ef5e84$var$__assign({}, this.options._payload), {\n            _stream: stream\n        }));\n        // Retrieve lost messages stored because PeerConnection not set up.\n        var messages = this.provider._getMessages(this.connectionId);\n        try {\n            for(var messages_1 = $2dee96d763ef5e84$var$__values(messages), messages_1_1 = messages_1.next(); !messages_1_1.done; messages_1_1 = messages_1.next()){\n                var message = messages_1_1.value;\n                this.handleMessage(message);\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (messages_1_1 && !messages_1_1.done && (_a = messages_1[\"return\"])) _a.call(messages_1);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n        this._open = true;\n    };\n    /**\n     * Exposed functionality for users.\n     */ /** Allows user to close connection. */ $2dee96d763ef5e84$export$4a84e95a2324ac29.prototype.close = function() {\n        if (this._negotiator) {\n            this._negotiator.cleanup();\n            this._negotiator = null;\n        }\n        this._localStream = null;\n        this._remoteStream = null;\n        if (this.provider) {\n            this.provider._removeConnection(this);\n            this.provider = null;\n        }\n        if (this.options && this.options._stream) this.options._stream = null;\n        if (!this.open) return;\n        this._open = false;\n        _super.prototype.emit.call(this, \"close\");\n    };\n    $2dee96d763ef5e84$export$4a84e95a2324ac29.ID_PREFIX = \"mc_\";\n    return $2dee96d763ef5e84$export$4a84e95a2324ac29;\n}($5d892295c5b1457a$exports.BaseConnection);\n\n\nvar $4b24811a876734be$exports = {};\n\n$parcel$export($4b24811a876734be$exports, \"DataConnection\", function () { return $4b24811a876734be$export$d365f7ad9d7df9c9; }, function (v) { return $4b24811a876734be$export$d365f7ad9d7df9c9 = v; });\n\n\n\n\n\nvar $c9c05de86256a90f$exports = {};\n\n$parcel$export($c9c05de86256a90f$exports, \"EncodingQueue\", function () { return $c9c05de86256a90f$export$c6913ae0ed687038; }, function (v) { return $c9c05de86256a90f$export$c6913ae0ed687038 = v; });\n\n\nvar $c9c05de86256a90f$var$__extends = undefined && undefined.__extends || function() {\n    var extendStatics = function(d1, b1) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d1, b1);\n    };\n    return function(d, b) {\n        var __ = function __() {\n            this.constructor = d;\n        };\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $c9c05de86256a90f$export$c6913ae0ed687038 = /** @class */ function(_super) {\n    var $c9c05de86256a90f$export$c6913ae0ed687038 = function $c9c05de86256a90f$export$c6913ae0ed687038() {\n        var _this = _super.call(this) || this;\n        _this.fileReader = new FileReader();\n        _this._queue = [];\n        _this._processing = false;\n        _this.fileReader.onload = function(evt) {\n            _this._processing = false;\n            if (evt.target) _this.emit(\"done\", evt.target.result);\n            _this.doNextTask();\n        };\n        _this.fileReader.onerror = function(evt) {\n            $96fb85a532fc3748$exports.default.error(\"EncodingQueue error:\", evt);\n            _this._processing = false;\n            _this.destroy();\n            _this.emit(\"error\", evt);\n        };\n        return _this;\n    };\n    $c9c05de86256a90f$var$__extends($c9c05de86256a90f$export$c6913ae0ed687038, _super);\n    Object.defineProperty($c9c05de86256a90f$export$c6913ae0ed687038.prototype, \"queue\", {\n        get: function get() {\n            return this._queue;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($c9c05de86256a90f$export$c6913ae0ed687038.prototype, \"size\", {\n        get: function get() {\n            return this.queue.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($c9c05de86256a90f$export$c6913ae0ed687038.prototype, \"processing\", {\n        get: function get() {\n            return this._processing;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    $c9c05de86256a90f$export$c6913ae0ed687038.prototype.enque = function(blob) {\n        this.queue.push(blob);\n        if (this.processing) return;\n        this.doNextTask();\n    };\n    $c9c05de86256a90f$export$c6913ae0ed687038.prototype.destroy = function() {\n        this.fileReader.abort();\n        this._queue = [];\n    };\n    $c9c05de86256a90f$export$c6913ae0ed687038.prototype.doNextTask = function() {\n        if (this.size === 0) return;\n        if (this.processing) return;\n        this._processing = true;\n        this.fileReader.readAsArrayBuffer(this.queue.shift());\n    };\n    return $c9c05de86256a90f$export$c6913ae0ed687038;\n}($b43bf3d87e5977ce$exports.EventEmitter);\n\n\nvar $4b24811a876734be$var$__extends = undefined && undefined.__extends || function() {\n    var extendStatics = function(d1, b1) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d1, b1);\n    };\n    return function(d, b) {\n        var __ = function __() {\n            this.constructor = d;\n        };\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $4b24811a876734be$var$__values = undefined && undefined.__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function next() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/**\n * Wraps a DataChannel between two Peers.\n */ var $4b24811a876734be$export$d365f7ad9d7df9c9 = /** @class */ function(_super) {\n    $4b24811a876734be$var$__extends($4b24811a876734be$export$d365f7ad9d7df9c9, _super);\n    function $4b24811a876734be$export$d365f7ad9d7df9c9(peerId, provider, options) {\n        var _this = _super.call(this, peerId, provider, options) || this;\n        _this.stringify = JSON.stringify;\n        _this.parse = JSON.parse;\n        _this._buffer = [];\n        _this._bufferSize = 0;\n        _this._buffering = false;\n        _this._chunkedData = {};\n        _this._encodingQueue = new $c9c05de86256a90f$exports.EncodingQueue();\n        _this.connectionId = _this.options.connectionId || $4b24811a876734be$export$d365f7ad9d7df9c9.ID_PREFIX + $7dc43ad2ffa25036$export$7debb50ef11d5e0b.randomToken();\n        _this.label = _this.options.label || _this.connectionId;\n        _this.serialization = _this.options.serialization || $8b9dc3e5f2ea4cc9$export$89f507cf986a947.Binary;\n        _this.reliable = !!_this.options.reliable;\n        _this._encodingQueue.on(\"done\", function(ab) {\n            _this._bufferedSend(ab);\n        });\n        _this._encodingQueue.on(\"error\", function() {\n            $96fb85a532fc3748$exports.default.error(\"DC#\".concat(_this.connectionId, \": Error occured in encoding from blob to arraybuffer, close DC\"));\n            _this.close();\n        });\n        _this._negotiator = new $daff3b483806ca69$exports.Negotiator(_this);\n        _this._negotiator.startConnection(_this.options._payload || {\n            originator: true\n        });\n        return _this;\n    }\n    Object.defineProperty($4b24811a876734be$export$d365f7ad9d7df9c9.prototype, \"type\", {\n        get: function get() {\n            return $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($4b24811a876734be$export$d365f7ad9d7df9c9.prototype, \"dataChannel\", {\n        get: function get() {\n            return this._dc;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($4b24811a876734be$export$d365f7ad9d7df9c9.prototype, \"bufferSize\", {\n        get: function get() {\n            return this._bufferSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /** Called by the Negotiator when the DataChannel is ready. */ $4b24811a876734be$export$d365f7ad9d7df9c9.prototype.initialize = function(dc) {\n        this._dc = dc;\n        this._configureDataChannel();\n    };\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype._configureDataChannel = function() {\n        var _this = this;\n        if (!$7dc43ad2ffa25036$export$7debb50ef11d5e0b.supports.binaryBlob || $7dc43ad2ffa25036$export$7debb50ef11d5e0b.supports.reliable) this.dataChannel.binaryType = \"arraybuffer\";\n        this.dataChannel.onopen = function() {\n            $96fb85a532fc3748$exports.default.log(\"DC#\".concat(_this.connectionId, \" dc connection success\"));\n            _this._open = true;\n            _this.emit(\"open\");\n        };\n        this.dataChannel.onmessage = function(e) {\n            $96fb85a532fc3748$exports.default.log(\"DC#\".concat(_this.connectionId, \" dc onmessage:\"), e.data);\n            _this._handleDataMessage(e);\n        };\n        this.dataChannel.onclose = function() {\n            $96fb85a532fc3748$exports.default.log(\"DC#\".concat(_this.connectionId, \" dc closed for:\"), _this.peer);\n            _this.close();\n        };\n    };\n    // Handles a DataChannel message.\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype._handleDataMessage = function(_a) {\n        var _this = this;\n        var data = _a.data;\n        var datatype = data.constructor;\n        var isBinarySerialization = this.serialization === $8b9dc3e5f2ea4cc9$export$89f507cf986a947.Binary || this.serialization === $8b9dc3e5f2ea4cc9$export$89f507cf986a947.BinaryUTF8;\n        var deserializedData = data;\n        if (isBinarySerialization) {\n            if (datatype === Blob) {\n                // Datatype should never be blob\n                $7dc43ad2ffa25036$export$7debb50ef11d5e0b.blobToArrayBuffer(data, function(ab) {\n                    var unpackedData = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.unpack(ab);\n                    _this.emit(\"data\", unpackedData);\n                });\n                return;\n            } else if (datatype === ArrayBuffer) deserializedData = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.unpack(data);\n            else if (datatype === String) {\n                // String fallback for binary data for browsers that don't support binary yet\n                var ab1 = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.binaryStringToArrayBuffer(data);\n                deserializedData = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.unpack(ab1);\n            }\n        } else if (this.serialization === $8b9dc3e5f2ea4cc9$export$89f507cf986a947.JSON) deserializedData = this.parse(data);\n        // Check if we've chunked--if so, piece things back together.\n        // We're guaranteed that this isn't 0.\n        if (deserializedData.__peerData) {\n            this._handleChunk(deserializedData);\n            return;\n        }\n        _super.prototype.emit.call(this, \"data\", deserializedData);\n    };\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype._handleChunk = function(data) {\n        var id = data.__peerData;\n        var chunkInfo = this._chunkedData[id] || {\n            data: [],\n            count: 0,\n            total: data.total\n        };\n        chunkInfo.data[data.n] = data.data;\n        chunkInfo.count++;\n        this._chunkedData[id] = chunkInfo;\n        if (chunkInfo.total === chunkInfo.count) {\n            // Clean up before making the recursive call to `_handleDataMessage`.\n            delete this._chunkedData[id];\n            // We've received all the chunks--time to construct the complete data.\n            var data_1 = new Blob(chunkInfo.data);\n            this._handleDataMessage({\n                data: data_1\n            });\n        }\n    };\n    /**\n     * Exposed functionality for users.\n     */ /** Allows user to close connection. */ $4b24811a876734be$export$d365f7ad9d7df9c9.prototype.close = function() {\n        this._buffer = [];\n        this._bufferSize = 0;\n        this._chunkedData = {};\n        if (this._negotiator) {\n            this._negotiator.cleanup();\n            this._negotiator = null;\n        }\n        if (this.provider) {\n            this.provider._removeConnection(this);\n            this.provider = null;\n        }\n        if (this.dataChannel) {\n            this.dataChannel.onopen = null;\n            this.dataChannel.onmessage = null;\n            this.dataChannel.onclose = null;\n            this._dc = null;\n        }\n        if (this._encodingQueue) {\n            this._encodingQueue.destroy();\n            this._encodingQueue.removeAllListeners();\n            this._encodingQueue = null;\n        }\n        if (!this.open) return;\n        this._open = false;\n        _super.prototype.emit.call(this, \"close\");\n    };\n    /** Allows user to send data. */ $4b24811a876734be$export$d365f7ad9d7df9c9.prototype.send = function(data, chunked) {\n        if (!this.open) {\n            _super.prototype.emit.call(this, \"error\", new Error(\"Connection is not open. You should listen for the `open` event before sending messages.\"));\n            return;\n        }\n        if (this.serialization === $8b9dc3e5f2ea4cc9$export$89f507cf986a947.JSON) this._bufferedSend(this.stringify(data));\n        else if (this.serialization === $8b9dc3e5f2ea4cc9$export$89f507cf986a947.Binary || this.serialization === $8b9dc3e5f2ea4cc9$export$89f507cf986a947.BinaryUTF8) {\n            var blob = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.pack(data);\n            if (!chunked && blob.size > $7dc43ad2ffa25036$export$7debb50ef11d5e0b.chunkedMTU) {\n                this._sendChunks(blob);\n                return;\n            }\n            if (!$7dc43ad2ffa25036$export$7debb50ef11d5e0b.supports.binaryBlob) // We only do this if we really need to (e.g. blobs are not supported),\n            // because this conversion is costly.\n            this._encodingQueue.enque(blob);\n            else this._bufferedSend(blob);\n        } else this._bufferedSend(data);\n    };\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype._bufferedSend = function(msg) {\n        if (this._buffering || !this._trySend(msg)) {\n            this._buffer.push(msg);\n            this._bufferSize = this._buffer.length;\n        }\n    };\n    // Returns true if the send succeeds.\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype._trySend = function(msg) {\n        var _this = this;\n        if (!this.open) return false;\n        if (this.dataChannel.bufferedAmount > $4b24811a876734be$export$d365f7ad9d7df9c9.MAX_BUFFERED_AMOUNT) {\n            this._buffering = true;\n            setTimeout(function() {\n                _this._buffering = false;\n                _this._tryBuffer();\n            }, 50);\n            return false;\n        }\n        try {\n            this.dataChannel.send(msg);\n        } catch (e) {\n            $96fb85a532fc3748$exports.default.error(\"DC#:\".concat(this.connectionId, \" Error when sending:\"), e);\n            this._buffering = true;\n            this.close();\n            return false;\n        }\n        return true;\n    };\n    // Try to send the first message in the buffer.\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype._tryBuffer = function() {\n        if (!this.open) return;\n        if (this._buffer.length === 0) return;\n        var msg = this._buffer[0];\n        if (this._trySend(msg)) {\n            this._buffer.shift();\n            this._bufferSize = this._buffer.length;\n            this._tryBuffer();\n        }\n    };\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype._sendChunks = function(blob) {\n        var e_1, _a;\n        var blobs = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.chunk(blob);\n        $96fb85a532fc3748$exports.default.log(\"DC#\".concat(this.connectionId, \" Try to send \").concat(blobs.length, \" chunks...\"));\n        try {\n            for(var blobs_1 = $4b24811a876734be$var$__values(blobs), blobs_1_1 = blobs_1.next(); !blobs_1_1.done; blobs_1_1 = blobs_1.next()){\n                var blob_1 = blobs_1_1.value;\n                this.send(blob_1, true);\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (blobs_1_1 && !blobs_1_1.done && (_a = blobs_1[\"return\"])) _a.call(blobs_1);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n    };\n    $4b24811a876734be$export$d365f7ad9d7df9c9.prototype.handleMessage = function(message) {\n        var payload = message.payload;\n        switch(message.type){\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Answer:\n                this._negotiator.handleSDP(message.type, payload.sdp);\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Candidate:\n                this._negotiator.handleCandidate(payload.candidate);\n                break;\n            default:\n                $96fb85a532fc3748$exports.default.warn(\"Unrecognized message type:\", message.type, \"from peer:\", this.peer);\n                break;\n        }\n    };\n    $4b24811a876734be$export$d365f7ad9d7df9c9.ID_PREFIX = \"dc_\";\n    $4b24811a876734be$export$d365f7ad9d7df9c9.MAX_BUFFERED_AMOUNT = 8388608;\n    return $4b24811a876734be$export$d365f7ad9d7df9c9;\n}($5d892295c5b1457a$exports.BaseConnection);\n\n\n\nvar $cc553450d0fad698$exports = {};\n\n$parcel$export($cc553450d0fad698$exports, \"API\", function () { return $cc553450d0fad698$export$2c4e825dc9120f87; }, function (v) { return $cc553450d0fad698$export$2c4e825dc9120f87 = v; });\n\n\n\nvar $cc553450d0fad698$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    var adopt = function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    };\n    return new (P || (P = Promise))(function(resolve, reject) {\n        var fulfilled = function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var rejected = function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var step = function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        };\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar $cc553450d0fad698$var$__generator = undefined && undefined.__generator || function(thisArg, body) {\n    var verb = function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    };\n    var step = function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    };\n    var _ = {\n        label: 0,\n        sent: function sent() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g;\n    return g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n};\nvar $cc553450d0fad698$export$2c4e825dc9120f87 = /** @class */ function() {\n    var $cc553450d0fad698$export$2c4e825dc9120f87 = function $cc553450d0fad698$export$2c4e825dc9120f87(_options) {\n        this._options = _options;\n    };\n    $cc553450d0fad698$export$2c4e825dc9120f87.prototype._buildRequest = function(method) {\n        var protocol = this._options.secure ? \"https\" : \"http\";\n        var _a = this._options, host = _a.host, port = _a.port, path = _a.path, key = _a.key;\n        var url = new URL(\"\".concat(protocol, \"://\").concat(host, \":\").concat(port).concat(path).concat(key, \"/\").concat(method));\n        // TODO: Why timestamp, why random?\n        url.searchParams.set(\"ts\", \"\".concat(Date.now()).concat(Math.random()));\n        url.searchParams.set(\"version\", $face5264434edf64$exports.version);\n        return fetch(url.href, {\n            referrerPolicy: this._options.referrerPolicy\n        });\n    };\n    /** Get a unique ID from the server via XHR and initialize with it. */ $cc553450d0fad698$export$2c4e825dc9120f87.prototype.retrieveId = function() {\n        return $cc553450d0fad698$var$__awaiter(this, void 0, Promise, function() {\n            var response, error_1, pathError;\n            return $cc553450d0fad698$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        _a.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            this._buildRequest(\"id\")\n                        ];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status !== 200) throw new Error(\"Error. Status:\".concat(response.status));\n                        return [\n                            2 /*return*/ ,\n                            response.text()\n                        ];\n                    case 2:\n                        error_1 = _a.sent();\n                        $96fb85a532fc3748$exports.default.error(\"Error retrieving ID\", error_1);\n                        pathError = \"\";\n                        if (this._options.path === \"/\" && this._options.host !== $7dc43ad2ffa25036$export$7debb50ef11d5e0b.CLOUD_HOST) pathError = \" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer.\";\n                        throw new Error(\"Could not get an ID from the server.\" + pathError);\n                    case 3:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    /** @deprecated */ $cc553450d0fad698$export$2c4e825dc9120f87.prototype.listAllPeers = function() {\n        return $cc553450d0fad698$var$__awaiter(this, void 0, Promise, function() {\n            var response, helpfulError, error_2;\n            return $cc553450d0fad698$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        _a.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        return [\n                            4 /*yield*/ ,\n                            this._buildRequest(\"peers\")\n                        ];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status !== 200) {\n                            if (response.status === 401) {\n                                helpfulError = \"\";\n                                if (this._options.host === $7dc43ad2ffa25036$export$7debb50ef11d5e0b.CLOUD_HOST) helpfulError = \"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.\";\n                                else helpfulError = \"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.\";\n                                throw new Error(\"It doesn't look like you have permission to list peers IDs. \" + helpfulError);\n                            }\n                            throw new Error(\"Error. Status:\".concat(response.status));\n                        }\n                        return [\n                            2 /*return*/ ,\n                            response.json()\n                        ];\n                    case 2:\n                        error_2 = _a.sent();\n                        $96fb85a532fc3748$exports.default.error(\"Error retrieving list peers\", error_2);\n                        throw new Error(\"Could not get list peers from the server.\" + error_2);\n                    case 3:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    return $cc553450d0fad698$export$2c4e825dc9120f87;\n}();\n\n\nvar $17252116aa2ef1fb$var$__extends = undefined && undefined.__extends || function() {\n    var extendStatics = function(d1, b1) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d1, b1);\n    };\n    return function(d, b) {\n        var __ = function __() {\n            this.constructor = d;\n        };\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $17252116aa2ef1fb$var$__assign = undefined && undefined.__assign || function() {\n    $17252116aa2ef1fb$var$__assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return $17252116aa2ef1fb$var$__assign.apply(this, arguments);\n};\nvar $17252116aa2ef1fb$var$__values = undefined && undefined.__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function next() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar $17252116aa2ef1fb$var$__read = undefined && undefined.__read || function(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar $17252116aa2ef1fb$var$PeerOptions = /** @class */ function() {\n    var PeerOptions = function PeerOptions() {};\n    return PeerOptions;\n}();\n/**\n * A peer who can initiate connections with other peers.\n */ var $17252116aa2ef1fb$export$ecd1fc136c422448 = /** @class */ function(_super) {\n    $17252116aa2ef1fb$var$__extends($17252116aa2ef1fb$export$ecd1fc136c422448, _super);\n    function $17252116aa2ef1fb$export$ecd1fc136c422448(id1, options) {\n        var _this = _super.call(this) || this;\n        _this._id = null;\n        _this._lastServerId = null;\n        // States.\n        _this._destroyed = false; // Connections have been killed\n        _this._disconnected = false; // Connection to PeerServer killed but P2P connections still active\n        _this._open = false; // Sockets and such are not yet open.\n        _this._connections = new Map(); // All connections for this peer.\n        _this._lostMessages = new Map(); // src => [list of messages]\n        var userId;\n        // Deal with overloading\n        if (id1 && id1.constructor == Object) options = id1;\n        else if (id1) userId = id1.toString();\n        // Configurize options\n        options = $17252116aa2ef1fb$var$__assign({\n            debug: 0,\n            host: $7dc43ad2ffa25036$export$7debb50ef11d5e0b.CLOUD_HOST,\n            port: $7dc43ad2ffa25036$export$7debb50ef11d5e0b.CLOUD_PORT,\n            path: \"/\",\n            key: $17252116aa2ef1fb$export$ecd1fc136c422448.DEFAULT_KEY,\n            token: $7dc43ad2ffa25036$export$7debb50ef11d5e0b.randomToken(),\n            config: $7dc43ad2ffa25036$export$7debb50ef11d5e0b.defaultConfig,\n            referrerPolicy: \"strict-origin-when-cross-origin\"\n        }, options);\n        _this._options = options;\n        // Detect relative URL host.\n        if (_this._options.host === \"/\") _this._options.host = window.location.hostname;\n        // Set path correctly.\n        if (_this._options.path) {\n            if (_this._options.path[0] !== \"/\") _this._options.path = \"/\" + _this._options.path;\n            if (_this._options.path[_this._options.path.length - 1] !== \"/\") _this._options.path += \"/\";\n        }\n        // Set whether we use SSL to same as current host\n        if (_this._options.secure === undefined && _this._options.host !== $7dc43ad2ffa25036$export$7debb50ef11d5e0b.CLOUD_HOST) _this._options.secure = $7dc43ad2ffa25036$export$7debb50ef11d5e0b.isSecure();\n        else if (_this._options.host == $7dc43ad2ffa25036$export$7debb50ef11d5e0b.CLOUD_HOST) _this._options.secure = true;\n        // Set a custom log function if present\n        if (_this._options.logFunction) $96fb85a532fc3748$exports.default.setLogFunction(_this._options.logFunction);\n        $96fb85a532fc3748$exports.default.logLevel = _this._options.debug || 0;\n        _this._api = new $cc553450d0fad698$exports.API(options);\n        _this._socket = _this._createServerConnection();\n        // Sanity checks\n        // Ensure WebRTC supported\n        if (!$7dc43ad2ffa25036$export$7debb50ef11d5e0b.supports.audioVideo && !$7dc43ad2ffa25036$export$7debb50ef11d5e0b.supports.data) {\n            _this._delayedAbort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.BrowserIncompatible, \"The current browser does not support WebRTC\");\n            return _this;\n        }\n        // Ensure alphanumeric id\n        if (!!userId && !$7dc43ad2ffa25036$export$7debb50ef11d5e0b.validateId(userId)) {\n            _this._delayedAbort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.InvalidID, \"ID \\\"\".concat(userId, \"\\\" is invalid\"));\n            return _this;\n        }\n        if (userId) _this._initialize(userId);\n        else _this._api.retrieveId().then(function(id) {\n            return _this._initialize(id);\n        })[\"catch\"](function(error) {\n            return _this._abort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.ServerError, error);\n        });\n        return _this;\n    }\n    Object.defineProperty($17252116aa2ef1fb$export$ecd1fc136c422448.prototype, \"id\", {\n        /**\n         * The brokering ID of this peer\n         */ get: function get() {\n            return this._id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($17252116aa2ef1fb$export$ecd1fc136c422448.prototype, \"options\", {\n        get: function get() {\n            return this._options;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($17252116aa2ef1fb$export$ecd1fc136c422448.prototype, \"open\", {\n        get: function get() {\n            return this._open;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($17252116aa2ef1fb$export$ecd1fc136c422448.prototype, \"socket\", {\n        get: function get() {\n            return this._socket;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($17252116aa2ef1fb$export$ecd1fc136c422448.prototype, \"connections\", {\n        /**\n         * A hash of all connections associated with this peer, keyed by the remote peer's ID.\n         * @deprecated\n         * Return type will change from Object to Map<string,[]>\n         */ get: function get() {\n            var e_1, _a;\n            var plainConnections = Object.create(null);\n            try {\n                for(var _b = $17252116aa2ef1fb$var$__values(this._connections), _c = _b.next(); !_c.done; _c = _b.next()){\n                    var _d = $17252116aa2ef1fb$var$__read(_c.value, 2), k = _d[0], v = _d[1];\n                    plainConnections[k] = v;\n                }\n            } catch (e_1_1) {\n                e_1 = {\n                    error: e_1_1\n                };\n            } finally{\n                try {\n                    if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n                } finally{\n                    if (e_1) throw e_1.error;\n                }\n            }\n            return plainConnections;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($17252116aa2ef1fb$export$ecd1fc136c422448.prototype, \"destroyed\", {\n        /**\n         * true if this peer and all of its connections can no longer be used.\n         */ get: function get() {\n            return this._destroyed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty($17252116aa2ef1fb$export$ecd1fc136c422448.prototype, \"disconnected\", {\n        /**\n         * false if there is an active connection to the PeerServer.\n         */ get: function get() {\n            return this._disconnected;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._createServerConnection = function() {\n        var _this = this;\n        var socket = new $b2ce1b9c02009c9c$exports.Socket(this._options.secure, this._options.host, this._options.port, this._options.path, this._options.key, this._options.pingInterval);\n        socket.on($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023.Message, function(data) {\n            _this._handleMessage(data);\n        });\n        socket.on($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023.Error, function(error) {\n            _this._abort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.SocketError, error);\n        });\n        socket.on($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023.Disconnected, function() {\n            if (_this.disconnected) return;\n            _this.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.Network, \"Lost connection to server.\");\n            _this.disconnect();\n        });\n        socket.on($8b9dc3e5f2ea4cc9$export$3b5c4a4b6354f023.Close, function() {\n            if (_this.disconnected) return;\n            _this._abort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.SocketClosed, \"Underlying socket is already closed.\");\n        });\n        return socket;\n    };\n    /** Initialize a connection with the server. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._initialize = function(id) {\n        this._id = id;\n        this.socket.start(id, this._options.token);\n    };\n    /** Handles messages from the server. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._handleMessage = function(message) {\n        var e_2, _a;\n        var type = message.type;\n        var payload = message.payload;\n        var peerId = message.src;\n        switch(type){\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Open:\n                this._lastServerId = this.id;\n                this._open = true;\n                this.emit(\"open\", this.id);\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Error:\n                this._abort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.ServerError, payload.msg);\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.IdTaken:\n                this._abort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.UnavailableID, \"ID \\\"\".concat(this.id, \"\\\" is taken\"));\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.InvalidKey:\n                this._abort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.InvalidKey, \"API KEY \\\"\".concat(this._options.key, \"\\\" is invalid\"));\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Leave:\n                $96fb85a532fc3748$exports.default.log(\"Received leave message from \".concat(peerId));\n                this._cleanupPeer(peerId);\n                this._connections[\"delete\"](peerId);\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Expire:\n                this.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.PeerUnavailable, \"Could not connect to peer \".concat(peerId));\n                break;\n            case $8b9dc3e5f2ea4cc9$export$adb4a1754da6f10d.Offer:\n                // we should consider switching this to CALL/CONNECT, but this is the least breaking option.\n                var connectionId = payload.connectionId;\n                var connection = this.getConnection(peerId, connectionId);\n                if (connection) {\n                    connection.close();\n                    $96fb85a532fc3748$exports.default.warn(\"Offer received for existing Connection ID:\".concat(connectionId));\n                }\n                // Create a new connection.\n                if (payload.type === $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Media) {\n                    var mediaConnection = new $2dee96d763ef5e84$exports.MediaConnection(peerId, this, {\n                        connectionId: connectionId,\n                        _payload: payload,\n                        metadata: payload.metadata\n                    });\n                    connection = mediaConnection;\n                    this._addConnection(peerId, connection);\n                    this.emit(\"call\", mediaConnection);\n                } else if (payload.type === $8b9dc3e5f2ea4cc9$export$3157d57b4135e3bc.Data) {\n                    var dataConnection = new $4b24811a876734be$exports.DataConnection(peerId, this, {\n                        connectionId: connectionId,\n                        _payload: payload,\n                        metadata: payload.metadata,\n                        label: payload.label,\n                        serialization: payload.serialization,\n                        reliable: payload.reliable\n                    });\n                    connection = dataConnection;\n                    this._addConnection(peerId, connection);\n                    this.emit(\"connection\", dataConnection);\n                } else {\n                    $96fb85a532fc3748$exports.default.warn(\"Received malformed connection type:\".concat(payload.type));\n                    return;\n                }\n                // Find messages.\n                var messages = this._getMessages(connectionId);\n                try {\n                    for(var messages_1 = $17252116aa2ef1fb$var$__values(messages), messages_1_1 = messages_1.next(); !messages_1_1.done; messages_1_1 = messages_1.next()){\n                        var message_1 = messages_1_1.value;\n                        connection.handleMessage(message_1);\n                    }\n                } catch (e_2_1) {\n                    e_2 = {\n                        error: e_2_1\n                    };\n                } finally{\n                    try {\n                        if (messages_1_1 && !messages_1_1.done && (_a = messages_1[\"return\"])) _a.call(messages_1);\n                    } finally{\n                        if (e_2) throw e_2.error;\n                    }\n                }\n                break;\n            default:\n                if (!payload) {\n                    $96fb85a532fc3748$exports.default.warn(\"You received a malformed message from \".concat(peerId, \" of type \").concat(type));\n                    return;\n                }\n                var connectionId = payload.connectionId;\n                var connection = this.getConnection(peerId, connectionId);\n                if (connection && connection.peerConnection) // Pass it on.\n                connection.handleMessage(message);\n                else if (connectionId) // Store for possible later use\n                this._storeMessage(connectionId, message);\n                else $96fb85a532fc3748$exports.default.warn(\"You received an unrecognized message:\", message);\n                break;\n        }\n    };\n    /** Stores messages without a set up connection, to be claimed later. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._storeMessage = function(connectionId, message) {\n        if (!this._lostMessages.has(connectionId)) this._lostMessages.set(connectionId, []);\n        this._lostMessages.get(connectionId).push(message);\n    };\n    /** Retrieve messages from lost message store */ //TODO Change it to private\n    $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._getMessages = function(connectionId) {\n        var messages = this._lostMessages.get(connectionId);\n        if (messages) {\n            this._lostMessages[\"delete\"](connectionId);\n            return messages;\n        }\n        return [];\n    };\n    /**\n     * Connects to the remote peer specified by id and returns a data connection.\n     * @param peer The brokering ID of the remote peer (their peer.id).\n     * @param options for specifying details about Peer Connection\n     */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.connect = function(peer, options) {\n        if (options === void 0) options = {};\n        if (this.disconnected) {\n            $96fb85a532fc3748$exports.default.warn(\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available.\");\n            this.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.Disconnected, \"Cannot connect to new Peer after disconnecting from server.\");\n            return;\n        }\n        var dataConnection = new $4b24811a876734be$exports.DataConnection(peer, this, options);\n        this._addConnection(peer, dataConnection);\n        return dataConnection;\n    };\n    /**\n     * Calls the remote peer specified by id and returns a media connection.\n     * @param peer The brokering ID of the remote peer (their peer.id).\n     * @param stream The caller's media stream\n     * @param options Metadata associated with the connection, passed in by whoever initiated the connection.\n     */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.call = function(peer, stream, options) {\n        if (options === void 0) options = {};\n        if (this.disconnected) {\n            $96fb85a532fc3748$exports.default.warn(\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect.\");\n            this.emitError($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.Disconnected, \"Cannot connect to new Peer after disconnecting from server.\");\n            return;\n        }\n        if (!stream) {\n            $96fb85a532fc3748$exports.default.error(\"To call a peer, you must provide a stream from your browser's `getUserMedia`.\");\n            return;\n        }\n        var mediaConnection = new $2dee96d763ef5e84$exports.MediaConnection(peer, this, $17252116aa2ef1fb$var$__assign($17252116aa2ef1fb$var$__assign({}, options), {\n            _stream: stream\n        }));\n        this._addConnection(peer, mediaConnection);\n        return mediaConnection;\n    };\n    /** Add a data/media connection to this peer. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._addConnection = function(peerId, connection) {\n        $96fb85a532fc3748$exports.default.log(\"add connection \".concat(connection.type, \":\").concat(connection.connectionId, \" to peerId:\").concat(peerId));\n        if (!this._connections.has(peerId)) this._connections.set(peerId, []);\n        this._connections.get(peerId).push(connection);\n    };\n    //TODO should be private\n    $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._removeConnection = function(connection) {\n        var connections = this._connections.get(connection.peer);\n        if (connections) {\n            var index = connections.indexOf(connection);\n            if (index !== -1) connections.splice(index, 1);\n        }\n        //remove from lost messages\n        this._lostMessages[\"delete\"](connection.connectionId);\n    };\n    /** Retrieve a data/media connection for this peer. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.getConnection = function(peerId, connectionId) {\n        var e_3, _a;\n        var connections = this._connections.get(peerId);\n        if (!connections) return null;\n        try {\n            for(var connections_1 = $17252116aa2ef1fb$var$__values(connections), connections_1_1 = connections_1.next(); !connections_1_1.done; connections_1_1 = connections_1.next()){\n                var connection = connections_1_1.value;\n                if (connection.connectionId === connectionId) return connection;\n            }\n        } catch (e_3_1) {\n            e_3 = {\n                error: e_3_1\n            };\n        } finally{\n            try {\n                if (connections_1_1 && !connections_1_1.done && (_a = connections_1[\"return\"])) _a.call(connections_1);\n            } finally{\n                if (e_3) throw e_3.error;\n            }\n        }\n        return null;\n    };\n    $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._delayedAbort = function(type, message) {\n        var _this = this;\n        setTimeout(function() {\n            _this._abort(type, message);\n        }, 0);\n    };\n    /**\n     * Emits an error message and destroys the Peer.\n     * The Peer is not destroyed if it's in a disconnected state, in which case\n     * it retains its disconnected state and its existing connections.\n     */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._abort = function(type, message) {\n        $96fb85a532fc3748$exports.default.error(\"Aborting!\");\n        this.emitError(type, message);\n        if (!this._lastServerId) this.destroy();\n        else this.disconnect();\n    };\n    /** Emits a typed error message. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.emitError = function(type, err) {\n        $96fb85a532fc3748$exports.default.error(\"Error:\", err);\n        var error;\n        if (typeof err === \"string\") error = new Error(err);\n        else error = err;\n        error.type = type;\n        this.emit(\"error\", error);\n    };\n    /**\n     * Destroys the Peer: closes all active connections as well as the connection\n     *  to the server.\n     * Warning: The peer can no longer create or accept connections after being\n     *  destroyed.\n     */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.destroy = function() {\n        if (this.destroyed) return;\n        $96fb85a532fc3748$exports.default.log(\"Destroy peer with ID:\".concat(this.id));\n        this.disconnect();\n        this._cleanup();\n        this._destroyed = true;\n        this.emit(\"close\");\n    };\n    /** Disconnects every connection on this peer. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._cleanup = function() {\n        var e_4, _a;\n        try {\n            for(var _b = $17252116aa2ef1fb$var$__values(this._connections.keys()), _c = _b.next(); !_c.done; _c = _b.next()){\n                var peerId = _c.value;\n                this._cleanupPeer(peerId);\n                this._connections[\"delete\"](peerId);\n            }\n        } catch (e_4_1) {\n            e_4 = {\n                error: e_4_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n            } finally{\n                if (e_4) throw e_4.error;\n            }\n        }\n        this.socket.removeAllListeners();\n    };\n    /** Closes all connections to this peer. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype._cleanupPeer = function(peerId) {\n        var e_5, _a;\n        var connections = this._connections.get(peerId);\n        if (!connections) return;\n        try {\n            for(var connections_2 = $17252116aa2ef1fb$var$__values(connections), connections_2_1 = connections_2.next(); !connections_2_1.done; connections_2_1 = connections_2.next()){\n                var connection = connections_2_1.value;\n                connection.close();\n            }\n        } catch (e_5_1) {\n            e_5 = {\n                error: e_5_1\n            };\n        } finally{\n            try {\n                if (connections_2_1 && !connections_2_1.done && (_a = connections_2[\"return\"])) _a.call(connections_2);\n            } finally{\n                if (e_5) throw e_5.error;\n            }\n        }\n    };\n    /**\n     * Disconnects the Peer's connection to the PeerServer. Does not close any\n     *  active connections.\n     * Warning: The peer can no longer create or accept connections after being\n     *  disconnected. It also cannot reconnect to the server.\n     */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.disconnect = function() {\n        if (this.disconnected) return;\n        var currentId = this.id;\n        $96fb85a532fc3748$exports.default.log(\"Disconnect peer with ID:\".concat(currentId));\n        this._disconnected = true;\n        this._open = false;\n        this.socket.close();\n        this._lastServerId = currentId;\n        this._id = null;\n        this.emit(\"disconnected\", currentId);\n    };\n    /** Attempts to reconnect with the same ID. */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.reconnect = function() {\n        if (this.disconnected && !this.destroyed) {\n            $96fb85a532fc3748$exports.default.log(\"Attempting reconnection to server with ID \".concat(this._lastServerId));\n            this._disconnected = false;\n            this._initialize(this._lastServerId);\n        } else if (this.destroyed) throw new Error(\"This peer cannot reconnect to the server. It has already been destroyed.\");\n        else if (!this.disconnected && !this.open) // Do nothing. We're still connecting the first time.\n        $96fb85a532fc3748$exports.default.error(\"In a hurry? We're still trying to make the initial connection!\");\n        else throw new Error(\"Peer \".concat(this.id, \" cannot reconnect because it is not disconnected from the server!\"));\n    };\n    /**\n     * Get a list of available peer IDs. If you're running your own server, you'll\n     * want to set allow_discovery: true in the PeerServer options. If you're using\n     * the cloud server, email team@peerjs.com to get the functionality enabled for\n     * your key.\n     */ $17252116aa2ef1fb$export$ecd1fc136c422448.prototype.listAllPeers = function(cb) {\n        var _this = this;\n        if (cb === void 0) cb = function cb(_) {};\n        this._api.listAllPeers().then(function(peers) {\n            return cb(peers);\n        })[\"catch\"](function(error) {\n            return _this._abort($8b9dc3e5f2ea4cc9$export$9547aaa2e39030ff.ServerError, error);\n        });\n    };\n    $17252116aa2ef1fb$export$ecd1fc136c422448.DEFAULT_KEY = \"peerjs\";\n    return $17252116aa2ef1fb$export$ecd1fc136c422448;\n}($b43bf3d87e5977ce$exports.EventEmitter);\n\n\nwindow.peerjs = {\n    Peer: $17252116aa2ef1fb$exports.Peer,\n    util: $7dc43ad2ffa25036$export$7debb50ef11d5e0b\n};\n/** @deprecated Should use peerjs namespace */ window.Peer = $17252116aa2ef1fb$exports.Peer;\n\n})();\n//# sourceMappingURL=peerjs.js.map\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}